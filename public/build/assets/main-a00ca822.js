var e=Object.defineProperty,t=(t,n,r)=>(((t,n,r)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r})(t,"symbol"!=typeof n?n+"":n,r),r);import{Q as n,j as r,u as s,a as i,b as o,k as a}from"./vendor-query-78cda8b8.js";import{a as l,R as c,c as u,g as d,r as p,_ as h,u as f,d as m,e as g,f as v,L as y,N as b,h as x,i as w,O as _,j,k as E,l as S,m as k,n as C,o as T}from"./vendor-core-56622d1d.js";import{c as N,a as P,u as O,b as R,o as I,s as A,f as z,d as L,A as D,m as M,L as U,e as F}from"./vendor-ui-7d465812.js";import{u as $,F as q,a as H}from"./vendor-form-c566d70e.js";var B,V=l;function K(e,t){return function(){return e.apply(t,arguments)}}B=V.createRoot,V.hydrateRoot;const{toString:W}=Object.prototype,{getPrototypeOf:Y}=Object,G=(J=Object.create(null),e=>{const t=W.call(e);return J[t]||(J[t]=t.slice(8,-1).toLowerCase())});var J;const Z=e=>(e=e.toLowerCase(),t=>G(t)===e),X=e=>t=>typeof t===e,{isArray:Q}=Array,ee=X("undefined");const te=Z("ArrayBuffer");const ne=X("string"),re=X("function"),se=X("number"),ie=e=>null!==e&&"object"==typeof e,oe=e=>{if("object"!==G(e))return!1;const t=Y(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},ae=Z("Date"),le=Z("File"),ce=Z("Blob"),ue=Z("FileList"),de=Z("URLSearchParams"),[pe,he,fe,me]=["ReadableStream","Request","Response","Headers"].map(Z);function ge(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),Q(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let o;for(r=0;r<i;r++)o=s[r],t.call(null,e[o],o,e)}}function ve(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,be=e=>!ee(e)&&e!==ye;const xe=(we="undefined"!=typeof Uint8Array&&Y(Uint8Array),e=>we&&e instanceof we);var we;const _e=Z("HTMLFormElement"),je=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ee=Z("RegExp"),Se=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ge(n,((n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)})),Object.defineProperties(e,r)},ke="abcdefghijklmnopqrstuvwxyz",Ce="0123456789",Te={DIGIT:Ce,ALPHA:ke,ALPHA_DIGIT:ke+ke.toUpperCase()+Ce};const Ne=Z("AsyncFunction"),Pe={isArray:Q,isArrayBuffer:te,isBuffer:function(e){return null!==e&&!ee(e)&&null!==e.constructor&&!ee(e.constructor)&&re(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||re(e.append)&&("formdata"===(t=G(e))||"object"===t&&re(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&te(e.buffer),t},isString:ne,isNumber:se,isBoolean:e=>!0===e||!1===e,isObject:ie,isPlainObject:oe,isReadableStream:pe,isRequest:he,isResponse:fe,isHeaders:me,isUndefined:ee,isDate:ae,isFile:le,isBlob:ce,isRegExp:Ee,isFunction:re,isStream:e=>ie(e)&&re(e.pipe),isURLSearchParams:de,isTypedArray:xe,isFileList:ue,forEach:ge,merge:function e(){const{caseless:t}=be(this)&&this||{},n={},r=(r,s)=>{const i=t&&ve(n,s)||s;oe(n[i])&&oe(r)?n[i]=e(n[i],r):oe(r)?n[i]=e({},r):Q(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ge(arguments[s],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(ge(t,((t,r)=>{n&&re(t)?e[r]=K(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&Y(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:G,kindOfTest:Z,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Q(e))return e;let t=e.length;if(!se(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:_e,hasOwnProperty:je,hasOwnProp:je,reduceDescriptors:Se,freezeMethods:e=>{Se(e,((t,n)=>{if(re(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];re(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Q(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ve,global:ye,isContextDefined:be,ALPHABET:Te,generateString:(e=16,t=Te.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&re(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ie(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=Q(e)?[]:{};return ge(e,((e,t)=>{const i=n(e,r+1);!ee(i)&&(s[t]=i)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Ne,isThenable:e=>e&&(ie(e)||re(e))&&re(e.then)&&re(e.catch)};function Oe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}Pe.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Re=Oe.prototype,Ie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ie[e]={value:e}})),Object.defineProperties(Oe,Ie),Object.defineProperty(Re,"isAxiosError",{value:!0}),Oe.from=(e,t,n,r,s,i)=>{const o=Object.create(Re);return Pe.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Oe.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};function Ae(e){return Pe.isPlainObject(e)||Pe.isArray(e)}function ze(e){return Pe.endsWith(e,"[]")?e.slice(0,-2):e}function Le(e,t,n){return e?e.concat(t).map((function(e,t){return e=ze(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const De=Pe.toFlatObject(Pe,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Me(e,t,n){if(!Pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Pe.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Pe.isDate(e))return e.toISOString();if(!a&&Pe.isBlob(e))throw new Oe("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(e)||Pe.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let a=e;if(e&&!s&&"object"==typeof e)if(Pe.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Pe.isArray(e)&&function(e){return Pe.isArray(e)&&!e.some(Ae)}(e)||(Pe.isFileList(e)||Pe.endsWith(n,"[]"))&&(a=Pe.toArray(e)))return n=ze(n),a.forEach((function(e,r){!Pe.isUndefined(e)&&null!==e&&t.append(!0===o?Le([n],r,i):null===o?n:n+"[]",l(e))})),!1;return!!Ae(e)||(t.append(Le(s,n,i),l(e)),!1)}const u=[],d=Object.assign(De,{defaultVisitor:c,convertValue:l,isVisitable:Ae});if(!Pe.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Pe.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Pe.forEach(n,(function(n,i){!0===(!(Pe.isUndefined(n)||null===n)&&s.call(t,n,Pe.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t}function Ue(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Fe(e,t){this._pairs=[],e&&Me(e,this,t)}const $e=Fe.prototype;function qe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function He(e,t,n){if(!t)return e;const r=n&&n.encode||qe,s=n&&n.serialize;let i;if(i=s?s(t,n):Pe.isURLSearchParams(t)?t.toString():new Fe(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}$e.append=function(e,t){this._pairs.push([e,t])},$e.toString=function(e){const t=e?function(t){return e.call(this,t,Ue)}:Ue;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Be=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ve={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ke={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Fe,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},We="undefined"!=typeof window&&"undefined"!=typeof document,Ye=(Ge="undefined"!=typeof navigator&&navigator.product,We&&["ReactNative","NativeScript","NS"].indexOf(Ge)<0);var Ge;const Je="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ze=We&&window.location.href||"http://localhost",Xe={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:We,hasStandardBrowserEnv:Ye,hasStandardBrowserWebWorkerEnv:Je,origin:Ze},Symbol.toStringTag,{value:"Module"})),...Ke};function Qe(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),a=s>=e.length;if(i=!i&&Pe.isArray(r)?r.length:i,a)return Pe.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o;r[i]&&Pe.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&Pe.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!o}if(Pe.isFormData(e)&&Pe.isFunction(e.entries)){const n={};return Pe.forEachEntry(e,((e,r)=>{t(function(e){return Pe.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const et={transitional:Ve,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=Pe.isObject(e);s&&Pe.isHTMLForm(e)&&(e=new FormData(e));if(Pe.isFormData(e))return r?JSON.stringify(Qe(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Me(e,new Xe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Xe.isNode&&Pe.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Pe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Me(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(Pe.isString(e))try{return(t||JSON.parse)(e),Pe.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||et.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw Oe.from(s,Oe.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xe.classes.FormData,Blob:Xe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],(e=>{et.headers[e]={}}));const tt=et,nt=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rt=Symbol("internals");function st(e){return e&&String(e).trim().toLowerCase()}function it(e){return!1===e||null==e?e:Pe.isArray(e)?e.map(it):String(e)}function ot(e,t,n,r,s){return Pe.isFunction(r)?r.call(this,t,n):(s&&(t=n),Pe.isString(t)?Pe.isString(r)?-1!==t.indexOf(r):Pe.isRegExp(r)?r.test(t):void 0:void 0)}class at{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=st(t);if(!s)throw new Error("header name must be a non-empty string");const i=Pe.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=it(e))}const i=(e,t)=>Pe.forEach(e,((e,n)=>s(e,n,t)));if(Pe.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Pe.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&nt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Pe.isHeaders(e))for(const[o,a]of e.entries())s(a,o,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=st(e)){const n=Pe.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Pe.isFunction(t))return t.call(this,e,n);if(Pe.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=st(e)){const n=Pe.findKey(this,e);return!(!n||void 0===this[n]||t&&!ot(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=st(e)){const s=Pe.findKey(n,e);!s||t&&!ot(0,n[s],s,t)||(delete n[s],r=!0)}}return Pe.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!ot(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return Pe.forEach(this,((r,s)=>{const i=Pe.findKey(n,s);if(i)return t[i]=it(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();o!==s&&delete t[s],t[o]=it(r),n[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Pe.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Pe.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[rt]=this[rt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=st(e);t[r]||(!function(e,t){const n=Pe.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return Pe.isArray(e)?e.forEach(r):r(e),this}}at.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Pe.reduceDescriptors(at.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),Pe.freezeMethods(at);const lt=at;function ct(e,t){const n=this||tt,r=t||n,s=lt.from(r.headers);let i=r.data;return Pe.forEach(e,(function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function ut(e){return!(!e||!e.__CANCEL__)}function dt(e,t,n){Oe.call(this,null==e?"canceled":e,Oe.ERR_CANCELED,t,n),this.name="CanceledError"}function pt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Oe("Request failed with status code "+n.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}Pe.inherits(dt,Oe,{__CANCEL__:!0});const ht=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];s||(s=l),n[i]=a,r[i]=l;let u=o,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}}(50,250);return function(e,t){let n=0;const r=1e3/t;let s=null;return function(){const t=!0===this,i=Date.now();if(t||i-n>r)return s&&(clearTimeout(s),s=null),n=i,e.apply(null,arguments);s||(s=setTimeout((()=>(s=null,n=Date.now(),e.apply(null,arguments))),r-(i-n)))}}((n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,a=i-r,l=s(a);r=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&i<=o?(o-i)/l:void 0,event:n,lengthComputable:null!=o};c[t?"download":"upload"]=!0,e(c)}),n)},ft=Xe.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Pe.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},mt=Xe.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];Pe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Pe.isString(r)&&o.push("path="+r),Pe.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function gt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const vt=e=>e instanceof lt?{...e}:e;function yt(e,t){t=t||{};const n={};function r(e,t,n){return Pe.isPlainObject(e)&&Pe.isPlainObject(t)?Pe.merge.call({caseless:n},e,t):Pe.isPlainObject(t)?Pe.merge({},t):Pe.isArray(t)?t.slice():t}function s(e,t,n){return Pe.isUndefined(t)?Pe.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!Pe.isUndefined(t))return r(void 0,t)}function o(e,t){return Pe.isUndefined(t)?Pe.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>s(vt(e),vt(t),!0)};return Pe.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||s,o=i(e[r],t[r],r);Pe.isUndefined(o)&&i!==a||(n[r]=o)})),n}const bt=e=>{const t=yt({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=lt.from(a),t.url=He(gt(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Pe.isFormData(r))if(Xe.hasStandardBrowserEnv||Xe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Xe.hasStandardBrowserEnv&&(s&&Pe.isFunction(s)&&(s=s(t)),s||!1!==s&&ft(t.url))){const e=i&&o&&mt.read(o);e&&a.set(i,e)}return t},xt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=bt(e);let s=r.data;const i=lt.from(r.headers).normalize();let o,{responseType:a}=r;function l(){r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let c=new XMLHttpRequest;function u(){if(!c)return;const r=lt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());pt((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}c.open(r.method.toUpperCase(),r.url,!0),c.timeout=r.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new Oe("Request aborted",Oe.ECONNABORTED,r,c)),c=null)},c.onerror=function(){n(new Oe("Network Error",Oe.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const t=r.transitional||Ve;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new Oe(e,t.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,r,c)),c=null},void 0===s&&i.setContentType(null),"setRequestHeader"in c&&Pe.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),Pe.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),a&&"json"!==a&&(c.responseType=r.responseType),"function"==typeof r.onDownloadProgress&&c.addEventListener("progress",ht(r.onDownloadProgress,!0)),"function"==typeof r.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",ht(r.onUploadProgress)),(r.cancelToken||r.signal)&&(o=t=>{c&&(n(!t||t.type?new dt(null,e,c):t),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);d&&-1===Xe.protocols.indexOf(d)?n(new Oe("Unsupported protocol "+d+":",Oe.ERR_BAD_REQUEST,e)):c.send(s||null)}))},wt=(e,t)=>{let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Oe?t:new dt(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{s(new Oe(`timeout ${t} of ms exceeded`,Oe.ETIMEDOUT))}),t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",s):e.unsubscribe(s))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",s)));const{signal:a}=r;return a.unsubscribe=o,[a,()=>{i&&clearTimeout(i),i=null}]},_t=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},jt=(e,t,n,r,s)=>{const i=async function*(e,t,n){for await(const r of e)yield*_t(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,s);let o=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:s}=await i.next();if(t)return e.close(),void r();let a=s.byteLength;n&&n(o+=a),e.enqueue(new Uint8Array(s))},cancel:e=>(r(e),i.return())},{highWaterMark:2})},Et=(e,t)=>{const n=null!=e;return r=>setTimeout((()=>t({lengthComputable:n,total:e,loaded:r})))},St="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,kt=St&&"function"==typeof ReadableStream,Ct=St&&("function"==typeof TextEncoder?(Tt=new TextEncoder,e=>Tt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Tt;const Nt=kt&&(()=>{let e=!1;const t=new Request(Xe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Pt=kt&&!!(()=>{try{return Pe.isReadableStream(new Response("").body)}catch(e){}})(),Ot={stream:Pt&&(e=>e.body)};var Rt;St&&(Rt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ot[e]&&(Ot[e]=Pe.isFunction(Rt[e])?t=>t[e]():(t,n)=>{throw new Oe(`Response type '${e}' is not supported`,Oe.ERR_NOT_SUPPORT,n)})})));const It=async(e,t)=>{const n=Pe.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:Pe.isBlob(e)?e.size:Pe.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:Pe.isArrayBufferView(e)?e.byteLength:(Pe.isURLSearchParams(e)&&(e+=""),Pe.isString(e)?(await Ct(e)).byteLength:void 0))(t):n},At={http:null,xhr:xt,fetch:St&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:p}=bt(e);c=c?(c+"").toLowerCase():"text";let h,f,[m,g]=s||i||o?wt([s,i],o):[];const v=()=>{!h&&setTimeout((()=>{m&&m.unsubscribe()})),h=!0};let y;try{if(l&&Nt&&"get"!==n&&"head"!==n&&0!==(y=await It(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});Pe.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body&&(r=jt(n.body,65536,Et(y,ht(l)),null,Ct))}Pe.isString(d)||(d=d?"cors":"omit"),f=new Request(t,{...p,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let s=await fetch(f);const i=Pt&&("stream"===c||"response"===c);if(Pt&&(a||i)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=Pe.toFiniteNumber(s.headers.get("content-length"));s=new Response(jt(s.body,65536,a&&Et(t,ht(a,!0)),i&&v,Ct),e)}c=c||"text";let o=await Ot[Pe.findKey(Ot,c)||"text"](s,e);return!i&&v(),g&&g(),await new Promise(((t,n)=>{pt(t,n,{data:o,headers:lt.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(b){if(v(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,e,f),{cause:b.cause||b});throw Oe.from(b,b&&b.code,e,f)}})};Pe.forEach(At,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const zt=e=>`- ${e}`,Lt=e=>Pe.isFunction(e)||null===e||!1===e,Dt=e=>{e=Pe.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Lt(n)&&(r=At[(t=String(n)).toLowerCase()],void 0===r))throw new Oe(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new Oe("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(zt).join("\n"):" "+zt(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function Mt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dt(null,e)}function Ut(e){Mt(e),e.headers=lt.from(e.headers),e.data=ct.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Dt(e.adapter||tt.adapter)(e).then((function(t){return Mt(e),t.data=ct.call(e,e.transformResponse,t),t.headers=lt.from(t.headers),t}),(function(t){return ut(t)||(Mt(e),t&&t.response&&(t.response.data=ct.call(e,e.transformResponse,t.response),t.response.headers=lt.from(t.response.headers))),Promise.reject(t)}))}const Ft="1.7.2",$t={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{$t[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const qt={};$t.transitional=function(e,t,n){return(r,s,i)=>{if(!1===e)throw new Oe(function(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}(s," has been removed"+(t?" in "+t:"")),Oe.ERR_DEPRECATED);return t&&!qt[s]&&(qt[s]=!0),!e||e(r,s,i)}};const Ht={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const t=e[i],n=void 0===t||o(t,i,e);if(!0!==n)throw new Oe("option "+i+" must be "+n,Oe.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Oe("Unknown option "+i,Oe.ERR_BAD_OPTION)}},validators:$t},Bt=Ht.validators;class Vt{constructor(e){this.defaults=e,this.interceptors={request:new Be,response:new Be}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=yt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Ht.assertOptions(n,{silentJSONParsing:Bt.transitional(Bt.boolean),forcedJSONParsing:Bt.transitional(Bt.boolean),clarifyTimeoutError:Bt.transitional(Bt.boolean)},!1),null!=r&&(Pe.isFunction(r)?t.paramsSerializer={serialize:r}:Ht.assertOptions(r,{encode:Bt.function,serialize:Bt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&Pe.merge(s.common,s[t.method]);s&&Pe.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=lt.concat(i,s);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Ut.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let p=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=Ut.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return He(gt((e=yt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Pe.forEach(["delete","get","head","options"],(function(e){Vt.prototype[e]=function(t,n){return this.request(yt(n||{},{method:e,url:t,data:(n||{}).data}))}})),Pe.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(yt(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Vt.prototype[e]=t(),Vt.prototype[e+"Form"]=t(!0)}));const Kt=Vt;class Wt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new dt(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Wt((function(t){e=t})),cancel:e}}}const Yt=Wt;const Gt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gt).forEach((([e,t])=>{Gt[t]=e}));const Jt=Gt;const Zt=function e(t){const n=new Kt(t),r=K(Kt.prototype.request,n);return Pe.extend(r,Kt.prototype,n,{allOwnKeys:!0}),Pe.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(yt(t,n))},r}(tt);Zt.Axios=Kt,Zt.CanceledError=dt,Zt.CancelToken=Yt,Zt.isCancel=ut,Zt.VERSION=Ft,Zt.toFormData=Me,Zt.AxiosError=Oe,Zt.Cancel=Zt.CanceledError,Zt.all=function(e){return Promise.all(e)},Zt.spread=function(e){return function(t){return e.apply(null,t)}},Zt.isAxiosError=function(e){return Pe.isObject(e)&&!0===e.isAxiosError},Zt.mergeConfig=yt,Zt.AxiosHeaders=lt,Zt.formToJSON=e=>Qe(Pe.isHTMLForm(e)?new FormData(e):e),Zt.getAdapter=Dt,Zt.HttpStatusCode=Jt,Zt.default=Zt;const Xt=Zt;let Qt=0;function en(e){Qt=e}function tn(e){return!!e&&/^[a-zA-Z][a-zA-Z\d+\-.]*?:/.test(e)}function nn(e,t){var n;return Xt.isAxiosError(e)&&(null==(n=e.response)?void 0:n.status)==t}const rn=new n({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:(e,t)=>!nn(t,401)&&!nn(t,403)&&!nn(t,404)&&e<2},mutations:{retry:1}}}),sn=Xt.create();sn.defaults.withCredentials=!0,sn.defaults.responseType="json",sn.defaults.headers={common:{Accept:"application/json"}};const on=["auth","secure","log-viewer","horizon"];sn.interceptors.request.use((e=>{var t,n,r,s,i,o;on.some((t=>{var n;return null==(n=e.url)?void 0:n.startsWith(t)}))||tn(null==e?void 0:e.url)||(e.url=`api/v1/${e.url}`);const a=null==(t=e.method)?void 0:t.toUpperCase();"GET"===a&&Array.isArray(null==(n=e.params)?void 0:n.with)&&(e.params.with=e.params.with.join(",")),"GET"===a&&Array.isArray(null==(r=e.params)?void 0:r.load)&&(e.params.load=e.params.load.join(",")),"GET"===a&&Array.isArray(null==(s=e.params)?void 0:s.loadCount)&&(e.params.loadCount=e.params.loadCount.join(","));const l=Qt;if(l){const t=null==(i=e.method)?void 0:i.toLowerCase();["get","post","put"].includes(t)&&null==(null==(o=e.params)?void 0:o.workspaceId)&&(e.params={...e.params,workspaceId:l})}return"PUT"!==a&&"DELETE"!==a&&"PATCH"!==a||(e.headers={...e.headers,"X-HTTP-Method-Override":a},e.method="POST",e.params={...e.params,_method:a}),e})),sn.interceptors.response.use((e=>e),(e=>Promise.reject(e)));const an=c.createContext(null);function ln(e,t){return{...t,message:e}}const cn=""+new URL("general_top-26f8c7f2.jpg",import.meta.url).href,un=""+new URL("title_top-10fd7c9b.jpg",import.meta.url).href,dn=""+new URL("person_top-57e57d80.jpg",import.meta.url).href,pn=""+new URL("general_bottom-e27cf306.jpg",import.meta.url).href,hn=""+new URL("watch_top-6272eec3.jpg",import.meta.url).href;var fn,mn,gn={exports:{}};(fn=gn).exports=(mn=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E\'","Ը":"Y\'","Թ":"T\'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C\'","Կ":"K","Հ":"H","Ձ":"D\'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R\'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P\'","Ք":"Q\'","Օ":"O\'\'","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"\'","’":"\'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}'),t=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function n(n,r){if("string"!=typeof n)throw new Error("slugify: string argument expected");var s=t[(r="string"==typeof r?{replacement:r}:r||{}).locale]||{},i=void 0===r.replacement?"-":r.replacement,o=void 0===r.trim||r.trim,a=n.normalize().split("").reduce((function(t,n){var o=s[n];return void 0===o&&(o=e[n]),void 0===o&&(o=n),o===i&&(o=" "),t+o.replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return r.strict&&(a=a.replace(/[^A-Za-z0-9\s]/g,"")),o&&(a=a.trim()),a=a.replace(/\s+/g,i),r.lower&&(a=a.toLowerCase()),a}return n.extend=function(t){Object.assign(e,t)},n})(),fn.exports.default=mn();const vn=d(gn.exports);function yn(e,t="-",n=!1){if(!e)return e;let r=vn(e,{lower:!0,replacement:t,strict:n,remove:/[*+~.()'"!:@?\|/\\#]/g});return r||(r=e.replace(/\s+/g,"-").toLowerCase()),r}const bn={homepage:{options:[{label:ln("Landing page"),value:"landingPage"}]},auth:{redirectUri:"/",adminRedirectUri:"/admin",getUserProfileLink:function(e){return`/user/${e.id}/${yn(e.name)}`}},admin:{channelsDocsLink:"https://support.vebto.com/hc/articles/35/38/220/channels",ads:[{image:cn,slot:"ads.general_top",description:ln("Appears at the top of most pages. Best size <= 150px height or responsive.")},{image:pn,slot:"ads.general_bottom",description:ln("Appears at the bottom of most pages. Best size <= 150px height or responsive.")},{image:un,slot:"ads.title_top",description:ln("Appears in title page only (after plot summary). Best size <= 850px width or responsive.")},{image:dn,slot:"ads.person_top",description:ln("Appears in person page only (after biography). Best size <= 850px width or responsive.")},{image:hn,slot:"ads.watch_top",description:ln("Appears in watch page only (below video player). Best size is as wide as possible or responsive.")}]}};var xn=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===wn}(e)}(e)};var wn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function _n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Cn((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function jn(e,t,n){return e.concat(t).map((function(e){return _n(e,n)}))}function En(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function Sn(e,t){try{return t in e}catch(n){return!1}}function kn(e,t,n){var r={};return n.isMergeableObject(e)&&En(e).forEach((function(t){r[t]=_n(e[t],n)})),En(t).forEach((function(s){(function(e,t){return Sn(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,s)||(Sn(e,s)&&n.isMergeableObject(t[s])?r[s]=function(e,t){if(!t.customMerge)return Cn;var n=t.customMerge(e);return"function"==typeof n?n:Cn}(s,n)(e[s],t[s],n):r[s]=_n(t[s],n))})),r}function Cn(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||jn,n.isMergeableObject=n.isMergeableObject||xn,n.cloneUnlessOtherwiseSpecified=_n;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):kn(e,t,n):_n(t,n)}Cn.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Cn(e,n,t)}),{})};const Tn=d(Cn),Nn=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,i={setState:r,getState:s,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{n.clear()}},o=t=e(r,s,i);return i},Pn=e=>e?Nn(e):Nn;var On={exports:{}},Rn={},In={exports:{}},An={},zn=p;var Ln="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Dn=zn.useState,Mn=zn.useEffect,Un=zn.useLayoutEffect,Fn=zn.useDebugValue;function $n(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch(r){return!0}}var qn="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=Dn({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Un((function(){s.value=n,s.getSnapshot=t,$n(s)&&i({inst:s})}),[e,n,t]),Mn((function(){return $n(s)&&i({inst:s}),e((function(){$n(s)&&i({inst:s})}))}),[e]),Fn(n),n};An.useSyncExternalStore=void 0!==zn.useSyncExternalStore?zn.useSyncExternalStore:qn,In.exports=An;var Hn=In.exports,Bn=p,Vn=Hn;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Wn=Vn.useSyncExternalStore,Yn=Bn.useRef,Gn=Bn.useEffect,Jn=Bn.useMemo,Zn=Bn.useDebugValue;Rn.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Yn(null);if(null===i.current){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Jn((function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==s&&o.hasValue){var t=o.value;if(s(t,e))return a=t}return a=e}if(t=a,Kn(i,e))return t;var n=r(e);return void 0!==s&&s(t,n)?t:(i=e,a=n)}var i,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,s]);var a=Wn(e,i[0],i[1]);return Gn((function(){o.hasValue=!0,o.value=a}),[a]),Zn(a),a},On.exports=Rn;const Xn=d(On.exports),{useDebugValue:Qn}=c,{useSyncExternalStoreWithSelector:er}=Xn;const tr=e=>e;const nr=e=>{const t="function"==typeof e?Pn(e):e,n=(e,n)=>function(e,t=tr,n){const r=er(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Qn(r),r}(t,e,n);return Object.assign(n,t),n},rr=e=>e?nr(e):nr;var sr=Symbol.for("immer-nothing"),ir=Symbol.for("immer-draftable"),or=Symbol.for("immer-state");function ar(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lr=Object.getPrototypeOf;function cr(e){return!!e&&!!e[or]}function ur(e){var t;return!!e&&(pr(e)||Array.isArray(e)||!!e[ir]||!!(null==(t=e.constructor)?void 0:t[ir])||vr(e)||yr(e))}var dr=Object.prototype.constructor.toString();function pr(e){if(!e||"object"!=typeof e)return!1;const t=lr(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===dr}function hr(e,t){0===fr(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function fr(e){const t=e[or];return t?t.type_:Array.isArray(e)?1:vr(e)?2:yr(e)?3:0}function mr(e,t){return 2===fr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gr(e,t,n){const r=fr(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function vr(e){return e instanceof Map}function yr(e){return e instanceof Set}function br(e){return e.copy_||e.base_}function xr(e,t){if(vr(e))return new Map(e);if(yr(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=pr(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[or];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const s=n[r],i=t[s];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[s]})}return Object.create(lr(e),t)}{const t=lr(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function wr(e,t=!1){return jr(e)||cr(e)||!ur(e)||(fr(e)>1&&(e.set=e.add=e.clear=e.delete=_r),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>wr(t,!0)))),e}function _r(){ar(2)}function jr(e){return Object.isFrozen(e)}var Er,Sr={};function kr(e){const t=Sr[e];return t||ar(0),t}function Cr(){return Er}function Tr(e,t){t&&(kr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nr(e){Pr(e),e.drafts_.forEach(Rr),e.drafts_=null}function Pr(e){e===Er&&(Er=e.parent_)}function Or(e){return Er={drafts_:[],parent_:Er,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rr(e){const t=e[or];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ir(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[or].modified_&&(Nr(t),ar(4)),ur(e)&&(e=Ar(t,e),t.parent_||Lr(t,e)),t.patches_&&kr("Patches").generateReplacementPatches_(n[or].base_,e,t.patches_,t.inversePatches_)):e=Ar(t,n,[]),Nr(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sr?e:void 0}function Ar(e,t,n){if(jr(t))return t;const r=t[or];if(!r)return hr(t,((s,i)=>zr(e,r,t,s,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Lr(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let s=t,i=!1;3===r.type_&&(s=new Set(t),t.clear(),i=!0),hr(s,((s,o)=>zr(e,r,t,s,o,n,i))),Lr(e,t,!1),n&&e.patches_&&kr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function zr(e,t,n,r,s,i,o){if(cr(s)){const o=Ar(e,s,i&&t&&3!==t.type_&&!mr(t.assigned_,r)?i.concat(r):void 0);if(gr(n,r,o),!cr(o))return;e.canAutoFreeze_=!1}else o&&n.add(s);if(ur(s)&&!jr(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ar(e,s),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Lr(e,s)}}function Lr(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wr(t,n)}var Dr={get(e,t){if(t===or)return e;const n=br(e);if(!mr(n,t))return function(e,t,n){var r;const s=Fr(t,n);return s?"value"in s?s.value:null==(r=s.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ur(r)?r:r===Ur(e.base_,t)?(qr(e),e.copy_[t]=Hr(r,e)):r},has:(e,t)=>t in br(e),ownKeys:e=>Reflect.ownKeys(br(e)),set(e,t,n){const r=Fr(br(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Ur(br(e),t),o=null==r?void 0:r[or];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((s=n)===(i=r)?0!==s||1/s==1/i:s!=s&&i!=i)&&(void 0!==n||mr(e.base_,t)))return!0;qr(e),$r(e)}var s,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Ur(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,qr(e),$r(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=br(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){ar(11)},getPrototypeOf:e=>lr(e.base_),setPrototypeOf(){ar(12)}},Mr={};function Ur(e,t){const n=e[or];return(n?br(n):e)[t]}function Fr(e,t){if(!(t in e))return;let n=lr(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=lr(n)}}function $r(e){e.modified_||(e.modified_=!0,e.parent_&&$r(e.parent_))}function qr(e){e.copy_||(e.copy_=xr(e.base_,e.scope_.immer_.useStrictShallowCopy_))}hr(Dr,((e,t)=>{Mr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Mr.deleteProperty=function(e,t){return Mr.set.call(this,e,t,void 0)},Mr.set=function(e,t,n){return Dr.set.call(this,e[0],t,n,e[0])};function Hr(e,t){const n=vr(e)?kr("MapSet").proxyMap_(e,t):yr(e)?kr("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Cr(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=Dr;n&&(s=[r],i=Mr);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}(e,t);return(t?t.scope_:Cr()).drafts_.push(n),n}function Br(e){if(!ur(e)||jr(e))return e;const t=e[or];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=xr(e,t.scope_.immer_.useStrictShallowCopy_)}else n=xr(e,!0);return hr(n,((e,t)=>{gr(n,e,Br(t))})),t&&(t.finalized_=!1),n}var Vr=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...s){return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!=typeof t&&ar(6),void 0!==n&&"function"!=typeof n&&ar(7),ur(e)){const s=Or(this),i=Hr(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?Nr(s):Pr(s)}return Tr(s,n),Ir(r,s)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===sr&&(r=void 0),this.autoFreeze_&&wr(r,!0),n){const t=[],s=[];kr("Patches").generateReplacementPatches_(e,r,t,s),n(t,s)}return r}ar(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ur(e)||ar(8),cr(e)&&(e=function(e){cr(e)||ar(10);return Br(e)}(e));const t=Or(this),n=Hr(e,void 0);return n[or].isManual_=!0,Pr(t),n}finishDraft(e,t){const n=e&&e[or];n&&n.isManual_||ar(9);const{scope_:r}=n;return Tr(r,t),Ir(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=kr("Patches").applyPatches_;return cr(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Kr=Vr.produce;Vr.produceWithPatches.bind(Vr),Vr.setAutoFreeze.bind(Vr),Vr.setUseStrictShallowCopy.bind(Vr),Vr.applyPatches.bind(Vr),Vr.createDraft.bind(Vr),Vr.finishDraft.bind(Vr);const Wr=e=>(t,n,r)=>(r.setState=(e,n,...r)=>{const s="function"==typeof e?Kr(e):e;return t(s,n,...r)},e(r.setState,n,r));let Yr=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};class Gr{constructor(e,n){t(this,"timerId"),t(this,"createdAt",0),this.callback=e,this.remaining=n,this.resume()}pause(){clearTimeout(this.timerId),this.remaining-=Date.now()-this.createdAt}resume(){this.createdAt=Date.now(),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}clear(){clearTimeout(this.timerId)}}const Jr=rr()(Wr(((e,t)=>({toasts:[],add:(n,r)=>{const s=t().toasts.length+1-1;s>0&&e((e=>{e.toasts.splice(0,s)}));const i=(null==r?void 0:r.id)||Yr(6),o=(null==r?void 0:r.type)||"positive",a=(null==r?void 0:r.duration)??function(e){switch(e){case"danger":return 8e3;case"loading":return 0;default:return 3e3}}(o),l={timer:a>0?new Gr((()=>t().remove(i)),a):null,message:n,...r,id:i,type:o,position:(null==r?void 0:r.position)||"bottom-center",duration:a,disableExitAnimation:null==r?void 0:r.disableExitAnimation,disableEnterAnimation:null==r?void 0:r.disableEnterAnimation},c=t().toasts.findIndex((e=>e.id===l.id));e(c>-1?e=>{e.toasts[c]=l}:e=>{e.toasts.push(l)})},remove:n=>{const r=t().toasts.filter((e=>{var t;return n!==e.id||(null==(t=e.timer)||t.clear(),!1)}));e((e=>{e.toasts=r}))}}))));function Zr(){return Jr.getState()}function Xr(e,t){Zr().add(e,t)}Xr.danger=(e,t)=>{Zr().add(e,{...t,type:"danger"})},Xr.positive=(e,t)=>{Zr().add(e,{...t,type:"positive"})},Xr.loading=(e,t)=>{Zr().add(e,{...t,type:"loading"})};const Qr={fetchUserWorkspaces:["user-workspaces"],workspaceWithMembers:e=>["workspace-with-members",e]},es=0;const ts=new Set,ns=(e,t)=>{const n={name:e,callback:t};return ts.add(n),()=>{ts.delete(n)}};const rs=(e,t,n)=>{const r={days:7,path:"/",...n},s=new Date(Date.now()+864e5*r.days).toUTCString();document.cookie=e+"="+encodeURIComponent(t)+"; expires="+s+function(e){return Object.keys(e).reduce(((t,n)=>{const r=n;return"days"===r||!1===e[r]?t:!0===e[r]?`${t}; ${r}`:`${t}; ${r}=${e[r]}`}),"")}(r),ts.forEach((n=>{n.name===e&&n.callback(t)}))};function ss(e,t){const[n,r]=p.useState((()=>function(e,t=""){return document.cookie&&document.cookie.split("; ").reduce(((t,n)=>{const r=n.split("=");return r[0]===e?decodeURIComponent(r[1]):t}),"")||t}(e,t)));p.useEffect((()=>ns(e,(e=>{r(e)}))),[e]);return[n,p.useCallback(((t,n)=>{r(t),rs(e,t,n)}),[e])]}const is=c.createContext({workspaceId:null,setWorkspaceId:()=>{}});function os({children:e}){const[t,n]=ss("activeWorkspaceId",`${es}`);p.useEffect((()=>(en(parseInt(t)),()=>{en(0)})),[t]);const s=p.useMemo((()=>({workspaceId:parseInt(t),setWorkspaceId:e=>{n(`${e}`)}})),[t,n]);return r.jsx(is.Provider,{value:s,children:e})}const as="notifications";function ls(e){return s({queryKey:ls.key,queryFn:()=>function(e){return sn.get(as,{params:e}).then((e=>e.data))}(e)})}function cs(e,t){var n;if(Xt.isAxiosError(e)&&e.response){const r=e.response.data;if(null!=t){const e=null==(n=r.errors)?void 0:n[t];return Array.isArray(e)?e[0]:e}return null==r?void 0:r.message}}ls.key=[as];const us="undefined"!=typeof document?c.useLayoutEffect:()=>{},ds=(String(Math.round(1e10*Math.random())),c.createContext(!1));Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);function ps(){return!1}function hs(){return!0}function fs(e){return()=>{}}function ms(){return"function"==typeof c.useSyncExternalStore?c.useSyncExternalStore(fs,ps,hs):p.useContext(ds)}c.useId;let gs=new Map;function vs(e,t){if(e===t)return e;let n=gs.get(e);if(n)return n(t),t;let r=gs.get(t);return r?(r(e),e):t}function ys(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}const bs=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},xs=e=>{if(e&&"window"in e&&e.window===e)return e;return bs(e).defaultView||window};function ws(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],s=r[e];"function"==typeof n&&"function"==typeof s&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=ys(n,s):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof s?"id"===e&&n&&s?t.id=vs(n,s):t[e]=void 0!==s?s:n:t[e]=N(n,s)}}return t}function _s(e){if(function(){if(null==js){js=!1;try{document.createElement("div").focus({get preventScroll(){return js=!0,!0}})}catch(e){}}return js}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}let js=null;function Es(){return e=/^Mac/i,"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform);var e,t}function Ss(){return e=/Android/i,"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent));var e,t}let ks=new Map,Cs=new Set;function Ts(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=ks.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),ks.delete(n.target)),0===ks.size)){for(let e of Cs)e();Cs.clear()}};document.body.addEventListener("transitionrun",(n=>{if(!e(n)||!n.target)return;let r=ks.get(n.target);r||(r=new Set,ks.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)})),document.body.addEventListener("transitionend",t)}function Ns(e){const t=p.useRef(null);return p.useMemo((()=>({get current(){return t.current},set current(n){t.current=n,"function"==typeof e?e(n):e&&(e.current=n)}})),[e])}"undefined"!=typeof document&&("loading"!==document.readyState?Ts():document.addEventListener("DOMContentLoaded",Ts));let Ps="undefined"!=typeof document&&window.visualViewport;function Os(){return{width:Ps&&(null==Ps?void 0:Ps.width)||window.innerWidth,height:Ps&&(null==Ps?void 0:Ps.height)||window.innerHeight}}function Rs(e,t,n){let[r,s]=p.useState(e||t),i=p.useRef(void 0!==e),o=void 0!==e;p.useEffect((()=>{i.current;i.current=o}),[o]);let a=o?e:r,l=p.useCallback(((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(a,e)||n(e,...t)),o||(a=e)};if("function"==typeof e){s(((n,...s)=>{let i=e(o?a:n,...s);return r(i,...t),o?n:i}))}else o||s(e),r(e,...t)}),[o,a,n]);return[a,l]}const Is=c.createContext(null);function As(){return p.useContext(Is)}var zs={exports:{}};!function(e){(function(){var t=Object.assign;function n(e,n){n||(n={});var r,s,i,o=n.vargs||function(e){var t=e+"",n=t.indexOf("...");return n>=0&&(n<t.indexOf(")")||t.indexOf("arguments")>=0)}(e),a=Object.create(null),l=[],c=[],u=new WeakMap,d=n.maxAge>0&&n.maxAge<1/0?function(e,t,r){return setTimeout((function(){if(r)return t.splice(e,1),void r.splice(e,1);t instanceof WeakMap?t.delete(e):delete t[e]}),n.maxAge)}:0,p=n.equals?n.equals:function(e,t){return e===t},h=n.maxArgs,f=n.serializer;return 1!==e.length||n.equals||o?s=function(){var t=arguments.length;if(!t&&null!=r)return c[r];var n,s=h||t;for(n=l.length-1;n>=0;n--)if(h||l[n].length===s)for(var i=s-1;i>=0&&p(l[n][i],arguments[i]);i--)if(0===i)return c[n];return n=l.length-(n+1),t||null!=r||(r=n),!d||d(n,c,l),c[n]=e.apply(this,l[n]=arguments)}.bind(this):(s=function(t){var n,r=typeof t;if(!f&&("object"===r&&t||"function"===r))return u.get(t)||(!d||d(t,u),u.set(t,n=e.call(this,t)),n);var s="number"===r||"boolean"===r||null==t?t:"string"===r?JSON.stringify(t):f(t);return a[s]||(!d||d(s,a),a[s]=e.call(this,t))}.bind(this),i=1),s.clear=function(){u=new WeakMap,a=Object.create(null),l=[],c=[],r=void 0},s.keys=function(){return i?null:l.slice()},s.values=function(){return i?null:c.slice()},s.keyValues=function(){return i?{primitives:t({},a),objects:u}:null},s}"function"!=typeof t&&(t=function(){var e=arguments,t=arguments[0];if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var n=1;n<e.length;n++)if(e[n]&&"object"==typeof e[n])for(var r in e[n])t[r]=e[n][r];return t}),e.exports=n,"undefined"!=typeof window&&(window.nanomemoize=n)}).call(u)}(zs);const Ls=d(zs.exports),Ds=rr()((e=>({data:"undefined"!=typeof window&&window.bootstrapData?$s(window.bootstrapData):null,setData:t=>{const n="string"==typeof t?$s(t):t;e({data:n})},mergeData:t=>{e((e=>({data:{...e.data,...t}})))}}))),Ms=()=>Ds.getState().data,Us=Ds.getState().setData,Fs=Ds.getState().mergeData;function $s(e){return"string"==typeof e?JSON.parse(e):e}function qs(){var e,t;const n=Ds((e=>e.data));return{locale:null==n?void 0:n.i18n,localeCode:(null==(e=null==n?void 0:n.i18n)?void 0:e.language)||"en",lines:null==(t=null==n?void 0:n.i18n)?void 0:t.lines}}function Hs(e,{message:t,values:n}){const r=t.match(/\[(.+?)]/),s=null==n?void 0:n.count;if(r&&r[1]&&!Number.isNaN(s)){const[n,i]=r,o=i.split("|");if(!o.length)return t;const a=Bs(e).select(s);let l=o.find((e=>e.startsWith(a)));l||(l=o[0]);const c=l.substring(l.indexOf(" ")+1);return t.replace(n,c)}return t}const Bs=Ls((e=>new Intl.PluralRules(e)));function Vs(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),s=n.length;if(r.length!==s)return!1;for(let i=0;i<s;i++){const r=n[i];if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1}return!0}function Ks(){const{lines:e,localeCode:t}=qs();return{trans:p.useCallback((n=>Ws({...n,lines:e,localeCode:t})),[e,t])}}const Ws=Ls((e=>{let{lines:t,message:n,values:r,localeCode:s}=e;return null==n?"":(n=(null==t?void 0:t[n])||(null==t?void 0:t[n.toLowerCase()])||n,r?(n=Hs(s,e),Object.entries(r).forEach((([e,t])=>{n=n.replace(`:${e}`,`${t}`)})),n):n)}),{equals:Vs,callTimeout:0});function Ys({onDismiss:e}){const{trans:t}=Ks();return r.jsx("button",{className:"sr-only","aria-label":t(ln("Dismiss")),tabIndex:-1,onClick:()=>{e&&e()}})}function Gs(e){const{type:t="modal",dialogProps:n,...s}=p.useContext(Is),{children:i,className:o,size:a="md",background:l,radius:c="rounded-lg",maxWidth:u="max-w-dialog",maxHeight:d="max-h-dialog",shadow:h="shadow-2xl",...f}=e;let m=null;"popover"!==t&&"tray"!==t||(m=r.jsx(Ys,{onDismiss:s.close}));const g="fullscreenTakeover"===a||"tray"===t,v=N("mx-auto pointer-events-auto outline-none flex flex-col overflow-hidden",l||"bg","tray"!==t&&function(e){switch(e){case"2xs":return"w-256";case"xs":return"w-320";case"sm":return"w-384";case"md":return"w-440";case"lg":return"w-620";case"xl":return"w-780";case"2xl":return"w-850";case"fullscreen":return"w-1280";case"fullscreenTakeover":return"w-full h-full";default:return e}}(a),"tray"===t&&"rounded-t border-b-bg","fullscreenTakeover"!==a&&`${h} border ${d}`,!g&&`${c} ${u}`,o);return r.jsxs("div",{...ws({role:"dialog",tabIndex:-1},n,f),style:{...e.style,"--be-dialog-padding":"24px"},"aria-modal":!0,className:v,children:[p.Children.toArray(i).map((e=>p.isValidElement(e)?p.cloneElement(e,{size:e.props.size??a}):e)),m]})}function Js(e,{padding:t,equalWidth:n,variant:r}={}){switch(e){case"2xs":return"link"===r?"text-xs":`text-xs h-24 ${n?"w-24":t||"px-10"}`;case"xs":return"link"===r?"text-xs":`text-xs h-30 ${n?"w-30":t||"px-14"}`;case"sm":return"link"===r?"text-sm":`text-sm h-36 ${n?"w-36":t||"px-18"}`;case"md":return"link"===r?"text-base":`text-base h-42 ${n?"w-42":t||"px-22"}`;case"lg":return"link"===r?"text-lg":`text-base h-50 ${n?"w-50":t||"px-26"}`;case"xl":return"link"===r?"text-xl":`text-lg h-60 ${n?"w-60":t||"px-32"}`;default:return e||""}}function Zs(e){const{variant:t,shadow:n,whitespace:r="whitespace-nowrap",display:s="inline-flex"}=e,i={...e,border:e.border||"border"};let o=[];return"outline"===t?o=function({color:e,border:t}){const n="disabled:text-disabled disabled:bg-transparent disabled:border-disabled-bg";switch(e){case"primary":return[`text-primary bg-transparent ${t} border-primary/50`,"hover:bg-primary/hover hover:border-primary",n];case"danger":return[`text-danger bg-transparent ${t} border-danger/50`,"hover:bg-danger/4 hover:border-danger",n];case"positive":return[`text-positive bg-transparent ${t} border-positive/50`,"hover:bg-positive/4 hover:border-positive",n];case"paper":return[`text bg-paper ${t}`,"hover:bg-hover",n];case"white":return["text-white bg-transparent border border-white","hover:bg-white/20","disabled:text-white/70 disabled:border-white/70 disabled:bg-transparent"];default:return[`bg-transparent ${t}`,"hover:bg-hover",n]}}(i):"text"===t?o=function({color:e}){const t="disabled:text-disabled disabled:bg-transparent";switch(e){case"primary":return["text-primary bg-transparent border-transparent","hover:bg-primary/4",t];case"danger":return["text-danger bg-transparent border-transparent","hover:bg-danger/4",t];case"positive":return["text-positive bg-transparent border-transparent","hover:bg-positive/4",t];case"white":return["text-white bg-transparent border-transparent","hover:bg-white/20","disabled:text-white/70 disabled:bg-transparent"];default:return["bg-transparent border-transparent","hover:bg-hover",t]}}(i):"flat"===t||"raised"===t?o=function({color:e,border:t}){const n="disabled:text-disabled disabled:bg-disabled disabled:border-transparent disabled:shadow-none";switch(e){case"primary":return[`text-on-primary bg-primary ${t} border-primary`,"hover:bg-primary-dark hover:border-primary-dark",n];case"danger":return[`text-white bg-danger ${t} border-danger`,"hover:bg-danger/90 hover:border-danger/90",n];case"chip":return[`text-main bg-chip ${t} border-chip`,"hover:bg-chip/90 hover:border-chip/90",n];case"paper":return[`text-main bg-paper ${t} border-paper`,"hover:bg-paper/90 hover:border-paper/90",n];case"white":return[`text-black bg-white ${t} border-white`,"hover:bg-white/90",n];default:return[`bg ${t} border-background`,"hover:bg-hover",n]}}(i):"link"===t&&(o=function({color:e}){switch(e){case"primary":return["text-primary","hover:underline","disabled:text-disabled"];case"danger":return["text-danger","hover:underline","disabled:text-disabled"];default:return["text-main","hover:underline","disabled:text-disabled"]}}(i)),[...o,n||"raised"===t&&"shadow-md",r,s,t&&"align-middle flex-shrink-0 items-center transition-button duration-200","select-none appearance-none no-underline outline-none disabled:pointer-events-none disabled:cursor-default"]}function Xs(e){return e?t=>{t.currentTarget.contains(t.target)&&e(t)}:e}const Qs=p.forwardRef(((e,t)=>{const{children:n,color:s=null,variant:i,radius:o,shadow:a,whitespace:l,justify:c="justify-center",className:u,href:d,form:p,border:h,elementType:f,to:m,state:g,relative:v,replace:y,end:b,display:x,type:w="button",onClick:_,onPointerDown:j,onPointerUp:E,onKeyDown:S,...k}=e,C=f||(d?"a":"button"),T="a"===C;return r.jsx(C,{ref:t,form:T?void 0:p,href:d,to:m,state:g,relative:v,type:T?void 0:w,replace:y,end:b,onPointerDown:Xs(j),onPointerUp:Xs(E),onClick:Xs(_),onKeyDown:Xs(S),className:N("focus-visible:ring",Zs({variant:i,color:s,border:h,whitespace:l,display:x,shadow:a}),o,c,u),...k,children:n})})),ei=p.forwardRef((({children:e,size:t="md",iconSize:n=(t&&t.length<=3?t:"md"),variant:s="text",radius:i="rounded-button",className:o,padding:a,equalWidth:l=!0,badge:c,...u},d)=>{const h=N(Js(t,{padding:a,equalWidth:l,variant:s}),o,c&&"relative",u.disabled&&u.to&&"pointer-events-none text-disabled");return r.jsxs(Qs,{...u,ref:d,radius:i,variant:s,className:h,children:[p.cloneElement(e,{size:n}),c]})})),ti=p.forwardRef(((e,t)=>{const{attr:n,size:s,title:i,className:o,color:a,style:l,children:c,viewBox:u,width:d,height:p,...h}=e;return r.jsxs("svg",{"aria-hidden":!i,focusable:!1,xmlns:"http://www.w3.org/2000/svg",viewBox:u||"0 0 24 24",...n,...h,className:N("svg-icon",o,ni(s)),style:{color:a,...l},ref:t,height:p||"1em",width:d||"1em",children:[i&&r.jsx("title",{children:i}),c]})}));function ni(e){switch(e){case"2xs":return"icon-2xs";case"xs":return"icon-xs";case"sm":return"icon-sm";case"md":return"icon-md";case"lg":return"icon-lg";case"xl":return"icon-xl";default:return e}}function ri(e,t="",n){return c.memo(c.forwardRef(((s,i)=>r.jsx(ti,{"data-testid":`${t}Icon`,ref:i,viewBox:n,...s,size:s.size||"md",children:e}))))}function si(e,t=""){return ri(ii(e),t)}function ii(e){return(null==e?void 0:e.map)&&e.map(((e,t)=>c.createElement(e.tag,{key:t,...e.attr},ii(e.child))))}function oi(e){const t={},n={tag:e.tagName,attr:t};return Array.from(e.attributes).forEach((e=>{t[e.name]=e.value})),e.children.length&&(n.child=Array.from(e.children).map((e=>oi(e)))),n}const ai=ri(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined");function li(e){const{children:t,className:n,color:s,onDismiss:i,leftAdornment:o,rightAdornment:a,hideDismissButton:l=!1,disableDismissButton:c=!1,size:u,showDivider:d,justify:h="justify-between",titleFontWeight:f="font-semibold",titleTextSize:m=("xs"===u?"text-xs":"text-sm"),closeButtonSize:g=("xs"===u?"xs":"sm"),actions:v,closeButtonIcon:y}=e,{labelId:b,isDismissable:x,close:w}=p.useContext(Is);return r.jsxs("div",{className:N(n,"flex flex-shrink-0 items-center gap-10",f,d&&"border-b",ci(e),s||"text-main",h),children:[o,r.jsx("h3",{id:b,className:N(m,"mr-auto leading-5 opacity-90"),children:t}),a,v,x&&!l&&r.jsx(ei,{"aria-label":"Dismiss",disabled:c,onClick:()=>{i?i():w()},size:g,className:N("-mr-8 text-muted",a&&"sr-only"),children:y||r.jsx(ai,{})})]})}function ci({size:e,padding:t}){if(t)return t;switch(e){case"2xs":case"xs":return"px-14 py-4";case"sm":return"px-18 py-4";default:return"px-24 py-6"}}function ui(e,t){return null!=e&&(void 0!==Object.hasOwn?Object.hasOwn(e,t):Object.hasOwnProperty(t))}const di=p.memo((e=>{const{message:t,values:n}=e,{lines:s,localeCode:i}=qs();let o;if(o=ui(s,t)?null==s?void 0:s[t]:ui(s,null==t?void 0:t.toLowerCase())?null==s?void 0:s[null==t?void 0:t.toLowerCase()]:t,!n||!o)return r.jsx(p.Fragment,{children:o});o=Hs(i,{message:o,values:n});const a=[],l=[];if(Object.entries(n).forEach((([e,t])=>{"function"==typeof t?l.push(e):p.isValidElement(t)?a.push(e):null!=t&&(o=null==o?void 0:o.replace(`:${e}`,`${t}`))})),l.length||a.length){const e=[];if(l.length){const t=l.join("");e.push(`(<[${t}]>.+?<\\/[${t}]>)`)}if(a.length){const t=a.join("|");e.push(`(:(?:${t}))`)}const t=new RegExp(e.join("|"),"gm"),s=o.split(t).filter(Boolean).map(((e,t)=>{if(e.startsWith("<")&&e.endsWith(">")){const r=e.match(/<([a-z]+)>(.+?)<\/([a-z]+)>/);if(r){const[,e,s]=r,i=null==n?void 0:n[e];if("function"==typeof i){const e=i(s);return p.cloneElement(e,{key:t})}}}if(e.startsWith(":")){const r=e.replace(":",""),s=null==n?void 0:n[r];if(p.isValidElement(s))return p.cloneElement(s,{key:t})}return e}));return r.jsx(p.Fragment,{children:s})}return r.jsx(p.Fragment,{children:o})}),(function(e,t){const{values:n,...r}=e,{values:s,...i}=t;return Vs(s,n)&&Vs(r,i)}));const pi=p.forwardRef(((e,t)=>{const{children:n,className:s,padding:i,size:o,...a}=e;return r.jsx("div",{...a,ref:t,className:N(s,hi(e),"overflow-y-auto overflow-x-hidden overscroll-contain text-sm flex-auto"),children:n})}));function hi({size:e,padding:t}){if(t)return t;switch(e){case"xs":return"p-14";case"sm":return"p-18";default:return"px-24 py-20"}}function fi(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}let mi=null,gi=new Set,vi=new Map,yi=!1,bi=!1;function xi(e,t){for(let n of gi)n(e,t)}function wi(e){yi=!0,function(e){return!(e.metaKey||!Es()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(mi="keyboard",xi("keyboard",e))}function _i(e){mi="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(yi=!0,xi("pointer",e))}function ji(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||(Ss()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType))&&(yi=!0,mi="virtual")}function Ei(e){e.target!==window&&e.target!==document&&(yi||bi||(mi="virtual",xi("virtual",e)),yi=!1,bi=!1)}function Si(){yi=!1,bi=!0}function ki(e){if("undefined"==typeof window||vi.get(xs(e)))return;const t=xs(e),n=bs(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){yi=!0,r.apply(this,arguments)},n.addEventListener("keydown",wi,!0),n.addEventListener("keyup",wi,!0),n.addEventListener("click",ji,!0),t.addEventListener("focus",Ei,!0),t.addEventListener("blur",Si,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",_i,!0),n.addEventListener("pointermove",_i,!0),n.addEventListener("pointerup",_i,!0)):(n.addEventListener("mousedown",_i,!0),n.addEventListener("mousemove",_i,!0),n.addEventListener("mouseup",_i,!0)),t.addEventListener("beforeunload",(()=>{Ci(e)}),{once:!0}),vi.set(t,{focus:r})}const Ci=(e,t)=>{const n=xs(e),r=bs(e);t&&r.removeEventListener("DOMContentLoaded",t),vi.has(n)&&(n.HTMLElement.prototype.focus=vi.get(n).focus,r.removeEventListener("keydown",wi,!0),r.removeEventListener("keyup",wi,!0),r.removeEventListener("click",ji,!0),n.removeEventListener("focus",Ei,!0),n.removeEventListener("blur",Si,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",_i,!0),r.removeEventListener("pointermove",_i,!0),r.removeEventListener("pointerup",_i,!0)):(r.removeEventListener("mousedown",_i,!0),r.removeEventListener("mousemove",_i,!0),r.removeEventListener("mouseup",_i,!0)),vi.delete(n))};function Ti(e){const t=bs(e);if("virtual"===mi){let r=t.activeElement;n=()=>{t.activeElement===r&&e.isConnected&&_s(e)},requestAnimationFrame((()=>{0===ks.size?n():Cs.add(n)}))}else _s(e);var n}function Ni(e,t){return"#comment"!==e.nodeName&&function(e){const t=xs(e);if(!(e instanceof t.HTMLElement||e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,s="none"!==n&&"hidden"!==r&&"collapse"!==r;if(s){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:r}=t(e);s="none"!==n&&"hidden"!==r&&"collapse"!==r}return s}(e)&&function(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||Ni(e.parentElement,e))}"undefined"!=typeof document&&function(e){const t=bs(e);let n;"loading"!==t.readyState?ki(e):(n=()=>{ki(e)},t.addEventListener("DOMContentLoaded",n))}();const Pi=c.createContext(null);let Oi=null;function Ri(e){let{children:t,contain:n,restoreFocus:r,autoFocus:s}=e,i=p.useRef(null),o=p.useRef(null),a=p.useRef([]),{parentNode:l}=p.useContext(Pi)||{},u=p.useMemo((()=>new Gi({scopeRef:a})),[a]);us((()=>{let e=l||Ji.root;if(Ji.getTreeNode(e.scopeRef)&&Oi&&!qi(Oi,e.scopeRef)){let t=Ji.getTreeNode(Oi);t&&(e=t)}e.addChild(u),Ji.addNode(u)}),[u,l]),us((()=>{let e=Ji.getTreeNode(a);e&&(e.contain=!!n)}),[n]),us((()=>{var e;let t=null===(e=i.current)||void 0===e?void 0:e.nextSibling,n=[];for(;t&&t!==o.current;)n.push(t),t=t.nextSibling;a.current=n}),[t]),function(e,t,n){us((()=>{if(t||n)return;let r=e.current;const s=bs(r?r[0]:void 0);let i=t=>{let n=t.target;Fi(n,e.current)?Oi=e:Ui(n)||(Oi=null)};return s.addEventListener("focusin",i,!1),null==r||r.forEach((e=>e.addEventListener("focusin",i,!1))),()=>{s.removeEventListener("focusin",i,!1),null==r||r.forEach((e=>e.removeEventListener("focusin",i,!1)))}}),[e,t,n])}(a,r,n),function(e,t){let n=p.useRef(),r=p.useRef();us((()=>{let s=e.current;if(!t)return void(r.current&&(cancelAnimationFrame(r.current),r.current=void 0));const i=bs(s?s[0]:void 0);let o=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!Mi(e)||t.isComposing)return;let n=i.activeElement,r=e.current;if(!r||!Fi(n,r))return;let s=Vi(Di(r),{tabbable:!0},r);if(!n)return;s.currentNode=n;let o=t.shiftKey?s.previousNode():s.nextNode();o||(s.currentNode=t.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling,o=t.shiftKey?s.previousNode():s.nextNode()),t.preventDefault(),o&&Hi(o,!0)},a=t=>{Oi&&!qi(Oi,e)||!Fi(t.target,e.current)?Mi(e)&&!$i(t.target,e)?n.current?n.current.focus():Oi&&Oi.current&&Bi(Oi.current):Mi(e)&&(n.current=t.target):(Oi=e,n.current=t.target)},l=t=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame((()=>{var r;i.activeElement&&Mi(e)&&!$i(i.activeElement,e)&&(Oi=e,i.body.contains(t.target)?(n.current=t.target,null===(r=n.current)||void 0===r||r.focus()):Oi.current&&Bi(Oi.current))}))};return i.addEventListener("keydown",o,!1),i.addEventListener("focusin",a,!1),null==s||s.forEach((e=>e.addEventListener("focusin",a,!1))),null==s||s.forEach((e=>e.addEventListener("focusout",l,!1))),()=>{i.removeEventListener("keydown",o,!1),i.removeEventListener("focusin",a,!1),null==s||s.forEach((e=>e.removeEventListener("focusin",a,!1))),null==s||s.forEach((e=>e.removeEventListener("focusout",l,!1)))}}),[e,t]),us((()=>()=>{r.current&&cancelAnimationFrame(r.current)}),[r])}(a,n),function(e,t,n){const r=p.useRef("undefined"!=typeof document?bs(e.current?e.current[0]:void 0).activeElement:null);us((()=>{let r=e.current;const s=bs(r?r[0]:void 0);if(!t||n)return;let i=()=>{Oi&&!qi(Oi,e)||!Fi(s.activeElement,e.current)||(Oi=e)};return s.addEventListener("focusin",i,!1),null==r||r.forEach((e=>e.addEventListener("focusin",i,!1))),()=>{s.removeEventListener("focusin",i,!1),null==r||r.forEach((e=>e.removeEventListener("focusin",i,!1)))}}),[e,n]),us((()=>{const r=bs(e.current?e.current[0]:void 0);if(!t)return;let s=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!Mi(e)||t.isComposing)return;let n=r.activeElement;if(!Fi(n,e.current))return;let s=Ji.getTreeNode(e);if(!s)return;let i=s.nodeToRestore,o=Vi(r.body,{tabbable:!0});o.currentNode=n;let a=t.shiftKey?o.previousNode():o.nextNode();if(i&&r.body.contains(i)&&i!==r.body||(i=void 0,s.nodeToRestore=void 0),(!a||!Fi(a,e.current))&&i){o.currentNode=i;do{a=t.shiftKey?o.previousNode():o.nextNode()}while(Fi(a,e.current));t.preventDefault(),t.stopPropagation(),a?Hi(a,!0):Ui(i)?Hi(i,!0):n.blur()}};return n||r.addEventListener("keydown",s,!0),()=>{n||r.removeEventListener("keydown",s,!0)}}),[e,t,n]),us((()=>{const n=bs(e.current?e.current[0]:void 0);if(!t)return;let s=Ji.getTreeNode(e);var i;return s?(s.nodeToRestore=null!==(i=r.current)&&void 0!==i?i:void 0,()=>{let r=Ji.getTreeNode(e);if(!r)return;let s=r.nodeToRestore;if(t&&s&&(Fi(n.activeElement,e.current)||n.activeElement===n.body&&function(e){let t=Ji.getTreeNode(Oi);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}(e))){let t=Ji.clone();requestAnimationFrame((()=>{if(n.activeElement===n.body){let n=t.getTreeNode(e);for(;n;){if(n.nodeToRestore&&n.nodeToRestore.isConnected)return void Hi(n.nodeToRestore);n=n.parent}for(n=t.getTreeNode(e);n;){if(n.scopeRef&&n.scopeRef.current&&Ji.getTreeNode(n.scopeRef))return void Bi(n.scopeRef.current,!0);n=n.parent}}}))}}):void 0}),[e,t])}(a,r,n),function(e,t){const n=c.useRef(t);p.useEffect((()=>{if(n.current){Oi=e;!Fi(bs(e.current?e.current[0]:void 0).activeElement,Oi.current)&&e.current&&Bi(e.current)}n.current=!1}),[e])}(a,s),p.useEffect((()=>{const e=bs(a.current?a.current[0]:void 0).activeElement;let t=null;if(Fi(e,a.current)){for(let n of Ji.traverse())n.scopeRef&&Fi(e,n.scopeRef.current)&&(t=n);t===Ji.getTreeNode(a)&&(Oi=t.scopeRef)}}),[a]),us((()=>()=>{var e,t,n;let r=null!==(n=null===(t=Ji.getTreeNode(a))||void 0===t||null===(e=t.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==n?n:null;a!==Oi&&!qi(a,Oi)||r&&!Ji.getTreeNode(r)||(Oi=r),Ji.removeTreeNode(a)}),[a]);let d=p.useMemo((()=>function(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:s,wrap:i,accept:o}=t,a=r||bs(n[0]).activeElement,l=n[0].previousElementSibling,c=Vi(Di(n),{tabbable:s,accept:o},n);c.currentNode=Fi(a,n)?a:l;let u=c.nextNode();return!u&&i&&(c.currentNode=l,u=c.nextNode()),u&&Hi(u,!0),u},focusPrevious(t={}){let n=e.current,{from:r,tabbable:s,wrap:i,accept:o}=t,a=r||bs(n[0]).activeElement,l=n[n.length-1].nextElementSibling,c=Vi(Di(n),{tabbable:s,accept:o},n);c.currentNode=Fi(a,n)?a:l;let u=c.previousNode();return!u&&i&&(c.currentNode=l,u=c.previousNode()),u&&Hi(u,!0),u},focusFirst(t={}){let n=e.current,{tabbable:r,accept:s}=t,i=Vi(Di(n),{tabbable:r,accept:s},n);i.currentNode=n[0].previousElementSibling;let o=i.nextNode();return o&&Hi(o,!0),o},focusLast(t={}){let n=e.current,{tabbable:r,accept:s}=t,i=Vi(Di(n),{tabbable:r,accept:s},n);i.currentNode=n[n.length-1].nextElementSibling;let o=i.previousNode();return o&&Hi(o,!0),o}}}(a)),[]),h=p.useMemo((()=>({focusManager:d,parentNode:u})),[u,d]);return c.createElement(Pi.Provider,{value:h},c.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),t,c.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function Ii(){var e;return null===(e=p.useContext(Pi))||void 0===e?void 0:e.focusManager}const Ai=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],zi=Ai.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Ai.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Li=Ai.join(':not([hidden]):not([tabindex="-1"]),');function Di(e){return e[0].parentElement}function Mi(e){let t=Ji.getTreeNode(Oi);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Ui(e){return $i(e)}function Fi(e,t){return!!e&&(!!t&&t.some((t=>t.contains(e))))}function $i(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of Ji.traverse(Ji.getTreeNode(t)))if(n&&Fi(e,n.current))return!0;return!1}function qi(e,t){var n;let r=null===(n=Ji.getTreeNode(t))||void 0===n?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Hi(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(n){}}else try{Ti(e)}catch(n){}}function Bi(e,t=!0){let n=e[0].previousElementSibling,r=Di(e),s=Vi(r,{tabbable:t},e);s.currentNode=n;let i=s.nextNode();t&&!i&&(r=Di(e),s=Vi(r,{tabbable:!1},e),s.currentNode=n,i=s.nextNode()),Hi(i)}function Vi(e,t,n){let r=(null==t?void 0:t.tabbable)?Li:zi,s=bs(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var s;return(null==t||null===(s=t.from)||void 0===s?void 0:s.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(r)||!Ni(e)||n&&!Fi(e,n)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(s.currentNode=t.from),s}function Ki(e,t={}){return{focusNext(n={}){let r=e.current;if(!r)return null;let{from:s,tabbable:i=t.tabbable,wrap:o=t.wrap,accept:a=t.accept}=n,l=s||bs(r).activeElement,c=Vi(r,{tabbable:i,accept:a});r.contains(l)&&(c.currentNode=l);let u=c.nextNode();return!u&&o&&(c.currentNode=r,u=c.nextNode()),u&&Hi(u,!0),u},focusPrevious(n=t){let r=e.current;if(!r)return null;let{from:s,tabbable:i=t.tabbable,wrap:o=t.wrap,accept:a=t.accept}=n,l=s||bs(r).activeElement,c=Vi(r,{tabbable:i,accept:a});if(!r.contains(l)){let e=Wi(c);return e&&Hi(e,!0),null!=e?e:null}c.currentNode=l;let u=c.previousNode();if(!u&&o){c.currentNode=r;let e=Wi(c);if(!e)return null;u=e}return u&&Hi(u,!0),null!=u?u:null},focusFirst(n=t){let r=e.current;if(!r)return null;let{tabbable:s=t.tabbable,accept:i=t.accept}=n,o=Vi(r,{tabbable:s,accept:i}).nextNode();return o&&Hi(o,!0),o},focusLast(n=t){let r=e.current;if(!r)return null;let{tabbable:s=t.tabbable,accept:i=t.accept}=n,o=Wi(Vi(r,{tabbable:s,accept:i}));return o&&Hi(o,!0),null!=o?o:null}}}function Wi(e){let t,n;do{n=e.lastChild(),n&&(t=n)}while(n);return t}class Yi{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null);if(!r)return;let s=new Gi({scopeRef:e});r.addChild(s),s.parent=r,this.fastMap.set(e,s),n&&(s.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e);if(!t)return;let n=t.parent;for(let s of this.traverse())s!==t&&t.nodeToRestore&&s.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&Fi(s.nodeToRestore,t.scopeRef.current)&&(s.nodeToRestore=t.nodeToRestore);let r=t.children;n&&(n.removeChild(t),r.size>0&&r.forEach((e=>n&&n.addChild(e)))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new Yi;var n;for(let r of this.traverse())t.addTreeNode(r.scopeRef,null!==(n=null===(e=r.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==n?n:null,r.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new Gi({scopeRef:null}),this.fastMap.set(null,this.root)}}class Gi{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let Ji=new Yi;const Zi=ri(r.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})),Xi=ri(r.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"WarningOutlined");function Qi({floatingWidth:e,ref:t,disablePositioning:n=!1,placement:r="bottom",offset:s=2,showArrow:i=!1,maxHeight:o,shiftMainAxis:a=!0,shiftCrossAxis:l=!0,fallbackPlacements:c}){const u=p.useRef(null),d={placement:r,strategy:"fixed"};n||(d.whileElementsMounted=R,d.middleware=[I(s),A({padding:16,crossAxis:l,mainAxis:a}),z({padding:16,fallbackPlacements:c}),L({apply({rects:t,availableHeight:n,availableWidth:r,elements:s}){"matchTrigger"===e&&null!=o?Object.assign(s.floating.style,{width:`${t.reference.width}px`,maxWidth:`${r}`,maxHeight:`${Math.min(n,o)}px`}):null!=o&&Object.assign(s.floating.style,{maxHeight:`${Math.min(n,o)}px`})},padding:16})],i&&d.middleware.push(P({element:u})));const h=O(d),f=p.useMemo((()=>{return e=[t,h.refs.setReference],t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))};var e}),[h.refs.setReference,t]),{x:m,y:g}=h.middlewareData.arrow||{},v={top:"bottom",right:"left",bottom:"top",left:"right"}[h.placement.split("-")[0]],y={left:m,top:g,right:"",bottom:"",[v]:"-4px"};return{...h,reference:f,arrowRef:u,arrowStyle:y}}const eo={initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{type:"tween",duration:.125}};let to="undefined"!=typeof document?document.getElementById("root")??document.body:void 0,no="undefined"!=typeof document?document.documentElement:void 0;const ro={};let so=!1,io=null,oo=null;const ao=e=>{var t;for(const n in ro)n!==e&&(null==(t=ro[n])||t.call(ro,!0),delete ro[n])},lo=p.forwardRef((({children:e,label:t,placement:n="top",offset:s=10,variant:i="neutral",delay:o=1500,isDisabled:a,usePortal:c=!0,...u},d)=>{const{x:h,y:f,reference:m,strategy:g,arrowRef:v,arrowStyle:y,refs:b}=Qi({placement:n,offset:s,ref:d,showArrow:!0}),[x,w]=p.useState(!1),_=p.useId(),j=p.useRef(),E=()=>{clearTimeout(j.current),j.current=void 0,ao(_),ro[_]=S,so=!0,w(!0),io&&(clearTimeout(io),io=null),oo&&(clearTimeout(oo),oo=null)},S=p.useCallback((e=>{e?(clearTimeout(j.current),j.current=void 0,w(!1)):j.current||(j.current=setTimeout((()=>{j.current=void 0,w(!1)}),500)),io&&(clearTimeout(io),io=null),so&&(oo&&clearTimeout(oo),oo=setTimeout((()=>{delete ro[_],oo=null,so=!1}),500))}),[_]),k=e=>{!e&&o>0&&!j.current?(ao(_),ro[_]=S,x||io||so?x||E():io=setTimeout((()=>{io=null,so=!0,E()}),o)):E()};p.useEffect((()=>()=>{clearTimeout(j.current);ro[_]&&delete ro[_]}),[_]),p.useEffect((()=>{const e=e=>{"Escape"===e.key&&S(!0)};if(x)return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}}),[x,S]);const C=r.jsx(D,{children:x&&r.jsxs(M.div,{...eo,ref:b.setFloating,id:_,role:"tooltip",onPointerEnter:()=>{k(!0)},onPointerLeave:()=>{S()},className:N("z-tooltip my-4 max-w-240 break-words rounded px-8 py-4 text-xs text-white shadow","positive"===i&&"bg-positive","danger"===i&&"bg-danger","neutral"===i&&"bg-toast"),style:{position:g,top:f??"",left:h??""},children:[r.jsx("div",{ref:v,className:"absolute h-8 w-8 rotate-45 bg-inherit",style:y}),t]})});return r.jsxs(p.Fragment,{children:[p.cloneElement(e,ws({"aria-describedby":x?_:void 0,ref:m,onPointerEnter:e=>{"mouse"===e.pointerType&&k()},onFocus:e=>{e.target.matches(":focus-visible")&&k(!0)},onPointerLeave:e=>{"mouse"===e.pointerType&&S()},onPointerDown:()=>{S(!0)},onBlur:()=>{S()},"aria-label":"string"==typeof t?t:t.props.message},u)),c?to&&l.createPortal(C,to):C]})}));function co(e){const{onRemove:t,disabled:n,invalid:s,errorMessage:i,children:o,className:a,selectable:l=!1,radius:c="rounded-full",elementType:u="div",to:d,onClick:h}=e,f=p.useRef(null),m=p.useRef(null),g=Ii(),v=function({size:e,onRemove:t}){switch(e){case"xs":return{adornment:{size:"xs",margin:"-ml-3"},chip:N("pl-8 h-20 text-xs font-medium w-max",!t&&"pr-8"),closeButton:"mr-4 w-14 h-14"};case"sm":return{adornment:{size:"xs",margin:"-ml-3"},chip:N("pl-8 h-26 text-xs",!t&&"pr-8"),closeButton:"mr-4 w-18 h-18"};case"lg":return{adornment:{size:"md",margin:"-ml-12"},chip:N("pl-18 h-38 text-base",!t&&"pr-18"),closeButton:"mr-6 w-24 h-24"};default:return{adornment:{size:"sm",margin:"-ml-6"},chip:N("pl-12 h-32 text-sm",!t&&"pr-12"),closeButton:"mr-6 w-22 h-22"}}}(e);let y=s||null!=i?r.jsx(Xi,{className:"text-danger",size:"sm"}):e.adornment&&p.cloneElement(e.adornment,{size:v.adornment.size,circle:!0,className:N(e.adornment.props.className,v.adornment.margin)});i&&y&&(y=r.jsx(lo,{label:i,variant:"danger",children:y}));const b=u;return r.jsxs(b,{tabIndex:l?0:void 0,ref:f,to:d,onKeyDown:l?e=>{switch(e.key){case"ArrowRight":case"ArrowDown":null==g||g.focusNext({tabbable:!0});break;case"ArrowLeft":case"ArrowUp":null==g||g.focusPrevious({tabbable:!0});break;case"Backspace":case"Delete":f.current===document.activeElement&&(null==t||t())}}:void 0,onClick:l?e=>{e.stopPropagation(),h?h(e):f.current.focus()}:void 0,className:N("relative flex flex-shrink-0 items-center justify-center gap-10 overflow-hidden whitespace-nowrap outline-none transition-opacity","w-max min-w-0 after:pointer-events-none after:absolute after:inset-0",h&&"cursor-pointer",c,uo(e),v.chip,!n&&l&&"hover:after:bg-black/5 focus:after:bg-black/10",a,n&&"pointer-events-none opacity-70"),children:[y,r.jsx("div",{className:"flex-auto overflow-hidden overflow-ellipsis",children:o}),t&&r.jsx(Qs,{ref:m,className:N("text-black/30 dark:text-white/50",v.closeButton),onClick:e=>{e.stopPropagation(),t()},tabIndex:-1,children:r.jsx(Zi,{className:"block",width:"100%",height:"100%"})})]})}function uo({color:e}){switch(e){case"primary":return"bg-primary text-on-primary";case"positive":return"bg-positive-lighter text-positive-darker";case"danger":return"bg-danger-lighter text-danger-darker";default:return"bg-chip text-main"}}const po=ri(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"ErrorOutlined");async function ho(e,t="dark"){const{hljs:n}=await h((()=>import("./highlight-811b76af.js")),["./highlight-811b76af.js","./vendor-editor-385f05bf.js","./vendor-core-56622d1d.js","./highlight-b5e2c008.css"],import.meta.url);e.dataset.highlighted||(e.classList.add("dark"===t?"hljs-dark":"hljs-light"),n.highlightElement(e))}const fo=ri(r.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownOutlined"),mo=c.forwardRef((({children:e,startIcon:t,endIcon:n,size:s="sm",sizeClassName:i,className:o,equalWidth:a=!1,radius:l="rounded-button",variant:c="text",disabled:u,elementType:d,to:p,replace:h,href:f,download:m,...g},v)=>{const y=N("font-semibold",i||Js(s,{equalWidth:a,variant:c}),o);return r.jsxs(Qs,{className:y,ref:v,radius:l,variant:c,disabled:u,to:u?void 0:p,href:u?void 0:f,download:u?void 0:m,elementType:u?void 0:d,replace:u?void 0:h,...g,children:[t&&r.jsx(go,{position:"start",icon:t,size:s}),e,n&&r.jsx(go,{position:"end",icon:n,size:s})]})}));function go({icon:e,position:t,size:n}){const r=N("m-auto",{"-ml-4 mr-8":"start"===t,"-mr-4 ml-8":"end"===t},e.props.className);return c.cloneElement(e,{className:r,size:e.props.size??n})}const vo=ri(r.jsx("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"}),"UnfoldMoreOutlined"),yo=ri(r.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"}),"UnfoldLessOutlined");function bo({trace:e,onSelectedIndexChange:t,selectedIndex:n,totalVendorGroups:s}){const[i,o]=p.useState([]),a=i.length===s;return r.jsxs("div",{className:"max-w-440 border-r text-sm",children:[r.jsx("div",{className:"border-b px-30 py-16",children:r.jsx(mo,{variant:"outline",size:"2xs",startIcon:a?r.jsx(yo,{}):r.jsx(vo,{}),onClick:()=>{o(a?[]:e.map(((e,t)=>"vendorGroup"in e?t:-1)).filter((e=>-1!==e)))},children:a?r.jsx(di,{message:"Collapse vendor frames"}):r.jsx(di,{message:"Expand vendor frames"})})}),e.map(((e,s)=>"vendorGroup"in e?i.includes(s)?r.jsx(p.Fragment,{children:e.items.map(((e,s)=>r.jsx(xo,{frame:e,onClick:()=>t(e.flatIndex),isSelected:n===e.flatIndex},`vendor-${s}`)))},s):r.jsxs("div",{className:"flex cursor-pointer items-center gap-4 border-b px-30 py-16 hover:bg-hover",onClick:()=>o((e=>[...e,s])),children:[r.jsx(di,{message:":count vendor [one frame|other frames]",values:{count:e.items.length}}),r.jsx(fo,{className:"text-muted"})]},s):r.jsx(xo,{frame:e,onClick:()=>t(e.flatIndex),isSelected:n===e.flatIndex},s)))]})}function xo({frame:e,onClick:t,isSelected:n}){return r.jsxs("div",{onClick:t,className:N("cursor-pointer border-b px-30 py-16",n?"bg-danger text-on-primary":"hover:bg-danger/10"),children:[r.jsx(wo,{frame:e}),r.jsx("div",{className:"font-semibold",children:e.method})]})}function wo({frame:e}){return r.jsxs("div",{className:"inline-flex flex-wrap items-baseline",children:[e.path.map(((t,n)=>e.path.length-1===n?r.jsx("div",{className:"font-semibold",children:t},n):r.jsxs("div",{children:[t,"/"]},n))),r.jsxs("div",{children:[":",e.lineNumber]})]})}function _o({error:e}){const[t,n]=p.useState((()=>{for(const t of e.trace)if(!("vendorGroup"in t))return t.flatIndex;return 0})),s=p.useMemo((()=>{for(const n of e.trace)if("vendorGroup"in n){for(const e of n.items)if(e.flatIndex===t)return e}else if(n.flatIndex===t)return n}),[e,t]);return r.jsxs(Gs,{size:"fullscreen",children:[r.jsx(li,{showDivider:!0,leftAdornment:r.jsx(po,{}),color:"text-danger",actions:r.jsx(So,{}),children:r.jsx(di,{message:"An error occured"})}),r.jsxs(pi,{padding:"p-0 stack",children:[r.jsxs("div",{className:"sticky top-0 z-10 border-b bg p-24",children:[r.jsx(co,{className:"w-max",radius:"rounded-panel",children:e.exception}),r.jsx("div",{className:"mt-16 line-clamp-2 text-lg font-semibold leading-snug",children:e.message})]}),r.jsxs("div",{className:"flex items-stretch gap-10",children:[r.jsx(bo,{trace:e.trace,onSelectedIndexChange:n,selectedIndex:t,totalVendorGroups:e.totalVendorGroups}),s&&r.jsx(jo,{frame:s})]})]})]})}function jo({frame:e}){const t=p.useRef(null),n=Object.keys(e.codeSnippet).map(Number),s=n.indexOf(e.lineNumber),i=Object.values(e.codeSnippet);return r.jsxs("div",{className:"sticky top-120 flex-auto",children:[r.jsx("div",{className:"px-30 py-16 text-right text-muted",children:r.jsx(wo,{frame:e})}),r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"mr-8 select-none text-right",children:n.map(((e,t)=>r.jsx("div",{className:N("px-8 font-mono leading-loose text-muted",t==s&&"bg-danger/30"),children:e},t)))}),r.jsx("div",{className:"compact-scrollbar flex-grow overflow-x-auto",children:r.jsx("pre",{children:r.jsx("code",{className:"language-php",ref:t,children:i.map(((t,n)=>r.jsx(Eo,{isHighlighted:s===n,line:t},`${e.path}.${n}`)))})})})]})]})}const Eo=p.memo((({line:e,isHighlighted:t})=>{const n=p.useRef(null);return p.useEffect((()=>{const e=n.current;return ho(e,"light"),()=>{delete e.dataset.highlighted}}),[]),r.jsx("span",{className:N("block leading-loose",t&&"bg-danger/20"),children:r.jsx("span",{className:"language-php",ref:n,children:e+"\n"})})}));function So(){return r.jsx(mo,{variant:"outline",className:"text-main",elementType:"a",download:!0,href:"api/v1/logs/error/download-latest",size:"2xs",children:r.jsx(di,{message:"Download log"})})}const ko=rr()(Wr(((e,t)=>({dialog:null,data:void 0,resolveClosePromise:null,openDialog:(t,n)=>new Promise((r=>{e((e=>{e.dialog=t,e.data=n,e.resolveClosePromise=r}))})),closeActiveDialog:n=>{var r,s;null==(s=(r=t()).resolveClosePromise)||s.call(r,n),e((e=>{e.dialog=null,e.data=void 0,e.resolveClosePromise=null}))}})))),Co=ko.getState().openDialog,To=e=>{ko.getState().closeActiveDialog(e)},No=ln("There was an issue. Please try again.");function Po(e,t=No,n,r){var s,i,o,a;Xt.isAxiosError(e)&&(null==(i=null==(s=e.response)?void 0:s.data)?void 0:i.ignitionTrace)?Co(_o,{error:e.response.data}):Xr.danger(cs(e,n)||t,{action:null==(a=null==(o=e.response)?void 0:o.data)?void 0:a.action,...r})}function Oo(){const{setWorkspaceId:e}=p.useContext(is)||{};return i({mutationFn:e=>function({inviteId:e}){return sn.get(`workspace/join/${e}`).then((e=>e.data))}(e),onSuccess:t=>{Xr(ln("Joined workspace")),e(t.workspace.id),rn.invalidateQueries({queryKey:Qr.fetchUserWorkspaces}),rn.invalidateQueries({queryKey:ls.key})},onError:e=>{Xt.isAxiosError(e)&&e.response&&404===e.response.status?(rn.invalidateQueries({queryKey:ls.key}),Xr.danger(ln("This invite is no longer valid"))):Po(e)}})}const Ro=ri(r.jsx("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm6 5H2v-.99C2.2 16.29 5.3 15 8 15s5.8 1.29 6 2v1zM12.51 4.05C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95zm4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17z"}),"GroupAddOutlined"),Io=ri(r.jsx("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"}),"PeopleOutlined"),Ao=ri(r.jsx("path",{d:"M20.13 5.41 18.72 4l-9.19 9.19-4.25-4.24-1.41 1.41 5.66 5.66zM5 18h14v2H5z"}),"FileDownloadDoneOutlined"),zo=p.memo((({src:e,className:t,height:n="h-full"})=>{const s=function(e){const[t,n]=p.useState(null);return p.useEffect((()=>{const t=Lo.get(e);if(t)"string"==typeof t?n(t):t.then(n);else{const t=function(e){return fetch(e).then((e=>e.text()))}(e);Lo.set(e,t),t.then((t=>{Lo.set(e,t),n(t)}))}}),[e]),t}(e);return r.jsx("div",{className:N("svg-image-container inline-block bg-no-repeat",n,t),dangerouslySetInnerHTML:s?{__html:s}:void 0})})),Lo=new Map;const Do=p.memo((({src:e,className:t,...n})=>{let s=null;if(s=e?"object"==typeof e?"icon":e.endsWith(".svg")&&!tn(e)?"svg":"image":null,"svg"===s)return r.jsx(zo,{...n,className:t,src:e,height:!1});if("image"===s)return r.jsx("img",{...n,className:t,src:e,alt:""});if("icon"===s){const s=e;return r.jsx(s,{...n,className:t})}return null}));function Mo(e,t){return e-t*Math.floor(e/t)}const Uo=1721426;function Fo(e,t,n,r){let s=(t=qo(e,t))-1,i=-2;return n<=2?i=0:$o(t)&&(i=-1),1721425+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)+Math.floor((367*n-362)/12+i+r)}function $o(e){return e%4==0&&(e%100!=0||e%400==0)}function qo(e,t){return"BC"===e?1-t:t}const Ho={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class Bo{fromJulianDay(e){let t=e,n=t-Uo,r=Math.floor(n/146097),s=Mo(n,146097),i=Math.floor(s/36524),o=Mo(s,36524),a=Math.floor(o/1461),l=Mo(o,1461),c=Math.floor(l/365),u=400*r+100*i+4*a+c+(4!==i&&4!==c?1:0),[d,p]=function(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}(u),h=t-Fo(d,p,1,1),f=2;t<Fo(d,p,3,1)?f=0:$o(p)&&(f=1);let m=Math.floor((12*(h+f)+373)/367),g=t-Fo(d,p,m,1)+1;return new tl(d,p,m,g)}toJulianDay(e){return Fo(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return Ho[$o(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return $o(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return"BC"===e.era}balanceDate(e){e.year<=0&&(e.era="BC"===e.era?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const Vo={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Ko(e,t){return t=ka(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function Wo(e,t){return t=ka(t,e.calendar),e=na(e),t=na(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function Yo(e,t){return Ko(e,Zo(t))}function Go(e,t){let n=e.calendar.toJulianDay(e),r=Math.ceil(n+1-function(e){let t=function(e){if(Intl.Locale){let t=ua.get(e);return t||(t=new Intl.Locale(e).maximize().region,t&&ua.set(e,t)),t}let t=e.split("-")[1];return"u"===t?void 0:t}(e);return t&&Vo[t]||0}(t))%7;return r<0&&(r+=7),r}function Jo(e){return ja(Date.now(),e)}function Zo(e){return Ea(Jo(e))}function Xo(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function Qo(e){return 36e5*e.hour+6e4*e.minute+1e3*e.second+e.millisecond}let ea=null;function ta(){return null==ea&&(ea=(new Intl.DateTimeFormat).resolvedOptions().timeZone),ea}function na(e){return e.subtract({days:e.day-1})}function ra(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function sa(e){return na(e.subtract({months:e.month-1}))}function ia(e){return ra(e.add({months:e.calendar.getMonthsInYear(e)-e.month}))}function oa(e){return e.calendar.getMinimumMonthInYear?e.calendar.getMinimumMonthInYear(e):1}function aa(e){return e.calendar.getMinimumDayInMonth?e.calendar.getMinimumDayInMonth(e):1}function la(e,t){let n=Go(e,t);return e.subtract({days:n})}function ca(e,t){return la(e,t).add({days:6})}const ua=new Map;function da(e,t){let n=e.calendar.getDaysInMonth(e);return Math.ceil((Go(na(e),t)+n)/7)}function pa(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function ha(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function fa(e){return ma(qo((e=ka(e,new Bo)).era,e.year),e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function ma(e,t,n,r,s,i,o){let a=new Date;return a.setUTCHours(r,s,i,o),a.setUTCFullYear(e,t-1,n),a.getTime()}function ga(e,t){if("UTC"===t)return 0;if(e>0&&t===ta())return-6e4*new Date(e).getTimezoneOffset();let{year:n,month:r,day:s,hour:i,minute:o,second:a}=ya(e,t);return ma(n,r,s,i,o,a,0)-1e3*Math.floor(e/1e3)}const va=new Map;function ya(e,t){let n=va.get(t);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),va.set(t,n));let r=n.formatToParts(new Date(e)),s={};for(let i of r)"literal"!==i.type&&(s[i.type]=i.value);return{year:"BC"===s.era||"B"===s.era?1-s.year:+s.year,month:+s.month,day:+s.day,hour:"24"===s.hour?0:+s.hour,minute:+s.minute,second:+s.second}}const ba=864e5;function xa(e,t,n,r){return(n===r?[n]:[n,r]).filter((n=>function(e,t,n){let r=ya(n,t);return e.year===r.year&&e.month===r.month&&e.day===r.day&&e.hour===r.hour&&e.minute===r.minute&&e.second===r.second}(e,t,n)))}function wa(e,t,n="compatible"){let r=Sa(e);if("UTC"===t)return fa(r);if(t===ta()&&"compatible"===n){r=ka(r,new Bo);let e=new Date,t=qo(r.era,r.year);return e.setFullYear(t,r.month-1,r.day),e.setHours(r.hour,r.minute,r.second,r.millisecond),e.getTime()}let s=fa(r),i=ga(s-ba,t),o=ga(s+ba,t),a=xa(r,t,s-i,s-o);if(1===a.length)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(s-i,s-o);case"compatible":case"later":return Math.max(s-i,s-o);case"reject":throw new RangeError("No such absolute time found")}}function _a(e,t,n="compatible"){return new Date(wa(e,t,n))}function ja(e,t){let n=ga(e,t),r=new Date(e+n),s=r.getUTCFullYear(),i=r.getUTCMonth()+1,o=r.getUTCDate(),a=r.getUTCHours(),l=r.getUTCMinutes(),c=r.getUTCSeconds(),u=r.getUTCMilliseconds();return new il(s,i,o,t,n,a,l,c,u)}function Ea(e){return new tl(e.calendar,e.era,e.year,e.month,e.day)}function Sa(e,t){let n=0,r=0,s=0,i=0;if("timeZone"in e)({hour:n,minute:r,second:s,millisecond:i}=e);else if("hour"in e&&!t)return e;return t&&({hour:n,minute:r,second:s,millisecond:i}=t),new rl(e.calendar,e.era,e.year,e.month,e.day,n,r,s,i)}function ka(e,t){if(e.calendar.identifier===t.identifier)return e;let n=t.fromJulianDay(e.calendar.toJulianDay(e)),r=e.copy();return r.calendar=t,r.era=n.era,r.year=n.year,r.month=n.month,r.day=n.day,Aa(r),r}function Ca(e,t,n){if(e instanceof il)return e.timeZone===t?e:Ta(e,t);return ja(wa(e,t,n),t)}function Ta(e,t){return ka(ja(fa(e)-e.offset,t),e.calendar)}const Na=36e5;function Pa(e,t){let n=e.copy(),r="hour"in n?function(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,function(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=Ua(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=Ua(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=Ua(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=Ua(e.hour,24),t}(e)}(n,t):0;Oa(n,t.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e),n.month+=t.months||0,Ra(n),Ia(n),n.day+=7*(t.weeks||0),n.day+=t.days||0,n.day+=r,function(e){for(;e.day<1;)e.month--,Ra(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,Ra(e)}(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let s=n.calendar.getYearsInEra(n);if(n.year>s){var i,o;let e=null===(i=(o=n.calendar).isInverseEra)||void 0===i?void 0:i.call(o,n);n.year=s,n.month=e?1:n.calendar.getMonthsInYear(n),n.day=e?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function Oa(e,t){var n,r;(null===(n=(r=e.calendar).isInverseEra)||void 0===n?void 0:n.call(r,e))&&(t=-t),e.year+=t}function Ra(e){for(;e.month<1;)Oa(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,Oa(e,1)}function Ia(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function Aa(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),Ia(e)}function za(e){let t={};for(let n in e)"number"==typeof e[n]&&(t[n]=-e[n]);return t}function La(e,t){return Pa(e,za(t))}function Da(e,t){let n=e.copy();return null!=t.era&&(n.era=t.era),null!=t.year&&(n.year=t.year),null!=t.month&&(n.month=t.month),null!=t.day&&(n.day=t.day),Aa(n),n}function Ma(e,t){let n=e.copy();var r;return null!=t.hour&&(n.hour=t.hour),null!=t.minute&&(n.minute=t.minute),null!=t.second&&(n.second=t.second),null!=t.millisecond&&(n.millisecond=t.millisecond),(r=n).millisecond=Math.max(0,Math.min(r.millisecond,1e3)),r.second=Math.max(0,Math.min(r.second,59)),r.minute=Math.max(0,Math.min(r.minute,59)),r.hour=Math.max(0,Math.min(r.hour,23)),n}function Ua(e,t){let n=e%t;return n<0&&(n+=t),n}function Fa(e,t,n,r){let s=e.copy();switch(t){case"era":{let t=e.calendar.getEras(),i=t.indexOf(e.era);if(i<0)throw new Error("Invalid era: "+e.era);i=qa(i,n,0,t.length-1,null==r?void 0:r.round),s.era=t[i],Aa(s);break}case"year":var i,o;(null===(i=(o=s.calendar).isInverseEra)||void 0===i?void 0:i.call(o,s))&&(n=-n),s.year=qa(e.year,n,-1/0,9999,null==r?void 0:r.round),s.year===-1/0&&(s.year=1),s.calendar.balanceYearMonth&&s.calendar.balanceYearMonth(s,e);break;case"month":s.month=qa(e.month,n,1,e.calendar.getMonthsInYear(e),null==r?void 0:r.round);break;case"day":s.day=qa(e.day,n,1,e.calendar.getDaysInMonth(e),null==r?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(s),Aa(s),s}function $a(e,t,n,r){let s=e.copy();switch(t){case"hour":{let t=e.hour,i=0,o=23;if(12===(null==r?void 0:r.hourCycle)){let e=t>=12;i=e?12:0,o=e?23:11}s.hour=qa(t,n,i,o,null==r?void 0:r.round);break}case"minute":s.minute=qa(e.minute,n,0,59,null==r?void 0:r.round);break;case"second":s.second=qa(e.second,n,0,59,null==r?void 0:r.round);break;case"millisecond":s.millisecond=qa(e.millisecond,n,0,999,null==r?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return s}function qa(e,t,n,r,s=!1){if(s){(e+=Math.sign(t))<n&&(e=r);let s=Math.abs(t);(e=t>0?Math.ceil(e/s)*s:Math.floor(e/s)*s)>r&&(e=n)}else(e+=t)<n?e=r-(n-e-1):e>r&&(e=n+(e-r-1));return e}function Ha(e,t){let n;if(null!=t.years&&0!==t.years||null!=t.months&&0!==t.months||null!=t.weeks&&0!==t.weeks||null!=t.days&&0!==t.days){n=wa(Pa(Sa(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days}),e.timeZone)}else n=fa(e)-e.offset;return n+=t.milliseconds||0,n+=1e3*(t.seconds||0),n+=6e4*(t.minutes||0),n+=36e5*(t.hours||0),ka(ja(n,e.timeZone),e.calendar)}const Ba=/^(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?$/,Va=/^(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/;function Ka(e){let t=e.match(Ba);if(!t)throw new Error("Invalid ISO 8601 date time string: "+e);let n=new rl(Ga(t[1],1,9999),Ga(t[2],1,12),1,t[4]?Ga(t[4],0,23):0,t[5]?Ga(t[5],0,59):0,t[6]?Ga(t[6],0,59):0,t[7]?1e3*Ga(t[7],0,1/0):0);return n.day=Ga(t[3],0,n.calendar.getDaysInMonth(n)),n}function Wa(e,t){let n=e.match(Va);if(!n)throw new Error("Invalid ISO 8601 date time string: "+e);let r=new il(Ga(n[1],1,9999),Ga(n[2],1,12),1,t,0,n[4]?Ga(n[4],0,23):0,n[5]?Ga(n[5],0,59):0,n[6]?Ga(n[6],0,59):0,n[7]?1e3*Ga(n[7],0,1/0):0);var s;return r.day=Ga(n[3],0,r.calendar.getDaysInMonth(r)),n[8]&&(r.offset=36e5*Ga(n[8],-23,23)+6e4*Ga(null!==(s=n[9])&&void 0!==s?s:"0",0,59)),Ta(r,t)}function Ya(e){return Wa(e,ta())}function Ga(e,t,n){let r=Number(e);if(r<t||r>n)throw new RangeError(`Value out of range: ${t} <= ${r} <= ${n}`);return r}function Ja(e){let t=ka(e,new Bo);return`${String(t.year).padStart(4,"0")}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function Za(e){return`${Ja(e)}T${t=e,`${String(t.hour).padStart(2,"0")}:${String(t.minute).padStart(2,"0")}:${String(t.second).padStart(2,"0")}${t.millisecond?String(t.millisecond/1e3).slice(1):""}`}`;var t}function Xa(e){return`${Za(e)}${function(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let n=Math.floor(e/36e5),r=e%36e5/6e4;return`${t}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`}(e.offset)}[${e.timeZone}]`}function Qa(e){let t,n="object"==typeof e[0]?e.shift():new Bo;if("string"==typeof e[0])t=e.shift();else{let e=n.getEras();t=e[e.length-1]}return[n,t,e.shift(),e.shift(),e.shift()]}var el=new WeakMap;class tl{copy(){return this.era?new tl(this.calendar,this.era,this.year,this.month,this.day):new tl(this.calendar,this.year,this.month,this.day)}add(e){return Pa(this,e)}subtract(e){return La(this,e)}set(e){return Da(this,e)}cycle(e,t,n){return Fa(this,e,t,n)}toDate(e){return _a(this,e)}toString(){return Ja(this)}compare(e){return Xo(this,e)}constructor(...e){fi(this,el,{writable:!0,value:void 0});let[t,n,r,s,i]=Qa(e);this.calendar=t,this.era=n,this.year=r,this.month=s,this.day=i,Aa(this)}}var nl=new WeakMap;class rl{copy(){return this.era?new rl(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new rl(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return Pa(this,e)}subtract(e){return La(this,e)}set(e){return Da(Ma(this,e),e)}cycle(e,t,n){switch(e){case"era":case"year":case"month":case"day":return Fa(this,e,t,n);default:return $a(this,e,t,n)}}toDate(e,t){return _a(this,e,t)}toString(){return Za(this)}compare(e){let t=Xo(this,e);return 0===t?function(e,t){return Qo(e)-Qo(t)}(this,Sa(e)):t}constructor(...e){fi(this,nl,{writable:!0,value:void 0});let[t,n,r,s,i]=Qa(e);this.calendar=t,this.era=n,this.year=r,this.month=s,this.day=i,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Aa(this)}}var sl=new WeakMap;class il{copy(){return this.era?new il(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new il(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return Ha(this,e)}subtract(e){return function(e,t){return Ha(e,za(t))}(this,e)}set(e,t){return function(e,t,n){let r=Sa(e),s=Ma(Da(r,t),t);return 0===s.compare(r)?e:ka(ja(wa(s,e.timeZone,n),e.timeZone),e.calendar)}(this,e,t)}cycle(e,t,n){return function(e,t,n,r){switch(t){case"hour":{let t=0,s=23;if(12===(null==r?void 0:r.hourCycle)){let n=e.hour>=12;t=n?12:0,s=n?23:11}let i=Sa(e),o=ka(Ma(i,{hour:t}),new Bo),a=[wa(o,e.timeZone,"earlier"),wa(o,e.timeZone,"later")].filter((t=>ja(t,e.timeZone).day===o.day))[0],l=ka(Ma(i,{hour:s}),new Bo),c=[wa(l,e.timeZone,"earlier"),wa(l,e.timeZone,"later")].filter((t=>ja(t,e.timeZone).day===l.day)).pop(),u=fa(e)-e.offset,d=Math.floor(u/Na),p=u%Na;return u=qa(d,n,Math.floor(a/Na),Math.floor(c/Na),null==r?void 0:r.round)*Na+p,ka(ja(u,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return $a(e,t,n,r);case"era":case"year":case"month":case"day":return ka(ja(wa(Fa(Sa(e),t,n,r),e.timeZone),e.timeZone),e.calendar);default:throw new Error("Unsupported field "+t)}}(this,e,t,n)}toDate(){return function(e){let t=fa(e)-e.offset;return new Date(t)}(this)}toString(){return Xa(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-Ca(e,this.timeZone).toDate().getTime()}constructor(...e){fi(this,sl,{writable:!0,value:void 0});let[t,n,r,s,i]=Qa(e),o=e.shift(),a=e.shift();this.calendar=t,this.era=n,this.year=r,this.month=s,this.day=i,this.timeZone=o,this.offset=a,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Aa(this)}}let ol=new Map;class al{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if("function"==typeof this.formatter.formatRange)return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(t)}`}formatRangeToParts(e,t){if("function"==typeof this.formatter.formatRangeToParts)return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.formatter.formatToParts(e),r=this.formatter.formatToParts(t);return[...n.map((e=>({...e,source:"startRange"}))),{type:"literal",value:" – ",source:"shared"},...r.map((e=>({...e,source:"endRange"})))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return function(){null==dl&&(dl="h12"===new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle);return dl}()&&(this.resolvedHourCycle||(this.resolvedHourCycle=function(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,"");let n=cl(e+=(e.includes("-u-")?"":"-u")+"-nu-latn",{...t,timeZone:void 0}),r=parseInt(n.formatToParts(new Date(2020,2,3,0)).find((e=>"hour"===e.type)).value,10),s=parseInt(n.formatToParts(new Date(2020,2,3,23)).find((e=>"hour"===e.type)).value,10);if(0===r&&23===s)return"h23";if(24===r&&23===s)return"h24";if(0===r&&11===s)return"h11";if(12===r&&11===s)return"h12";throw new Error("Unexpected hour cycle result")}(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12="h11"===this.resolvedHourCycle||"h12"===this.resolvedHourCycle),"ethiopic-amete-alem"===e.calendar&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=cl(e,t),this.options=t}}const ll={true:{ja:"h11"},false:{}};function cl(e,t={}){if("boolean"==typeof t.hour12&&function(){null==ul&&(ul="24"===new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0)));return ul}()){t={...t};let n=ll[String(t.hour12)][e.split("-")[0]],r=t.hour12?"h12":"h23";t.hourCycle=null!=n?n:r,delete t.hour12}let n=e+(t?Object.entries(t).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(ol.has(n))return ol.get(n);let r=new Intl.DateTimeFormat(e,t);return ol.set(n,r),r}let ul=null;let dl=null;function pl(){const{user:e,settings:t}=Ds((e=>e.data)),n=t.dates.default_timezone,r=(null==e?void 0:e.timezone)||n||"auto";return p.useMemo((()=>r&&"auto"!==r?r:ta()),[r])}const hl=[{amount:60,name:"seconds"},{amount:60,name:"minutes"},{amount:24,name:"hours"},{amount:7,name:"days"},{amount:4.34524,name:"weeks"},{amount:12,name:"months"},{amount:Number.POSITIVE_INFINITY,name:"years"}],fl=p.memo((({date:e,style:t})=>{const{localeCode:n}=qs(),s=pl(),i=p.useMemo((()=>new Intl.RelativeTimeFormat(n,{numeric:"auto",style:t})),[n,t]);if(!e)return null;try{"string"==typeof e?e=Ya(e).toDate():"toDate"in e&&(e=e.toDate(s))}catch(a){return null}let o=(e.getTime()-Date.now())/1e3;for(let l=0;l<=hl.length;l++){const e=hl[l];if(Math.abs(o)<e.amount)return"seconds"===e.name?r.jsx(di,{message:"a few seconds ago"}):r.jsx(p.Fragment,{children:i.format(Math.round(o),e.name)});o/=e.amount}return r.jsx(p.Fragment,{children:i.format(Math.round(o),"day")})}),Vs);function ml({notification:e,line:t,index:n,iconRenderer:s}){var i,o;const a="primary"===t.type||0===n,l=s||gl,c=t.action?"a":"div";return r.jsxs(r.Fragment,{children:[r.jsxs(c,{className:N("flex items-center gap-8",t.action&&"hover:underline",a?"mnarktext-main whitespace-nowrap text-sm":"mt-6 text-xs text-muted"),href:null==(i=t.action)?void 0:i.action,title:null==(o=t.action)?void 0:o.label,children:[t.icon&&r.jsx(l,{icon:t.icon}),r.jsx("div",{className:"overflow-hidden text-ellipsis",dangerouslySetInnerHTML:{__html:t.content}})]},n),0===n&&r.jsx("time",{className:"text-xs text-muted",children:r.jsx(fl,{date:e.created_at})})]})}function gl({icon:e}){return r.jsx(Do,{src:e})}function vl(){const e=Ds((e=>e.data));return i({mutationFn:e=>{return t=e,sn.post("notifications/mark-as-read",t).then((e=>e.data));var t},onSuccess:t=>{rn.invalidateQueries({queryKey:ls.key}),0===t.unreadCount&&Fs({user:{...e.user,unread_notifications_count:0}})},onError:e=>Po(e)})}function yl(){const e=f(),t=m();return p.useCallback(((n,r)=>{const s=g(t)===g(v(n,t.pathname));e(n,{...r,replace:!1!==(null==r?void 0:r.replace)&&s})}),[e,t])}function bl(){return Ds((e=>e.data.settings))}const xl={"group-add":Ro,people:Io,"export-csv":Ao};function wl({notifications:e,className:t}){const{notifications:n}=p.useContext(an);return r.jsx("div",{className:t,children:e.map(((t,s)=>{var i;const o=e.length-1===s,a=(null==(i=null==n?void 0:n.renderMap)?void 0:i[t.type])||_l;return r.jsx(a,{notification:t,isLast:o},t.id)}))})}function _l({notification:e,onActionButtonClick:t,lineIconRenderer:n,isLast:s}){const i=vl(),o=yl(),a=e.data.mainAction,l=!e.data.image&&!e.read_at;return r.jsxs("div",{onClick:()=>{var t;i.isPending||e.read_at||i.mutate({ids:[e.id]}),(null==a?void 0:a.action)&&(tn(a.action)?null==(t=window.open(a.action,"_blank"))||t.focus():o(a.action))},className:N("relative flex items-start gap-14 bg-alt px-32 py-20",!s&&"border-b",(null==a?void 0:a.action)&&"cursor-pointer",e.read_at?"hover:bg-hover":"bg-paper hover:bg-primary/10"),title:(null==a?void 0:a.label)?a.label:void 0,children:[l&&r.jsx("div",{className:"absolute left-16 top-26 h-8 w-8 flex-shrink-0 rounded-full bg-primary shadow"}),e.data.image&&r.jsx(Do,{className:"h-24 w-24 flex-shrink-0 text-muted",src:xl[e.data.image]||e.data.image}),r.jsxs("div",{className:"min-w-0",children:[e.data.lines.map(((t,s)=>r.jsx(ml,{iconRenderer:n,notification:e,line:t,index:s},s))),r.jsx(jl,{onActionClick:t,notification:e})]})]})}function jl({notification:e,onActionClick:t}){const{base_url:n}=bl();return e.data.buttonActions?r.jsx("div",{className:"mt-12 flex items-center gap-12",children:e.data.buttonActions.map(((e,s)=>r.jsx(mo,{size:"xs",variant:0===s?"flat":"outline",color:0===s?"primary":null,elementType:t?void 0:y,to:t?void 0:e.action.replace(n,""),onClick:n=>{null==t||t(n,e)},children:e.label},s)))}):null}function El(){return i({mutationFn:e=>function({inviteId:e}){return sn.delete(`workspace/invite/${e}`).then((e=>e.data))}(e),onSuccess:()=>{rn.invalidateQueries({queryKey:ls.key}),Xr(ln("Declined workspace invitation"))},onError:e=>{Xt.isAxiosError(e)&&e.response&&404===e.response.status?(rn.invalidateQueries({queryKey:ls.key}),Xr.danger(ln("This invite is no longer valid"))):Po(e)}})}const Sl="Common\\Workspaces\\Notifications\\WorkspaceInvitation",kl={auth:{redirectUri:"/",adminRedirectUri:"/admin"},tags:{types:[{name:"custom"}]},customPages:{types:[{type:"default",label:ln("Default")}]},notifications:{renderMap:{[Sl]:function(e){const{notification:t}=e,n=Oo(),s=El(),i=As();return r.jsx(_l,{...e,onActionButtonClick:(e,{action:r})=>{const o=t.data;"join"===r&&n.mutate({inviteId:o.inviteId}),"decline"===r&&s.mutate({inviteId:o.inviteId}),null==i||i.close()}})}}},admin:{ads:[]},demo:{loginPageDefaults:"singleAccount"},homepage:{options:[{label:ln("Login page"),value:"loginPage"},{label:ln("Registration page"),value:"registerPage"}]}};function Cl(e,t){null==no||no.style.setProperty(e,t)}function Tl(e){Object.entries(e.values).forEach((([e,t])=>{Cl(e,t)})),e.is_dark?no.classList.add("dark"):no.classList.remove("dark"),no.dataset.themeId=`${e.id}`}const Nl=p.createContext(null);function Pl(){return p.useContext(Nl)}const Ol="be-active-theme";function Rl({children:e}){var t;const n=bl(),s=function(){const[e,t]=p.useState((()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return p.useEffect((()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{t(e.matches?"dark":"light")};return e.addEventListener("change",n),()=>{e.removeEventListener("change",n)}}),[]),e}(),i=Ds((e=>e.data)).themes,[o,a]=ss(Ol),[l,c]=p.useState(null),u=l??o,d=p.useCallback((e=>{c(e)}),[]),h=p.useCallback((e=>0==e||"system"===e?i.find((e=>"light"===s?e.default_light:e.default_dark)):"light"===e||"dark"===e?i.find((t=>t.default_light===("light"===e))):i.find((t=>t.id==e))),[i,s]);let f=h(u||((null==(t=n.themes)?void 0:t.default_id)??0));f||(f=i[0]),p.useEffect((()=>{const e=no.dataset.themeId;f&&`${f.id}`!=`${e}`&&Tl(f)}),[f.id]);const m=p.useMemo((()=>({allThemes:i,selectedTheme:f,selectThemeTemporarily:d,selectTheme:e=>{const t=h(e);t&&(a(`${t.id}`),Tl(t))}})),[i,f,a,h,d]);return r.jsx(Nl.Provider,{value:m,children:e})}function Il(e,t){return t||btoa(e.split("/").pop())}const Al=new class{constructor(){t(this,"loadedAssets",{})}loadAsset(e,t={type:"js"}){var n;e=e.startsWith("//")?`${window.location.protocol}${e}`:e;const r=null==(n=this.loadedAssets[e])?void 0:n.state;if("loaded"===r&&!t.force)return new Promise((e=>e()));return!r||this.loadedAssets[e].doc!==t.document||t.force&&"loaded"===r?(this.loadedAssets[e]={state:new Promise((n=>{const r={url:tn(e)?e:`assets/${e}`,id:Il(e,t.id),resolve:n,parentEl:t.parentEl,document:t.document};"css"===t.type?this.loadStyleAsset(r):this.loadScriptAsset(r)})),doc:t.document},this.loadedAssets[e].state):this.loadedAssets[e].state}isLoadingOrLoaded(e){return null!=this.loadedAssets[e]}loadStyleAsset(e){var t;const n=e.document||document,r=e.parentEl||n.head,s=n.createElement("link"),i=Il(e.url,e.id);s.rel="stylesheet",s.id=i,s.href=e.url;try{r.querySelector(`#${i}`)&&(null==(t=r.querySelector(`#${i}`))||t.remove())}catch(o){}s.onload=()=>{this.loadedAssets[e.url].state="loaded",e.resolve()},r.appendChild(s)}loadScriptAsset(e){var t;const n=e.document||document,r=e.parentEl||n.body,s=n.createElement("script"),i=Il(e.url,e.id);s.async=!0,s.id=i,s.src=e.url;try{r.querySelector(`#${i}`)&&(null==(t=r.querySelector(`#${i}`))||t.remove())}catch(o){}s.onload=()=>{this.loadedAssets[e.url].state="loaded",e.resolve()},(r||r).appendChild(s)}};function zl(e,t){const n=t.document||document,r=[],s=[];let i=[];if(e.forEach((e=>{"google"in e&&e.google?r.push(e):"src"in e&&s.push(e)})),null==r?void 0:r.length){const r=t.weights||[400],s=e.map((e=>`${e.family}:${r.join(",")}`)).join("|"),a=Al.loadAsset(`https://fonts.googleapis.com/css?family=${s}&display=swap`,{type:"css",id:(o=t.id,`be-fonts-${o}`),force:t.forceAssetLoad,document:n});i.push(a)}var o;if(null==s?void 0:s.length){const e=s.map((async e=>{const r=Array.from(n.fonts.values()).find((t=>t.family===e.family));if(r)return r.loaded;const s=new FontFace(e.family,`url(${(null==t?void 0:t.prefixSrc)?t.prefixSrc(e.src):e.src})`,e.descriptors);return n.fonts.add(s),s.load()}));i=i.concat(e)}return Promise.all(i)}function Ll(){const e=window.frameElement||void 0;if(!(null==e?void 0:e.src))return{isAppearanceEditorActive:!1,appearanceEditorParams:{}};const t=new URL(e.src).searchParams;return{isAppearanceEditorActive:"true"===t.get("appearanceEditor"),appearanceEditorParams:Object.fromEntries(t)}}function Dl(){const{isAppearanceEditorActive:e}=Ll(),t=p.useRef(!1),n=Ds((e=>e.data)),{selectThemeTemporarily:r}=Pl(),s=p.useCallback((e=>{var t;switch(e.type){case"setValues":const s={};return(null==(t=e.values.appearance)?void 0:t.themes)&&(s.themes=e.values.appearance.themes),e.values.settings&&(s.settings=Tn(n.settings,e.values.settings,{arrayMerge:(e,t)=>t})),Fs(s);case"setThemeFont":return void(e.value?(Cl("--be-font-family",e.value.family),zl([e.value],{id:"be-primary-font",forceAssetLoad:!0})):function(e){null==no||no.style.removeProperty(e)}("--be-font-family"));case"setThemeValue":return Cl(e.name,e.value);case"setActiveTheme":return void r(e.themeId);case"setCustomCode":return function(e,t){const n="html"===e?document.body:document.head,r="html"===e?"div":"style";let s=n.querySelector("#be-custom-code");t?(s||(s=document.createElement(r),s.id="be-custom-code",n.appendChild(s)),s.innerHTML=t):s&&s.remove()}(e.mode,e.value)}}),[n,r]);return p.useEffect((()=>{const n=e=>{(function(e){var t;return"be-appearance-editor"===(null==(t=e.data)?void 0:t.source)})(e)&&function(e){return new URL(e.origin).hostname===window.location.hostname}(e)&&s(e.data)};return window.addEventListener("message",n),e&&!t.current&&(window.postMessage({source:"be-appearance-preview",type:"appLoaded"},"*"),t.current=!0),()=>{window.removeEventListener("message",n)}}),[s,e]),null}function Ml(e,t=null){const[n,r]=p.useState((()=>Ul(e,t)));return p.useEffect((()=>{const t=t=>{var n;(null==(n=t.detail)?void 0:n.key)===e&&r(t.detail.newValue)};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)}),[e]),[n,t=>{const s=t instanceof Function?t(n):t;r(s),Fl(e,s)}]}function Ul(e,t=null){if("undefined"==typeof window)return t;try{const n=window.localStorage.getItem(e);return null!=n?JSON.parse(n):t}catch(n){return t}}function Fl(e,t){try{"undefined"!=typeof window&&(window.localStorage.setItem(e,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("storage",{detail:{key:e,newValue:t}})))}catch(n){}}function $l(e){try{"undefined"!=typeof window&&window.localStorage.removeItem(e)}catch(t){}}function ql(){const e=Ds((e=>e.data)),{auth:{redirectUri:t="/"}}=p.useContext(an);return p.useMemo((()=>{const n=new Hl(e);return{user:n.user,hasPermission:n.hasPermission.bind(n),getPermission:n.getPermission.bind(n),getRestrictionValue:n.getRestrictionValue.bind(n),checkOverQuotaOrNoPermission:n.checkOverQuotaOrNoPermission.bind(n),hasRole:n.hasRole.bind(n),isLoggedIn:n.isLoggedIn,isSubscribed:n.isSubscribed,getRedirectUri:()=>{const e=Ul("be.onboarding.selected");return e?`/checkout/${e.productId}/${e.priceId}`:t}}}),[e,t])}class Hl{constructor(e){this._data=e}get data(){return this._data??Ms()}get user(){return this.data.user}get isLoggedIn(){return!!this.user}get isSubscribed(){var e,t;return null!=(null==(t=null==(e=this.user)?void 0:e.subscriptions)?void 0:t.find((e=>e.valid)))}get guestRole(){return this.data.guest_role}getPermission(e){var t,n;const r=(null==(t=this.user)?void 0:t.permissions)||(null==(n=this.guestRole)?void 0:n.permissions);if(r)return r.find((t=>t.name===e))}hasPermission(e){var t,n;const r=(null==(t=this.user)?void 0:t.permissions)||(null==(n=this.guestRole)?void 0:n.permissions);return null!=(null==r?void 0:r.find((e=>"admin"===e.name)))||null!=this.getPermission(e)}hasRole(e){var t,n;return null!=(null==(n=null==(t=this.user)?void 0:t.roles)?void 0:n.find((t=>t.id===e)))}checkOverQuotaOrNoPermission(e,t,n){const r=!this.hasPermission(e),s=this.getRestrictionValue(e,t);return{overQuota:null!=s&&n>=s,noPermission:r,overQuotaOrNoPermission:null!=s&&n>=s||r}}getRestrictionValue(e,t){const n=this.getPermission(e);let r=null;if(n){const e=n.restrictions.find((e=>e.name===t));r=e?e.value:void 0}return r}}const Bl=new Hl;function Vl(e,t){var n,r;if("function"==typeof t)void 0!==(r=t(e))&&(e=r);else if(Array.isArray(t))for(n=0;n<t.length;n++)void 0!==(r=t[n](e))&&(e=r);return e}function Kl(e,t){return"-"===e[0]&&Array.isArray(t)&&/^-\d+$/.test(e)?t.length+parseInt(e,10):e}function Wl(e){return"[object Object]"===Object.prototype.toString.call(e)}function Yl(e){return Object(e)===e}function Gl(e){return 0===Object.keys(e).length}var Jl=["__proto__","prototype","constructor"],Zl=function(e){return-1===Jl.indexOf(e)};function Xl(e,t){e.indexOf("[")>=0&&(e=e.replace(/\[/g,t).replace(/]/g,""));var n=e.split(t);if(n.filter(Zl).length!==n.length)throw Error("Refusing to update blacklisted property "+e);return n}var Ql=Object.prototype.hasOwnProperty;function ec(e,t,n,r){if(!(this instanceof ec))return new ec(e,t,n,r);void 0===t&&(t=!1),void 0===n&&(n=!0),void 0===r&&(r=!0),this.separator=e||".",this.override=t,this.useArray=n,this.useBrackets=r,this.keepArray=!1,this.cleanup=[]}var tc=new ec(".",!1,!0,!0);function nc(e){return function(){return tc[e].apply(tc,arguments)}}ec.prototype._fill=function(e,t,n,r){var s=e.shift();if(e.length>0){if(t[s]=t[s]||(this.useArray&&function(e){return/^\d+$/.test(e)}(e[0])?[]:{}),!Yl(t[s])){if(!this.override){if(!Yl(n)||!Gl(n))throw new Error("Trying to redefine `"+s+"` which is a "+typeof t[s]);return}t[s]={}}this._fill(e,t[s],n,r)}else{if(!this.override&&Yl(t[s])&&!Gl(t[s])){if(!Yl(n)||!Gl(n))throw new Error("Trying to redefine non-empty obj['"+s+"']");return}t[s]=Vl(n,r)}},ec.prototype.object=function(e,t){var n=this;return Object.keys(e).forEach((function(r){var s=void 0===t?null:t[r],i=Xl(r,n.separator).join(n.separator);-1!==i.indexOf(n.separator)?(n._fill(i.split(n.separator),e,e[r],s),delete e[r]):e[r]=Vl(e[r],s)})),e},ec.prototype.str=function(e,t,n,r){var s=Xl(e,this.separator).join(this.separator);return-1!==e.indexOf(this.separator)?this._fill(s.split(this.separator),n,t,r):n[e]=Vl(t,r),n},ec.prototype.pick=function(e,t,n,r){var s,i,o,a,l;for(i=Xl(e,this.separator),s=0;s<i.length;s++){if(a=Kl(i[s],t),!t||"object"!=typeof t||!(a in t))return;if(s===i.length-1)return n?(o=t[a],r&&Array.isArray(t)?t.splice(a,1):delete t[a],Array.isArray(t)&&(l=i.slice(0,-1).join("."),-1===this.cleanup.indexOf(l)&&this.cleanup.push(l)),o):t[a];t=t[a]}return n&&Array.isArray(t)&&(t=t.filter((function(e){return void 0!==e}))),t},ec.prototype.delete=function(e,t){return this.remove(e,t,!0)},ec.prototype.remove=function(e,t,n){var r;if(this.cleanup=[],Array.isArray(e)){for(r=0;r<e.length;r++)this.pick(e[r],t,!0,n);return n||this._cleanup(t),t}return this.pick(e,t,!0,n)},ec.prototype._cleanup=function(e){var t,n,r,s;if(this.cleanup.length){for(n=0;n<this.cleanup.length;n++)t=(t=(s=(r=this.cleanup[n].split(".")).splice(0,-1).join("."))?this.pick(s,e):e)[r[0]].filter((function(e){return void 0!==e})),this.set(this.cleanup[n],t,e);this.cleanup=[]}},ec.prototype.del=ec.prototype.remove,ec.prototype.move=function(e,t,n,r,s){return"function"==typeof r||Array.isArray(r)?this.set(t,Vl(this.pick(e,n,!0),r),n,s):(s=r,this.set(t,this.pick(e,n,!0),n,s)),n},ec.prototype.transfer=function(e,t,n,r,s,i){return"function"==typeof s||Array.isArray(s)?this.set(t,Vl(this.pick(e,n,!0),s),r,i):(i=s,this.set(t,this.pick(e,n,!0),r,i)),r},ec.prototype.copy=function(e,t,n,r,s,i){return"function"==typeof s||Array.isArray(s)?this.set(t,Vl(JSON.parse(JSON.stringify(this.pick(e,n,!1))),s),r,i):(i=s,this.set(t,this.pick(e,n,!1),r,i)),r},ec.prototype.set=function(e,t,n,r){var s,i,o,a;if(void 0===t)return n;for(o=Xl(e,this.separator),s=0;s<o.length;s++){if(a=o[s],s===o.length-1)if(r&&Wl(t)&&Wl(n[a]))for(i in t)Ql.call(t,i)&&(n[a][i]=t[i]);else if(r&&Array.isArray(n[a])&&Array.isArray(t))for(var l=0;l<t.length;l++)n[o[s]].push(t[l]);else n[a]=t;else Ql.call(n,a)&&(Wl(n[a])||Array.isArray(n[a]))||(/^\d+$/.test(o[s+1])?n[a]=[]:n[a]={});n=n[a]}return n},ec.prototype.transform=function(e,t,n){return t=t||{},n=n||{},Object.keys(e).forEach(function(r){this.set(e[r],this.pick(r,t),n)}.bind(this)),n},ec.prototype.dot=function(e,t,n){t=t||{},n=n||[];var r=Array.isArray(e);return Object.keys(e).forEach(function(s){var i=r&&this.useBrackets?"["+s+"]":s;if(Yl(e[s])&&(Wl(e[s])&&!Gl(e[s])||Array.isArray(e[s])&&!this.keepArray&&0!==e[s].length)){if(r&&this.useBrackets){var o=n[n.length-1]||"";return this.dot(e[s],t,n.slice(0,-1).concat(o+i))}return this.dot(e[s],t,n.concat(i))}r&&this.useBrackets?t[n.join(this.separator).concat("["+s+"]")]=e[s]:t[n.concat(i).join(this.separator)]=e[s]}.bind(this)),t},ec.pick=nc("pick"),ec.move=nc("move"),ec.transfer=nc("transfer"),ec.transform=nc("transform"),ec.copy=nc("copy"),ec.object=nc("object"),ec.str=nc("str"),ec.set=nc("set"),ec.delete=nc("delete"),ec.del=ec.remove=nc("remove"),ec.dot=nc("dot"),["override","overwrite"].forEach((function(e){Object.defineProperty(ec,e,{get:function(){return tc.override},set:function(e){tc.override=!!e}})})),["useArray","keepArray","useBrackets"].forEach((function(e){Object.defineProperty(ec,e,{get:function(){return tc[e]},set:function(t){tc[e]=t}})})),ec._process=Vl;const rc=d(ec);function sc(e){const t=bl(),{user:n,hasPermission:r}=ql();return p.useMemo((()=>{var s;if(!e)return null;const i="string"==typeof e?null==(s=t.menus)?void 0:s.find((t=>{var n;return null==(n=t.positions)?void 0:n.includes(e)})):e,o=[];if(i){for(const e of i.items){const s=(e.roles||[]).every((e=>null==n?void 0:n.roles.find((t=>t.id===e)))),i=(e.permissions||[]).every((e=>r(e))),a=!e.settings||Object.entries(e.settings).every((([e,n])=>rc.pick(e,t)==n));e.action&&s&&i&&a&&ic(e,n)&&((null==n?void 0:n.id)&&(e.action=e.action.replace(/{currentUser}/g,`${n.id}`)),o.push(e))}i.items=o}return i}),[r,t,e,n])}function ic(e,t){var n;if(!e.subscriptionStatus)return!0;const r=!!(null==(n=null==t?void 0:t.subscriptions)?void 0:n.find((e=>e.active)));return"subscribed"===e.subscriptionStatus?r:!r}function oc({className:e,iconClassName:t,itemClassName:n,gap:s="gap-30",menu:i,orientation:o="horizontal",children:a,matchDescendants:l,onlyShowIcons:c,iconSize:u,unstyled:d=!1}){const p=sc(i);return p?r.jsx("div",{className:N("flex",s,"vertical"===o?"flex-col items-start":"items-center",e),"data-menu-id":p.id,children:p.items.map((e=>{const s={item:e,unstyled:d,onlyShowIcon:c,matchDescendants:l,iconClassName:t,iconSize:u,className:t=>"function"==typeof n?n({...t,item:e}):n};return a?a(e,s):r.jsx(ac,{...s},e.id)}))}):null}const ac=p.forwardRef((({item:e,className:t,matchDescendants:n,unstyled:s,onlyShowIcon:i,iconClassName:o,iconSize:a="sm",extraContent:l,position:c="relative",...u},d)=>{const h=r.jsx(di,{message:e.label}),f=e.icon&&si(e.icon);let m=f?r.jsx(f,{size:a,className:o}):null;m&&i&&h&&(m=r.jsx(lo,{label:h,placement:"right",children:m}));const g=r.jsxs(p.Fragment,{children:[m,(!m||!i)&&h]}),v=!s&&"whitespace-nowrap flex items-center justify-start gap-10",y=!s&&"outline-none focus-visible:ring-2";return"link"===e.type?r.jsxs("a",{className:N(v,null==t?void 0:t({isActive:!1}),y,c),href:e.action,target:e.target,"data-menu-item-id":e.id,ref:d,...u,children:[l,g]}):r.jsxs(b,{end:"function"==typeof n?n(e.action):n,className:e=>N(v,null==t?void 0:t(e),y,c),to:e.action,target:e.target,"data-menu-item-id":e.id,ref:d,...u,children:[l,g]})}));function lc(){const{cookie_notice:e}=bl(),[,t]=ss("cookie_notice"),[n,s]=p.useState((()=>!Ms().show_cookie_notice));return!(null==e?void 0:e.enable)||n?null:r.jsxs("div",{className:N("fixed z-50 flex w-full justify-center gap-14 bg-toast p-14 text-sm text-white shadow max-md:flex-col md:items-center md:gap-30","top"==(null==e?void 0:e.position)?"top-0":"bottom-0"),children:[r.jsx(di,{message:"We use cookies to optimize site functionality and provide you with the\n      best possible experience."}),r.jsx(cc,{}),r.jsx(mo,{variant:"flat",color:"primary",size:"xs",className:"max-w-100",onClick:()=>{t("true",{days:30,path:"/"}),s(!0)},children:r.jsx(di,{message:"OK"})})]})}function cc(){var e;const{cookie_notice:t}=bl();return(null==(e=null==t?void 0:t.button)?void 0:e.label)?r.jsx(ac,{className:()=>"text-primary-light hover:underline",item:null==t?void 0:t.button}):null}function uc({value:e}){return e?"string"==typeof e?r.jsx(di,{message:e}):r.jsx(di,{...e}):null}const dc=ri(r.jsx("path",{d:"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutlineOutlined"),pc=ri(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlined");function hc(e,t,n){return Math.min(Math.max(e,t),n)}let fc=new Map,mc=!1;try{mc="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(oS){}let gc=!1;try{gc="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(oS){}const vc={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class yc{format(e){let t="";if(t=mc||null==this.options.signDisplay?this.numberFormatter.format(e):function(e,t,n){if("auto"===t)return e.format(n);if("never"===t)return e.format(Math.abs(n));{let r=!1;if("always"===t?r=n>0||Object.is(n,0):"exceptZero"===t&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let t=e.format(-n),r=e.format(n),s=t.replace(r,"").replace(/\u200e|\u061C/,"");return t.replace(r,"!!!").replace(s,"+").replace("!!!",r)}return e.format(n)}}(this.numberFormatter,this.options.signDisplay,e),"unit"===this.options.style&&!gc){var n;let{unit:e,unitDisplay:r="short",locale:s}=this.resolvedOptions();if(!e)return t;let i=null===(n=vc[e])||void 0===n?void 0:n[r];t+=i[s]||i.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if("function"==typeof this.numberFormatter.formatRange)return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if("function"==typeof this.numberFormatter.formatRangeToParts)return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(t);return[...n.map((e=>({...e,source:"startRange"}))),{type:"literal",value:" – ",source:"shared"},...r.map((e=>({...e,source:"endRange"})))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return mc||null==this.options.signDisplay||(e={...e,signDisplay:this.options.signDisplay}),gc||"unit"!==this.options.style||(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=function(e,t={}){let{numberingSystem:n}=t;n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`);if("unit"===t.style&&!gc){var r;let{unit:e,unitDisplay:n="short"}=t;if(!e)throw new Error('unit option must be provided with style: "unit"');if(!(null===(r=vc[e])||void 0===r?void 0:r[n]))throw new Error(`Unsupported unit ${e} with unitDisplay = ${n}`);t={...t,style:"decimal"}}let s=e+(t?Object.entries(t).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(fc.has(s))return fc.get(s);let i=new Intl.NumberFormat(e,t);return fc.set(s,i),i}(e,t),this.options=t}}function bc(e={}){const{localeCode:t}=qs();return p.useMemo((()=>new yc(t,e)),[t,e])}const xc=c.forwardRef(((e,t)=>{let{value:n=0,minValue:s=0,maxValue:i=100,size:o="md",isIndeterminate:a=!1,className:l,position:c="relative",trackColor:u,fillColor:d="border-primary",trackWidth:p=3,...h}=e;n=hc(n,s,i);const f=p,m=16-f,g=2*m*Math.PI,v=a?.25:(n-s)/(i-s),y=bc({style:"percent"}),b=g-v*g;let x="";return a||x||(x=y.format(v)),r.jsx("div",{...h,"aria-valuenow":a?void 0:n,"aria-valuemin":s,"aria-valuemax":i,"aria-valuetext":a?void 0:x,role:"progressbar",ref:t,className:N(c,wc(o),l),children:r.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",strokeWidth:f,className:N("progress-circle h-full w-full",a&&"indeterminate"),children:[r.jsx("circle",{cx:"50%",cy:"50%",r:m,role:"presentation",strokeDasharray:`${g} ${g}`,strokeDashoffset:"0",transform:"rotate(-90 16 16)",className:"progress-circle-track"}),r.jsx("circle",{cx:"50%",cy:"50%",r:m,role:"presentation",strokeDasharray:`${g} ${g}`,strokeDashoffset:b,transform:"rotate(-90 16 16)",className:"progress-circle-fill"})]})})}));function wc(e){switch(e){case"xs":return"w-18 h-18";case"sm":return"w-32 h-32";case"md":return"w-40 h-40";case"lg":return"w-48 h-48";default:return e}}const _c={opacity:0,y:50,scale:.3},jc={opacity:1,y:0,scale:1},Ec={opacity:0,scale:.5};function Sc(){const e=Jr((e=>e.toasts));return r.jsx("div",{className:"pointer-events-none relative",children:r.jsx(D,{initial:!1,children:e.map((e=>r.jsx("div",{className:N("fixed z-toast mx-auto p-20","bottom-center"===e.position?"bottom-0 left-0 right-0":"bottom-0 right-0"),children:r.jsxs(M.div,{initial:e.disableEnterAnimation?void 0:_c,animate:e.disableEnterAnimation?void 0:jc,exit:e.disableExitAnimation?void 0:Ec,className:N("pointer-events-auto mx-auto flex max-h-100 min-h-50 w-min min-w-288 max-w-500 items-center gap-10 rounded-lg border bg py-6 pl-16 pr-6 text-sm text-main shadow-lg"),onPointerEnter:()=>{var t;return null==(t=e.timer)?void 0:t.pause()},onPointerLeave:()=>{var t;return null==(t=e.timer)?void 0:t.resume()},role:"alert","aria-live":"danger"===e.type?"assertive":"polite",children:["danger"===e.type&&r.jsx(dc,{className:"flex-shrink-0 text-danger",size:"md"}),"loading"===e.type&&r.jsx(xc,{size:"sm",className:"flex-shrink-0",isIndeterminate:!0}),"positive"===e.type&&r.jsx(pc,{className:"flex-shrink-0 text-positive",size:"md"}),r.jsx("div",{className:"mr-auto w-max overflow-hidden overflow-ellipsis","data-testid":"toast-message",children:r.jsx(uc,{value:e.message})}),e.action&&r.jsx(mo,{variant:"text",color:"primary",size:"sm",className:"flex-shrink-0",onFocus:()=>{var t;return null==(t=e.timer)?void 0:t.pause()},onBlur:()=>{var t;return null==(t=e.timer)?void 0:t.resume()},onClick:()=>Zr().remove(e.id),elementType:y,to:e.action.action,children:r.jsx(uc,{value:e.action.label})}),"loading"!==e.type&&r.jsx(ei,{onFocus:()=>{var t;return null==(t=e.timer)?void 0:t.pause()},onBlur:()=>{var t;return null==(t=e.timer)?void 0:t.resume()},type:"button",className:"flex-shrink-0",onClick:()=>{Zr().remove(e.id)},size:"sm",children:r.jsx(ai,{})})]})},e.id)))})})}function kc(e,{noSSR:t}={noSSR:!0}){const n="undefined"!=typeof window&&"function"==typeof window.matchMedia,[r,s]=p.useState(t?()=>!!n&&window.matchMedia(e).matches:null);return p.useEffect((()=>{if(!n)return;const r=window.matchMedia(e),i=()=>{s(r.matches)};return r.addEventListener("change",i),t||i(),()=>{r.removeEventListener("change",i)}}),[n,e,t]),"undefined"==typeof window?null:r}function Cc(e){return kc("(max-width: 768px)",e)}function Tc(){const{width:e,height:t}=function(){let e=ms(),[t,n]=p.useState((()=>e?{width:0,height:0}:Os()));return p.useEffect((()=>{let e=()=>{n((e=>{let t=Os();return t.width===e.width&&t.height===e.height?e:t}))};return Ps?Ps.addEventListener("resize",e):window.addEventListener("resize",e),()=>{Ps?Ps.removeEventListener("resize",e):window.removeEventListener("resize",e)}}),[]),t}();return{"--be-viewport-height":`${t}px`,"--be-viewport-width":`${e}px`}}const Nc=p.forwardRef((({children:e,style:t,autoFocus:n=!1,restoreFocus:s=!0,isDismissable:i,isContextMenu:o,isOpen:a,onClose:l,triggerRef:c,arrowRef:u,arrowStyle:d,onPointerLeave:h,onPointerEnter:f},m)=>{const g=Tc(),v=Ns(m),{domProps:y}=function({onClose:e,isDismissable:t=!0,triggerRef:n,isContextMenu:r=!1},s){const i=p.useRef({isPointerDown:!1,isContextMenu:r,onClose:e}),o=i.current;o.isContextMenu=r,o.onClose=e;const a=p.useCallback((e=>{const t=e.target;if(t){const e=t.ownerDocument;if(!e||!e.documentElement.contains(t))return!1}return s.current&&!s.current.contains(t)}),[s]),l=p.useCallback((()=>Pc[Pc.length-1]===s),[s]),c=p.useCallback((()=>{l()&&o.onClose()}),[l,o]),u=p.useCallback((e=>{var t,r;return!(!n.current||!("contains"in n.current))&&(null==(r=(t=n.current).contains)?void 0:r.call(t,e))}),[n]),d=p.useCallback((e=>{u(e.target)||l()&&(e.stopPropagation(),e.preventDefault())}),[u,l]),h=p.useCallback((e=>{u(e.target)||(l()&&(e.stopPropagation(),e.preventDefault()),o.isContextMenu&&2===e.button||c())}),[u,c,o,l]);p.useEffect((()=>{Pc.push(s);const e=e=>{a(e)&&(d(e),i.current.isPointerDown=!0)},t=e=>{i.current.isPointerDown&&a(e)&&(i.current.isPointerDown=!1,h(e))},r=e=>{e.preventDefault(),a(e)&&c()},l=e=>{if(!n.current)return;const t=e.target;let r;n.current instanceof Node?r=n.current:"contextElement"in n.current&&(r=n.current.contextElement),t instanceof Node&&r&&!t.contains(r)||o.onClose()};return document.addEventListener("pointerdown",e,!0),document.addEventListener("pointerup",t,!0),document.addEventListener("contextmenu",r,!0),document.addEventListener("scroll",l,!0),()=>{const n=Pc.indexOf(s);n>=0&&Pc.splice(n,1),document.removeEventListener("pointerdown",e,!0),document.removeEventListener("pointerup",t,!0),document.removeEventListener("contextmenu",r,!0),document.removeEventListener("scroll",l,!0)}}),[s,a,o,h,d,n,u,c]);return{domProps:{onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),c())}}}}({isDismissable:i,isOpen:a,onClose:l,triggerRef:c,isContextMenu:o},v);return r.jsx(M.div,{className:"isolate z-popover",role:"presentation",ref:v,style:{...g,...t,position:"fixed"},...eo,...ws(y,{onPointerLeave:h,onPointerEnter:f}),children:r.jsx(Ri,{restoreFocus:s,autoFocus:n,contain:!1,children:e})})})),Pc=[];const Oc={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}};function Rc({position:e="absolute",className:t,isTransparent:n=!1,isBlurred:s=!0,disableInitialTransition:i,...o}){return r.jsx(M.div,{...o,className:N(t,!n&&"bg-background/80","inset-0 z-10 h-full w-full",e,s&&"backdrop-blur-sm"),"aria-hidden":!0,initial:i?void 0:{opacity:0},animate:{opacity:1},exit:{opacity:0},...Oc,transition:{duration:.15}})}const Ic=p.forwardRef((({children:e,autoFocus:t=!1,restoreFocus:n=!0,isDismissable:s,isOpen:i,onClose:o},a)=>{const l=Tc(),c=Ns(a);return r.jsxs("div",{className:"fixed inset-0 isolate z-tray",style:l,children:[r.jsx(Rc,{onClick:()=>{s&&o()}},"tray-underlay"),r.jsx(M.div,{ref:c,className:"absolute bottom-0 left-0 right-0 z-20 mx-auto max-h-tray w-full max-w-375 overflow-hidden rounded-t pb-safe-area",role:"presentation",initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"tween",duration:.2},children:r.jsx(Ri,{restoreFocus:n,autoFocus:t,contain:!0,children:e})})]})})),Ac=p.forwardRef((({children:e,autoFocus:t=!1,restoreFocus:n=!0,isDismissable:s=!0,isOpen:i=!1,placement:o="center",onClose:a},l)=>{const c=Tc(),u=Ns(l);return r.jsxs("div",{className:"fixed inset-0 isolate z-modal",style:c,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),a())},children:[r.jsx(Rc,{onClick:()=>{s&&a()}},"modal-underlay"),r.jsx(M.div,{ref:u,className:N("pointer-events-none absolute inset-0 z-20 flex h-full w-full","center"===o&&"items-center justify-center","top"===o&&"items-start justify-center pt-40"),role:"presentation",initial:{opacity:0,scale:"top"===o?1:.7},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1},transition:{duration:.1},children:r.jsx(Ri,{restoreFocus:n,autoFocus:t,contain:!0,children:e})})]})}));function zc({children:e,label:t,index:n}){const s=p.useId();return r.jsxs("div",{role:"group",className:N(0!==n&&"border-t my-4"),"aria-labelledby":t?`be-select-${s}`:void 0,children:[t&&r.jsx("div",{className:"block uppercase text-muted text-xs px-16 py-10",role:"presentation",id:`be-select-${s}`,"aria-hidden":"true",children:t}),e]})}const Lc=Ls((({maxItems:e,children:t,items:n,inputValue:r})=>{let s=Mc({children:t,items:n}),i=Dc({collection:s,inputValue:r});return e&&(s=new Map([...s.entries()].slice(0,e)),i=new Map([...i.entries()].slice(0,e))),{collection:s,filteredCollection:i}})),Dc=Ls((({collection:e,inputValue:t})=>{let n=new Map;const r=t?`${t}`.toLowerCase().trim():"";if(r){let t=0;e.forEach(((e,s)=>{(e.item?JSON.stringify(e.item):e.textLabel).toLowerCase().trim().includes(r)&&n.set(s,{...e,index:t++})}))}else n=e;return n})),Mc=Ls((({children:e,items:t})=>{let n;n=t&&"function"==typeof e?t.map((t=>e(t))):e;const r=new Map;let s=0;const i=(e,n,i,o)=>{const a=s++,l=n?null==t?void 0:t[i].items[o]:null==t?void 0:t[a];r.set(e.props.value,{index:a,element:e,textLabel:Uc(e),item:l,section:n,isDisabled:e.props.isDisabled,value:e.props.value})};return p.Children.forEach(n,((e,t)=>{p.isValidElement(e)&&(e.type===zc?p.Children.forEach(e.props.children,((n,r)=>{i(n,e,t,r)})):i(e))})),r}));function Uc(e){var t;const n=e.props.children;return e.props.textLabel?e.props.textLabel:(null==(t=null==n?void 0:n.props)?void 0:t.message)?n.props.message:`${n}`||""}function Fc(e,t){const{children:n,items:r,role:s="listbox",virtualFocus:i,focusLoopingMode:o="stay",autoFocusFirstItem:a=!0,onItemSelected:l,clearInputOnItemSelection:c,blurReferenceOnItemSelection:u,floatingWidth:d="matchTrigger",floatingMinWidth:h,floatingMaxHeight:f,offset:m,placement:g,showCheckmark:v,showEmptyMessage:y,maxItems:b,isAsync:x,allowCustomValue:w,clearSelectionOnInputClear:_}=e,j=e.selectionMode||"none",E=`${p.useId()}-listbox`,[S,k]=Rs(e.inputValue,e.defaultInputValue||"",e.onInputValueChange),[C,T]=p.useState("all"),N=Lc({children:n,items:r,inputValue:x?void 0:S,maxItems:b}),P="all"===C?N.collection:N.filteredCollection,O=p.useRef([]),R=p.useMemo((()=>[...P.values()].map((e=>e.isDisabled?null:e.textLabel))),[P]),{selectedValues:I,selectValues:A}=function(e){const{selectionMode:t,allowEmptySelection:n}=e,r="single"===t||"multiple"===t,[s,i]=Rs(r?e.selectedValue:void 0,r?e.defaultSelectedValue:void 0,r?e.onSelectionChange:void 0),o=p.useMemo((()=>void 0===s?[]:Array.isArray(s)?s:[s]),[s]),a=p.useCallback((e=>{const r=Array.isArray(e)?e:[e];"single"===t?i(r[0]):r.forEach((e=>{const t=o.indexOf(e);-1===t?(o.push(e),i([...o])):(o.length>1||n)&&(o.splice(t,1),i([...o]))}))}),[n,o,t,i]);return{selectedValues:o,selectValues:a}}(e),[z,L]=Rs(e.isOpen,e.defaultIsOpen,e.onOpenChange),[D,M]=p.useState(null),U=Qi({floatingWidth:d,ref:t,placement:g,offset:m,maxHeight:f??420,shiftCrossAxis:!i}),{refs:F,strategy:$,x:q,y:H}=U,B="none"===j?void 0:P.get(I[0]),V="none"===j||null==B?void 0:B.index,K=p.useCallback(((e,t)=>{var n,r;const s=[...P.values()],a=!s.find((e=>!e.isDisabled)),l=P.size-1;null==t||!P.size||t>l||t<0||a?M(null):(t=function(e,t,n,r){var s;const i=e.length-1;for(;null==(s=e[t])?void 0:s.isDisabled;)if("increment"===r){if(++t>=i){if("loop"!==n)return"stay"===n?t-1:null;t=0}}else if(--t<0){if("loop"!==n)return"stay"===n?t+1:null;t=i}return t}(s,t,o,e),M(t),null!=t&&(i?null==(n=O.current[t])||n.scrollIntoView({block:"nearest"}):null==(r=O.current[t])||r.focus()))}),[P,i,o]);return{handleItemSelection:e=>{const t=F.reference.current;"none"!==j?A(e):t&&"focus"in t&&t.focus(),i&&(k(c?"":`${e}`),u&&t&&"blur"in t&&t.blur()),T("all"),L(!1),null==l||l(e),M(null)},onInputChange:p.useCallback((e=>{k(e.target.value),T(e.target.value.trim()?"filtered":"all"),e.target.value?L(!0):_&&A(""),a&&null==D?K("increment",0):M(null)}),[k,L,T,A,_,K,a,D]),focusLoopingMode:o,floatingWidth:d,floatingMinWidth:h,floatingMaxHeight:f,showCheckmark:v,collection:P,collections:N,virtualFocus:i,focusItem:K,showEmptyMessage:y&&!!S,allowCustomValue:w,refs:F,reference:U.reference,floating:F.setFloating,positionStyle:{position:$,top:H??"",left:q??""},listContent:R,listItemsRef:O,listboxId:E,role:s,state:{activeIndex:D,setActiveIndex:M,selectedIndex:V,setSelectedIndex:e=>{if("none"!==j){const t=[...P.values()][e];t&&A(t.value)}},selectionMode:j,selectedValues:I,selectValues:A,inputValue:S,setInputValue:k,isOpen:z,setIsOpen:L,setActiveCollection:T}}}const $c=p.createContext(null);function qc(){return p.useContext($c)}const Hc=ri(r.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckOutlined"),Bc=c.forwardRef(((e,t)=>{let{startIcon:n,capitalizeFirst:s,children:i,description:o,endIcon:a,endSection:l,isDisabled:c,isActive:u,isSelected:d,showCheckmark:p,elementType:h="div",radius:f,padding:m,...g}=e;!n&&p&&(n=r.jsx(Hc,{size:"sm",className:N("text-primary",!d&&"invisible")}));const v=N("icon-sm rounded overflow-hidden flex-shrink-0",!c&&"text-muted"),y=N(!c&&"text-muted"),b=h;return r.jsxs(b,{...g,"aria-disabled":c,className:Vc(e),ref:t,children:[n&&r.jsx("div",{className:v,children:n}),r.jsxs("div",{className:N("min-w-auto mr-auto w-full overflow-hidden overflow-ellipsis",s&&"first-letter:capitalize"),children:[i,o&&r.jsx("div",{className:N("mt-4 whitespace-normal text-xs",c?"text-disabled":"text-muted"),children:o})]}),(a||l)&&r.jsx("div",{className:a?v:y,children:a||l})]})}));function Vc({className:e,isSelected:t,isActive:n,isDisabled:r,showCheckmark:s,endIcon:i,endSection:o,radius:a,padding:l}){let c,u="";return u=r?"text-disabled pointer-events-none":t?n?"bg-primary/focus":"bg-primary/selected hover:bg-primary/focus":n?"hover:bg-fg-base/15 bg-focus":"hover:bg-hover",c=l||(s?i||o?"pl-8 pr-8 py-8":"pl-8 pr-24 py-8":"px-20 py-8"),N("w-full select-none outline-none cursor-pointer","text-sm truncate flex items-center gap-10",!r&&"text-main",c,u,e,a)}function Kc({children:e,value:t,startIcon:n,endIcon:s,endSection:i,description:o,capitalizeFirst:a,textLabel:l,isDisabled:c,onSelected:u,onClick:d,...p}){var h;const{collection:f,showCheckmark:m,virtualFocus:g,listboxId:v,role:y,listItemsRef:b,handleItemSelection:x,state:{selectedValues:w,activeIndex:_,setActiveIndex:j}}=qc(),E=w.includes(t),S=null==(h=f.get(t))?void 0:h.index,k=_===S;if(null==S)return null;const C=k&&!c?-1:0;return r.jsx(Bc,{...p,onFocus:()=>{g||j(S)},onPointerEnter:e=>{j(S),g||e.currentTarget.focus()},onPointerDown:e=>{g&&e.preventDefault()},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x(t),null==u||u())},onClick:e=>{x(t),null==u||u(),null==d||d(e)},ref:e=>b.current[S]=e,id:`${v}-${S}`,role:"menu"===y?"menuitem":"option",tabIndex:g?void 0:C,"aria-selected":k&&E,showCheckmark:m,isDisabled:c,isActive:k,isSelected:E,startIcon:n,description:o,endIcon:s,endSection:i,capitalizeFirst:a,"data-value":t,children:e})}const Wc=768;function Yc({listbox:e,children:t,isLoading:n,mobileOverlay:s=Ic,searchField:i,onClose:o,prepend:a,className:c,...u}){const d=ms()||"undefined"==typeof window?Ms().is_mobile_device??!1:window.screen.width<=Wc,{floatingWidth:h,floatingMinWidth:f="min-w-180",collection:m,showEmptyMessage:g,state:{isOpen:v,setIsOpen:y},positionStyle:b,floating:x,refs:w}=e,_=!a&&d?s:Nc,j=N("text-base sm:text-sm outline-none bg max-h-inherit flex flex-col",!a&&"shadow-xl border py-4",c,_===Nc&&"rounded-panel",_===Nc&&"auto"===h?`max-w-288 ${f}`:""),E=p.useMemo((()=>{let e=0;const t=[];return[...m.values()].reduce(((n,r)=>{if(r.section){if(!t.includes(r.section)){const s=p.cloneElement(r.section,{key:r.section.key||e,index:e});n.push(s),t.push(r.section),e++}}else n.push(p.cloneElement(r.element,{key:r.element.key||r.element.props.value}));return n}),[])}),[m]),S=E.length>0||g&&!n,k=S?r.jsxs("div",{className:j,role:"presentation",children:[i,r.jsx(Gc,{isLoading:n,...u,children:E})]}):null;return r.jsxs($c.Provider,{value:e,children:[t,a?k:to&&l.createPortal(r.jsx(D,{children:v&&S&&r.jsx(_,{triggerRef:w.reference,restoreFocus:!0,isOpen:v,onClose:()=>{null==o||o(),y(!1)},isDismissable:!0,style:b,ref:x,children:k})}),to)]})}function Gc({className:e,children:t,isLoading:n,...s}){const{role:i,listboxId:o,virtualFocus:a,focusItem:l,state:{activeIndex:c,setActiveIndex:u,selectedIndex:d}}=qc(),h=p.useRef(!0),f=p.useRef(null);return p.useEffect((()=>()=>u(null)),[u]),p.useEffect((()=>{if(h.current){const e=c??d;null!=e||a?null!=e&&requestAnimationFrame((()=>{l("increment",e)})):requestAnimationFrame((()=>{var e;null==(e=f.current)||e.focus({preventScroll:!0})}))}h.current=!1}),[c,d,l,a]),r.jsx("div",{tabIndex:a?void 0:-1,role:i,id:o,className:"flex-auto overflow-y-auto overscroll-contain outline-none",ref:f,...s,children:t.length?t:r.jsx(Jc,{})})}function Jc(){return r.jsx("div",{className:"px-8 py-4 text-sm italic text-muted",children:r.jsx(di,{message:"There are no items matching your query"})})}function Zc({state:{isOpen:e,setIsOpen:t,selectedIndex:n,activeIndex:r,setInputValue:s,setActiveIndex:i},focusLoopingMode:o,collection:a,focusItem:l,handleItemSelection:c,allowCustomValue:u}){const d=r=>{if(!e&&r.currentTarget.contains(r.target))return"ArrowDown"===r.key?(r.preventDefault(),t(!0),l("increment",null!=n?n:0),!0):"ArrowUp"===r.key?(r.preventDefault(),t(!0),l("decrement",null!=n?n:a.size-1),!0):"Enter"===r.key||"Space"===r.key?(r.preventDefault(),t(!0),l("increment",null!=n?n:0),!0):void 0},p=n=>{const s=Math.max(0,a.size-1);if(e&&n.currentTarget.contains(n.target))switch(n.key){case"ArrowDown":return n.preventDefault(),null==r?l("increment",0):r>=s?"loop"===o?l("increment",0):"deselect"===o&&i(null):l("increment",r+1),!0;case"ArrowUp":return n.preventDefault(),null==r?l("decrement",s):r<=0?"loop"===o?l("decrement",s):"deselect"===o&&i(null):l("decrement",r-1),!0;case"Home":return n.preventDefault(),l("increment",0),!0;case"End":return n.preventDefault(),l("decrement",s),!0;case"Tab":return t(!1),!0}};return{handleTriggerKeyDown:d,handleListboxKeyboardNavigation:p,handleListboxSearchFieldKeydown:n=>{var i,o;if("Enter"===n.key&&null!=r&&a.size){n.preventDefault();const[e,t]=[...a.entries()][r];return void(e&&(c(e),null==(o=(i=t.element.props).onSelected)||o.call(i)))}"Escape"===n.key&&e&&(t(!1),u||s(""));d(n)||p(n)}}}const Xc=new Map;function Qc(e){const{localeCode:t}=qs(),n=t+(e?Object.entries(e).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(Xc.has(n))return Xc.get(n);const r=new Intl.Collator(t,e);return Xc.set(n,r),r}function eu(){const e=Qc({usage:"search",sensitivity:"base"}),t=p.useRef({search:"",timeout:void 0}).current,n=(n,r)=>{let s=r??0;for(;null!=s;){const r=n[s],i=null==r?void 0:r.slice(0,t.search.length);if(i&&0===e.compare(i,t.search))return s;if(!(s<n.length-1))return null;s++}return null};return{findMatchingItem:(e,r,s=0)=>{const i=function(e){if(1===e.length||!/^[A-Z]/i.test(e))return e;return""}(e.key);if(!i||e.ctrlKey||e.metaKey)return null;" "===i&&t.search.trim().length>0&&(e.preventDefault(),e.stopPropagation()),t.search+=i;let o=n(r,s);return null==o&&(o=n(r,0)),clearTimeout(t.timeout),t.timeout=setTimeout((()=>{t.search=""}),500),o??null}}}const tu=ri(r.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");function nu(e={}){const{size:t="md",startAppend:n,endAppend:r,className:s,labelPosition:i,labelDisplay:o="block",wrapLabel:a=!1,inputClassName:l,inputWrapperClassName:c,unstyled:u,invalid:d,disabled:p,background:h="bg-transparent",flexibleHeight:f,inputShadow:m="shadow-sm",descriptionPosition:g="bottom",inputRing:v,inputFontSize:y,labelSuffix:b}={...e};if(u)return{label:"",input:l||"",wrapper:s||"",inputWrapper:c||"",adornment:"",append:{size:"",radius:""},size:{font:"",height:""},description:"",error:""};const x=function({size:e,flexibleHeight:t}){switch(e){case"2xs":return{font:"text-xs",height:t?"min-h-24":"h-24"};case"xs":return{font:"text-xs",height:t?"min-h-30":"h-30"};case"sm":return{font:"text-sm",height:t?"min-h-36":"h-36"};case"lg":return{font:"text-md md:text-lg",height:t?"min-h-50":"h-50"};case"xl":return{font:"text-xl",height:t?"min-h-60":"h-60"};default:return{font:"text-sm",height:t?"min-h-42":"h-42"}}}({size:e.size,flexibleHeight:f});y&&(x.font=y);const w=n||r,_=v||`focus:ring ${d?"focus:ring-danger/focus focus:border-danger/60":"focus:ring-primary/focus focus:border-primary/60"}`,j=function(e){const{startAppend:t,endAppend:n,inputRadius:r}=e,s=t||n;if("rounded-full"===r)return{input:N(!s&&"rounded-full",t&&"rounded-r-full rounded-l-none",n&&"rounded-l-full rounded-r-none"),append:t?"rounded-l-full":"rounded-r-full"};if("rounded-none"===r)return{input:"",append:""};if(r)return{input:r,append:r};return{input:N(!s&&"rounded-input",t&&"rounded-r-input rounded-l-none",n&&"rounded-l-input rounded-r-none"),append:t?"rounded-l-input":"rounded-r-input"}}(e);return{label:N(o,!a&&"whitespace-nowrap","first-letter:capitalize text-left",p&&"text-disabled",x.font,b?"":"side"===i?"mr-16":"mb-4"),input:N("block text-left relative w-full appearance-none transition-shadow text",h,j.input,ru(e),!p&&`${_} focus:outline-none ${m}`,p&&"text-disabled cursor-not-allowed",l,x.font,x.height,su(e)),adornment:iu(t),append:{size:Js(t),radius:j.append},wrapper:N(s,x.font,{"flex items-center":"side"===i}),inputWrapper:N("isolate relative",c,w&&"flex items-stretch"),size:x,description:`text-muted ${"bottom"===g?"pt-10":"pb-10"} text-xs`,error:"text-danger pt-10 text-xs"}}function ru({startAppend:e,endAppend:t,inputBorder:n,invalid:r}){if(n)return n;const s=r?"border-danger":"border-divider";return e||t?e?`${s} border-y border-r`:`${s} border-y border-l`:`${s} border`}function su({startAdornment:e,endAdornment:t,inputRadius:n}){return"rounded-full"===n?N(e?"pl-54":"pl-28",t?"pr-54":"pr-28"):N(e?"pl-46":"pl-12",t?"pr-46":"pr-12")}function iu(e){switch(e){case"2xs":return"icon-2xs";case"xs":return"icon-xs";case"sm":case"md":return"icon-sm";case"lg":return"icon-lg";case"xl":return"icon-xl";default:return""}}function ou({children:e,direction:t,className:n,position:s=("start"===t?"left-0":"right-0")}){var i;return e?r.jsx("div",{className:N(!(null==(i=null==e?void 0:e.props)?void 0:i.onClick)&&"pointer-events-none","absolute top-0 z-10 flex h-full min-w-42 items-center justify-center text-muted",s,n),children:e}):null}function au(e,t){const n=(null==t?void 0:t.copy)??!0,r=n?{...e}:e;return Object.keys(r).forEach((e=>{const n=e;(null==t?void 0:t.arrays)&&Array.isArray(r[n])&&0===r[n].length?delete r[n]:(null==t?void 0:t.deep)&&r[n]&&"object"==typeof r[n]?(r[n]=au(r[n],t),0===Object.keys(r[n]).length&&delete r[n]):null!=r[n]&&""!==r[n]||delete r[n]})),n?r:e}const lu=c.forwardRef(((e,t)=>{const{children:n,description:s,errorMessage:i,descriptionProps:o={},errorMessageProps:a={},startAdornment:l,endAdornment:c,adornmentPosition:u,startAppend:d,endAppend:p,fieldClassNames:h,disabled:f,wrapperProps:m}=e;return r.jsxs("div",{className:h.wrapper,ref:t,...m,children:[r.jsx(cu,{...e}),r.jsxs("div",{className:h.inputWrapper,children:[r.jsx(ou,{direction:"start",className:h.adornment,position:u,children:l}),d&&r.jsx(uu,{style:h.append,disabled:f,children:d}),n,p&&r.jsx(uu,{style:h.append,disabled:f,children:p}),r.jsx(ou,{direction:"end",className:h.adornment,position:u,children:c})]}),s&&!i&&r.jsx("div",{className:h.description,...o,children:s}),i&&r.jsx("div",{className:h.error,...a,children:i})]})}));function cu({labelElementType:e,fieldClassNames:t,labelProps:n,label:s,labelSuffix:i,labelSuffixPosition:o="spaced",required:a}){if(!s)return null;const l=e||"label",c=r.jsxs(l,{className:t.label,...n,children:[s,a&&r.jsx("span",{className:"text-danger",children:" *"})]});return i?r.jsxs("div",{className:N("mb-4 flex w-full gap-4","spaced"===o?"items-end":"items-center"),children:[c,r.jsx("div",{className:N("text-xs text-muted","spaced"===o?"ml-auto":""),children:i})]}):c}function uu({children:e,style:t,disabled:n}){return c.cloneElement(e,{...e.props,disabled:e.props.disabled||n,...au(t)})}function du({autoFocus:e,autoSelectText:t},n){const r=p.useRef(e);p.useEffect((()=>{r.current&&n.current&&requestAnimationFrame((()=>{var e,r;null==(e=n.current)||e.focus(),t&&"input"===(null==(r=n.current)?void 0:r.nodeName.toLowerCase())&&n.current.select()})),r.current=!1}),[n,t])}function pu(e){const{focusRef:t,labelElementType:n="label",label:r,labelSuffix:s,labelSuffixPosition:i,autoFocus:o,autoSelectText:a,labelPosition:l,descriptionPosition:c,size:u,errorMessage:d,description:h,flexibleHeight:f,startAdornment:m,endAdornment:g,startAppend:v,adornmentPosition:y,endAppend:b,className:x,inputClassName:w,inputWrapperClassName:_,unstyled:j,background:E,invalid:S,disabled:k,id:C,inputRadius:T,inputBorder:N,inputShadow:P,inputRing:O,inputFontSize:R,...I}=e;du(e,t);const A=p.useId(),z=C||A,L={id:`${z}-label`,htmlFor:"label"===n?z:void 0},D={id:`${z}-description`},M={id:`${z}-error`},U={"aria-label":e.label||e["aria-label"]||!e.placeholder?e["aria-label"]:e.placeholder,"aria-invalid":S||void 0,id:z,disabled:k,...I},F=[];r&&F.push(L.id),U["aria-labelledby"]&&F.push(U["aria-labelledby"]),U["aria-labelledby"]=F.length?F.join(" "):void 0;const $=[];return h&&$.push(D.id),d&&$.push(M.id),U["aria-describedby"]&&$.push(U["aria-describedby"]),U["aria-describedby"]=$.length?$.join(" "):void 0,{fieldProps:{errorMessageProps:M,descriptionProps:D,labelProps:L,disabled:k,label:r,labelSuffix:s,labelSuffixPosition:i,autoFocus:o,autoSelectText:a,labelPosition:l,descriptionPosition:c,size:u,errorMessage:d,description:h,flexibleHeight:f,startAdornment:m,endAdornment:g,startAppend:v,adornmentPosition:y,endAppend:b,className:x,inputClassName:w,inputWrapperClassName:_,unstyled:j,background:E,invalid:S},inputProps:U}}const hu=p.forwardRef((({inputElementType:e="input",flexibleHeight:t,inputRef:n,inputTestId:s,...i},o)=>{const a=Ns(n),{fieldProps:l,inputProps:c}=pu({...i,focusRef:a}),u="textarea"===e,d=u?"textarea":"input",p=nu({...i,flexibleHeight:t||"textarea"===e});return"textarea"!==e||i.unstyled||(p.input=`${p.input} py-12`),r.jsx(lu,{ref:o,fieldClassNames:p,...l,children:r.jsx(d,{"data-testid":s,ref:a,...c,rows:u?c.rows||4:void 0,className:p.input})})})),fu=c.forwardRef((({name:e,...t},n)=>{const{field:{onChange:s,onBlur:i,value:o="",ref:a},fieldState:{invalid:l,error:c}}=$({name:e}),u={onChange:s,onBlur:i,value:null==o?"":o,invalid:l,errorMessage:null==c?void 0:c.message,inputRef:a,name:e};return r.jsx(hu,{ref:n,...ws(u,t)})})),mu=p.forwardRef(((e,t)=>{const{placement:n,offset:s,searchPlaceholder:i,showSearchField:o,children:[a,l],floatingWidth:c="auto",isLoading:u}=e,d=p.useId(),h=Cc(),f=Fc({...e,clearInputOnItemSelection:!0,showEmptyMessage:o,floatingWidth:h?"auto":c,virtualFocus:o,role:o?"listbox":"menu",focusLoopingMode:o?"stay":"loop",children:l.props.children,placement:n,offset:s},t),{state:{isOpen:m,setIsOpen:g,activeIndex:v,inputValue:y,setInputValue:b},listboxId:x,focusItem:w,listContent:_,reference:j,onInputChange:E}=f,{handleTriggerKeyDown:S,handleListboxKeyboardNavigation:k,handleListboxSearchFieldKeydown:C}=Zc(f),{findMatchingItem:T}=eu();return r.jsx(Yc,{onClick:e=>e.stopPropagation(),listbox:f,onKeyDownCapture:o?void 0:e=>{if(!m)return;const t=T(e,_,v);null!=t&&w("increment",t)},onKeyDown:k,onClose:o?()=>b(""):void 0,"aria-labelledby":d,isLoading:u,searchField:o?r.jsx(hu,{size:"sm",placeholder:i,startAdornment:r.jsx(tu,{}),className:"flex-shrink-0 px-8 pb-8 pt-4",autoFocus:!0,"aria-expanded":m?"true":"false","aria-haspopup":"listbox","aria-controls":m?x:void 0,"aria-autocomplete":"list",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:y,onChange:E,onKeyDown:e=>{C(e)}}):null,children:p.cloneElement(a,{id:d,"aria-expanded":m?"true":"false","aria-haspopup":"menu","aria-controls":m?x:void 0,ref:j,onKeyDown:S,onClick:Xs((e=>{var t,n;null==(n=null==(t=a.props)?void 0:t.onClick)||n.call(t,e),g(!m)}))})})}));function gu({children:e}){return e}function vu(e){const t=p.useRef(e);return p.useEffect((()=>{t.current=e})),p.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function yu(e){let{children:t,type:n,disableInitialTransition:s,isDismissable:i=!0,moveFocusToDialog:o=!0,returnFocusToTrigger:a=!0,triggerOnHover:c=!1,triggerOnContextMenu:u=!1,handleTriggerClick:d=!0,usePortal:h=!0,mobileType:f,alwaysReturnCurrentValueOnClose:m}=e;const g=p.useRef(null),v=u&&!e.triggerRef?g:e.triggerRef,y=p.useRef(e.value),[b,x]=Rs(e.isOpen,e.defaultIsOpen,e.onOpenChange),[w,_]=Rs(e.value,e.defaultValue,e.onValueChange);Cc()&&"popover"===n&&(n=f||"modal");const j=p.useRef(null),{x:E,y:S,reference:k,strategy:C,refs:T}=Qi({...e,disablePositioning:"modal"===n}),N="popover"===n?{position:C,top:S??"",left:E??""}:{},P=p.useId(),O=`${P}-label`,R=`${P}-description`,I=`${P}-form`,A=vu(e.onClose),z=p.useCallback((e=>{void 0===e&&m&&(e=w);const t=void 0!==e?e:y.current;null==A||A(t,{initialValue:y.current,valueChanged:t!==y.current}),x(!1)}),[A,x,w,m]),L=p.useCallback((()=>{x(!0),y.current=e.value}),[e.value,x]);us((()=>{(null==v?void 0:v.current)&&T.reference.current!==v.current&&k(v.current)}),[k,null==v?void 0:v.current,T]);const M=p.useMemo((()=>({"aria-labelledby":O,"aria-describedby":R})),[O,R]);let U;U="modal"===n?Ac:"tray"===n?Ic:Nc;const F=p.useMemo((()=>({dialogProps:M,type:n,labelId:O,descriptionId:R,isDismissable:i,close:z,value:w,initialValue:y.current,setValue:_,formId:I})),[z,R,M,I,O,n,i,w,_]);c=c&&"popover"===n;const $={onPointerEnter:Xs((e=>{L()})),onPointerLeave:Xs((e=>{j.current=setTimeout((()=>{z()}),150)}))},q={onPointerEnter:Xs((e=>{j.current&&clearTimeout(j.current)})),onPointerLeave:Xs((e=>{z()}))},H={onContextMenu:Xs((e=>{e.preventDefault(),g.current=function({x:e,y:t},n){return{getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,right:e,bottom:t,left:e}),contextElement:n}}({x:e.clientX,y:e.clientY},e.currentTarget),L()}))},B={onClick:Xs((e=>{e.stopPropagation(),b?z():L()}))},{dialogTrigger:V,dialog:K}=function(e,t){const n=Array.isArray(e)?e:p.Children.toArray(e);let r=2===n.length?n[1]:n[0];if(r="function"==typeof r?r(t):r,2===n.length)return{dialogTrigger:n[0],dialog:r};return{dialog:r}}(t,F),W=r.jsx(D,{initial:!s,children:b&&r.jsx(Is.Provider,{value:F,children:r.jsx(U,{...c?q:{},ref:T.setFloating,triggerRef:T.reference,style:N,restoreFocus:a,autoFocus:o,isOpen:b,onClose:z,isDismissable:i,isContextMenu:u,placement:e.placement,children:K})})});return r.jsxs(p.Fragment,{children:[V&&p.cloneElement(V,ws({...v||u?{}:{ref:k},...!u&&d?B:{},...c?$:{},...u?H:{}},{...V.props})),h?to&&l.createPortal(W,to):W]})}function bu(){const{dialog:e,data:t}=ko();return r.jsx(yu,{type:"modal",isOpen:null!=e,onClose:e=>{To(e)},children:e?r.jsx(e,{...t}):null})}const xu=(e,t)=>{const n=["users",`${e}`];return t&&n.push(t),n};function wu(e,t){return s({queryKey:xu(e,t),queryFn:()=>function(e,t){return sn.get(`users/${e}`,{params:t}).then((e=>e.data))}(e,t)})}function _u(){return i({mutationFn:e=>function(e){return sn.post("resend-email-verification",e).then((e=>e.data))}(e),onSuccess:()=>{Xr(ln("Email sent"))},onError:e=>Po(e)})}function ju(){const{selectedTheme:e}=Pl();return e.is_dark??!1}const Eu="Can't logout while in appearance editor.";function Su(){const e=yl(),{isAppearanceEditorActive:t}=Ll();return i({mutationFn:()=>t?Promise.reject(Eu):sn.post("auth/logout").then((e=>e.data)),onSuccess:t=>{Us(t.bootstrapData),rn.clear(),e("/login"),rn.clear(),Us(t.bootstrapData)},onError:e=>Po(e,t?ln(Eu):void 0)})}function ku({children:e,onBeforeSubmit:t,onSubmit:n,form:s,className:i,id:o,onBlur:a}){return r.jsx(q,{...s,children:r.jsx("form",{id:o,onBlur:a,className:i,onSubmit:e=>{e.stopPropagation(),null==t||t(),s.handleSubmit(n)(e)},children:e})})}const Cu=ri(r.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeftOutlined");function Tu(e,t){if(t&&Xt.isAxiosError(e)&&e.response){const r=e.response.data;!(n=r.errors)||Array.isArray(n)&&0===n.length||0===Object.keys(n).length?Po(e):Object.entries(r.errors||{}).forEach((([e,n],r)=>{"string"==typeof n?t.setError(e,{message:n},{shouldFocus:0===r}):n.forEach(((n,s)=>{t.setError(e,{message:n},{shouldFocus:0===r&&0===s})}))}))}var n}function Nu(e){return i({mutationFn:e=>function(e){return sn.post("validate-email-verification-otp",e).then((e=>e.data))}(e),onSuccess:()=>{window.location.reload()},onError:t=>Tu(t,e)})}function Pu({className:e,screen:t}){return r.jsx("div",{className:N("flex flex-auto items-center justify-center",t?"h-screen w-screen":"h-full w-full",e),children:r.jsx(xc,{isIndeterminate:!0,"aria-label":"Loading page...",size:"md"})})}const Ou=x([{path:"*",element:r.jsx(Ru,{}),hydrateFallbackElement:r.jsx(Pu,{screen:!0})}]);function Ru(){const{trans:e}=Ks(),{data:t}=wu("me"),n=_u(),{branding:{logo_light:s,logo_dark:i}}=bl(),o=ju()?s:i,a=Su(),l=H(),c=Nu(l);return r.jsx("div",{className:"flex min-h-screen w-screen bg-alt p-24",children:r.jsxs("div",{className:"mx-auto mt-40 max-w-440",children:[r.jsx(mo,{variant:"outline",onClick:()=>a.mutate(),startIcon:r.jsx(Cu,{}),size:"xs",className:"mb-54 mr-auto",children:r.jsx(di,{message:"Logout"})}),o&&r.jsx("img",{src:o,alt:"Site logo",className:"mx-auto mb-44 block h-42 w-auto"}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"mb-24 text-3xl",children:r.jsx(di,{message:"Verify your email"})}),r.jsx("h2",{className:"text-lg",children:r.jsx(di,{message:"Enter the verification code we sent to :email",values:{email:Iu(null==t?void 0:t.user.email)}})}),r.jsxs(ku,{form:l,onSubmit:e=>c.mutate(e),className:"my-16",children:[r.jsx(fu,{name:"code",label:r.jsx(di,{message:"Code"}),placeholder:e(ln("Enter your verification code")),autoFocus:!0,autoComplete:"one-time-code",autoCorrect:"off",autoCapitalize:"off",maxLength:6,inputMode:"numeric",required:!0}),r.jsx(mo,{type:"submit",variant:"flat",color:"primary",size:"md",className:"mt-24 w-full",disabled:c.isPending,children:r.jsx(di,{message:"Next"})})]}),r.jsx("div",{className:"mb-24 text-sm",children:r.jsx(di,{message:"If you don't see the email in your inbox, check your spam folder and promotions tab. If you still don't see it, <a>request a resend</a>.",values:{a:e=>r.jsx(mo,{variant:"link",color:"primary",disabled:n.isPending||!(null==t?void 0:t.user.email),onClick:()=>{n.mutate({email:t.user.email})},children:e})}})})]})]})})}function Iu(e){if(!e)return"*******************";const[t,n]=e.split("@");return`${t.slice(0,2)}****@${n}`}class Au{constructor(){t(this,"animationDuration",300),t(this,"el"),t(this,"hiding",!1),t(this,"value",0),t(this,"visible",!1),t(this,"trickleInterval"),t(this,"trickle",(()=>{this.setValue(this.value+Math.random()/100)})),this.el=this.createProgressElement()}show(){this.visible||(this.visible=!0,this.installProgressElement())}hide(){this.visible&&!this.hiding&&(this.setValue(1),this.hiding=!0,this.fadeProgressElement((()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1})))}setValue(e){this.value=e,this.refresh()}installProgressElement(){this.el.style.width="0",this.el.style.opacity="1",document.documentElement.insertBefore(this.el,document.body),requestAnimationFrame((()=>{this.refresh(),this.startTrickling()}))}fadeProgressElement(e){this.el.style.opacity="0",setTimeout(e,1.5*this.animationDuration)}uninstallProgressElement(){this.el.parentNode&&document.documentElement.removeChild(this.el)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,this.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame((()=>{this.el.style.width=10+90*this.value+"%"}))}createProgressElement(){const e=document.createElement("div");return e.className="be-top-progress-bar",e}}const zu=""+new URL("404-1-176145e9.png",import.meta.url).href,Lu=""+new URL("404-2-14c4a897.png",import.meta.url).href;function Du(){return r.jsxs("div",{className:"flex flex-col-reverse items-center justify-center gap-64 px-16 py-96 md:gap-112 md:px-176 md:py-80 lg:flex-row lg:px-96 lg:py-96",children:[r.jsx("div",{className:"relative w-full pb-48 lg:pb-0 xl:w-1/2 xl:pt-96",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute",children:r.jsxs("div",{className:"relative z-10",children:[r.jsx("h1",{className:"my-8 text-2xl font-bold text-main",children:r.jsx(di,{message:"Looks like you've found the doorway to the great nothing"})}),r.jsx("p",{className:"my-16 text-main",children:r.jsx(di,{message:"Sorry about that! Please visit our homepage to get where you need\n                to go."})}),r.jsx(mo,{className:"my-8",elementType:y,size:"lg",to:"/",variant:"flat",color:"primary",children:r.jsx(di,{message:"Take me there!"})})]})}),r.jsx("div",{className:"dark:opacity-5",children:r.jsx("img",{src:Lu,alt:""})})]})}),r.jsx("div",{className:"dark:opacity-80",children:r.jsx("img",{src:zu,alt:""})})]})}function Mu({image:e,title:t,description:n,action:s,className:i,size:o="md",imageHeight:a,imageMargin:l="mb-24"}){const c=function(e,t){switch(e){case"xs":return{image:t||"h-60",title:"text-sm",description:"text-xs"};case"sm":return{image:t||"h-80",title:"text-base",description:"text-sm"};default:return{image:t||"h-128",title:"text-lg",description:"text-base"}}}(o,a);return r.jsxs("div",{className:N("text-center",i),children:[e&&r.jsx("div",{className:N(c.image,l),children:e}),t&&r.jsx("div",{className:N(c.title,"mb-2 text-main"),children:t}),n&&r.jsx("div",{className:N(c.description,"text-muted"),children:n}),s&&r.jsx("div",{className:"mt-20",children:s})]})}function Uu(){return r.jsx(Mu,{className:"mt-40",image:r.jsx("div",{children:r.jsx(po,{size:"xl"})}),imageHeight:"h-auto",title:r.jsx(di,{message:"There was an issue loading this page"}),description:r.jsx(di,{message:"Please try again later"})})}const Fu=x([{path:"*",element:r.jsx($u,{}),hydrateFallbackElement:r.jsx(Pu,{screen:!0})}]);function $u(){Ks(),wu("me");const{branding:{logo_light:e,logo_dark:t,site_name:n}}=bl(),s=ju()?e:t,i=Su();return r.jsx("div",{className:"flex min-h-screen w-screen bg-alt p-24",children:r.jsxs("div",{className:"mx-auto mt-40 max-w-440",children:[r.jsx(mo,{variant:"outline",onClick:()=>i.mutate(),startIcon:r.jsx(Cu,{}),size:"xs",className:"mb-54 mr-auto",children:r.jsx(di,{message:"Logout"})}),s&&r.jsx("img",{src:s,alt:"Site logo",className:"mx-auto mb-44 block h-42 w-auto"}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"mb-24 text-3xl",children:r.jsx(di,{message:"Your account is suspended"})}),r.jsx("p",{className:"text-base",children:r.jsx(di,{message:"You can't open :name because your account is suspended. Contact the Admin to re-activate your account.",values:{name:n}})})]})]})})}const qu=Tn(kl,bn);function Hu({router:e}){return r.jsx(o,{client:rn,children:r.jsx(U,{features:F,children:r.jsx(an.Provider,{value:qu,children:r.jsx(Rl,{children:r.jsx(Bu,{router:e})})})})})}function Bu({router:e}){const{require_email_confirmation:t}=bl(),{user:n}=ql();return null!=n&&t&&!n.email_verified_at?r.jsx(w,{router:Ou}):null!=n&&n.banned_at?r.jsx(w,{router:Fu}):r.jsx(w,{router:e})}function Vu(){return r.jsxs(p.Fragment,{children:[r.jsx(Wu,{}),r.jsx(_,{}),r.jsx(Dl,{}),r.jsx(lc,{}),r.jsx(Sc,{}),r.jsx(bu,{})]})}function Ku(){const e=j();return 404===(null==e?void 0:e.status)?r.jsx(Du,{}):r.jsx(Uu,{})}function Wu(){const[e]=p.useState((()=>new Au)),{state:t}=E(),n=p.useRef(null);return p.useEffect((()=>("loading"===t?n.current=setTimeout((()=>{e.show()}),50):(clearTimeout(n.current),e.hide()),()=>{"loading"!==t&&(clearTimeout(n.current),e.hide())})),[t,e]),null}const Yu=Object.prototype.toString;function Gu(e){switch(Yu.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return od(e,Error)}}function Ju(e,t){return Yu.call(e)===`[object ${t}]`}function Zu(e){return Ju(e,"ErrorEvent")}function Xu(e){return Ju(e,"DOMError")}function Qu(e){return Ju(e,"String")}function ed(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function td(e){return null===e||ed(e)||"object"!=typeof e&&"function"!=typeof e}function nd(e){return Ju(e,"Object")}function rd(e){return"undefined"!=typeof Event&&od(e,Event)}function sd(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function id(e){return"number"==typeof e&&e!=e}function od(e,t){try{return e instanceof t}catch(n){return!1}}function ad(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function ld(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function cd(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const t=e[r];try{ad(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(oS){n.push("[value cannot be serialized]")}}return n.join(t)}function ud(e,t,n=!1){return!!Qu(e)&&(Ju(t,"RegExp")?t.test(e):!!Qu(t)&&(n?e===t:e.includes(t)))}function dd(e,t=[],n=!1){return t.some((t=>ud(e,t,n)))}function pd(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&od(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=hd(e,t,s,o.originalException,r,i.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=ld(e.value,c)),e)))))}function hd(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(od(r[s],Error)){fd(o,a);const i=e(t,r[s]),c=l.length;md(i,s,c,a),l=hd(e,t,n,r[s],s,[i,...l],i,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(od(r,Error)){fd(o,a);const c=e(t,r),u=l.length;md(c,`errors[${i}]`,u,a),l=hd(e,t,n,r,s,[c,...l],c,u)}})),l}function fd(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function md(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function gd(e){return e&&e.Math==Math?e:void 0}const vd="object"==typeof globalThis&&gd(globalThis)||"object"==typeof window&&gd(window)||"object"==typeof self&&gd(self)||"object"==typeof global&&gd(global)||function(){return this}()||{};function yd(){return vd}function bd(e,t,n){const r=n||vd,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const xd=yd(),wd=80;function _d(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||wd;for(;n&&i++<r&&(c=jd(n,u),!("html"===c||i>1&&o+s.length*l+c.length>=d));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch(n){return"<unknown>"}}function jd(e,t){const n=e,r=[];let s,i,o,a,l;if(!n||!n.tagName)return"";if(xd.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Qu(s))for(i=s.split(/\s+/),l=0;l<i.length;l++)r.push(`.${i[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function Ed(e){if(!xd.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Sd=["debug","info","warn","error","log","assert","trace"],kd={};function Cd(e){if(!("console"in vd))return e();const t=vd.console,n={},r=Object.keys(kd);r.forEach((e=>{const r=kd[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const Td=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Sd.forEach((e=>{t[e]=()=>{}})),t}(),Nd=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Pd(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${o}`}function Od(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Rd(e){const t="string"==typeof e?function(e){const t=Nd.exec(e);if(!t)return void Cd((()=>{}));const[n,r,s="",i,o="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return Od({host:i,pass:s,path:l,projectId:c,port:o,protocol:n,publicKey:r})}(e):Od(e);if(t)return t}class Id extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function Ad(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);"function"==typeof s&&Ld(s,r),e[t]=s}function zd(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){}}function Ld(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,zd(e,"__sentry_original__",t)}catch(n){}}function Dd(e){return e.__sentry_original__}function Md(e){if(Gu(e))return{message:e.message,name:e.name,stack:e.stack,...Fd(e)};if(rd(e)){const t={type:e.type,target:Ud(e.target),currentTarget:Ud(e.currentTarget),...Fd(e)};return"undefined"!=typeof CustomEvent&&od(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ud(e){try{return t=e,"undefined"!=typeof Element&&od(t,Element)?_d(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function Fd(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function $d(e){return qd(e,new Map)}function qd(e,t){if(function(e){if(!nd(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(oS){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const s of Object.keys(e))void 0!==e[s]&&(r[s]=qd(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(qd(e,t))})),r}return e}const Hd=50,Bd=/\(error: (.*)\)/,Vd=/captureMessage|captureException/;function Kd(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],s=e.split("\n");for(let i=n;i<s.length;i++){const e=s[i];if(e.length>1024)continue;const n=Bd.test(e)?e.replace(Bd,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){r.push(t);break}}if(r.length>=Hd)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),Vd.test(t[t.length-1].function||"")&&(t.pop(),Vd.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,Hd).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const Wd="<anonymous>";function Yd(e){try{return e&&"function"==typeof e&&e.name||Wd}catch(oS){return Wd}}const Gd={},Jd={};function Zd(e,t){Gd[e]=Gd[e]||[],Gd[e].push(t)}function Xd(e,t){Jd[e]||(t(),Jd[e]=!0)}function Qd(e,t){const n=e&&Gd[e];if(n)for(const r of n)try{r(t)}catch(oS){}}function ep(){"console"in vd&&Sd.forEach((function(e){e in vd.console&&Ad(vd.console,e,(function(t){return kd[e]=t,function(...t){Qd("console",{args:t,level:e});const n=kd[e];n&&n.apply(vd.console,t)}}))}))}function tp(){const e=vd,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function np(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function rp(e){const{message:t,event_id:n}=e;if(t)return t;const r=np(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function sp(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function ip(e,t){const n=np(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function op(e){if(e&&e.__sentry_captured__)return!0;try{zd(e,"__sentry_captured__",!0)}catch(t){}return!1}function ap(e){return Array.isArray(e)?e:[e]}const lp=vd,cp=1e3;let up,dp,pp;function hp(){if(!lp.document)return;const e=Qd.bind(null,"dom"),t=fp(e,!0);lp.document.addEventListener("click",t,!1),lp.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=lp[t]&&lp[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ad(n,"addEventListener",(function(t){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},o=i[n]=i[n]||{refCount:0};if(!o.handler){const r=fp(e);o.handler=r,t.call(this,n,r,s)}o.refCount++}catch(oS){}return t.call(this,n,r,s)}})),Ad(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},i=s[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete s[t]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(oS){}return e.call(this,t,n,r)}})))}))}function fp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(oS){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;zd(n,"_sentryCaptured",!0),r&&!r._sentryId&&zd(r,"_sentryId",tp());const s="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==dp)return!1;try{if(!e.target||e.target._sentryId!==pp)return!1}catch(oS){}return!0}(n)){e({event:n,name:s,global:t}),dp=n.type,pp=r?r._sentryId:void 0}clearTimeout(up),up=lp.setTimeout((()=>{pp=void 0,dp=void 0}),cp)}}const mp=yd();function gp(){if(!("fetch"in mp))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(oS){return!1}}function vp(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function yp(e){const t="fetch";Zd(t,e),Xd(t,bp)}function bp(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!gp())return!1;if(vp(mp.fetch))return!0;let e=!1;const t=mp.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=vp(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){}return e})()&&Ad(vd,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:wp(t),method:xp(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:wp(t),method:xp(t,"method")?String(t.method).toUpperCase():"GET"}}(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Qd("fetch",{...s}),e.apply(vd,t).then((e=>(Qd("fetch",{...s,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Qd("fetch",{...s,endTimestamp:Date.now(),error:e}),e}))}}))}function xp(e,t){return!!e&&"object"==typeof e&&!!e[t]}function wp(e){return"string"==typeof e?e:e?xp(e,"url")?e.url:e.toString?e.toString():"":""}let _p=null;function jp(e){const t="error";Zd(t,e),Xd(t,Ep)}function Ep(){_p=vd.onerror,vd.onerror=function(e,t,n,r,s){return Qd("error",{column:r,error:s,line:n,msg:e,url:t}),!(!_p||_p.__SENTRY_LOADER__)&&_p.apply(this,arguments)},vd.onerror.__SENTRY_INSTRUMENTED__=!0}let Sp=null;function kp(e){const t="unhandledrejection";Zd(t,e),Xd(t,Cp)}function Cp(){Sp=vd.onunhandledrejection,vd.onunhandledrejection=function(e){return Qd("unhandledrejection",e),!(Sp&&!Sp.__SENTRY_LOADER__)||Sp.apply(this,arguments)},vd.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Tp=yd();const Np=vd;let Pp;function Op(e){const t="history";Zd(t,e),Xd(t,Rp)}function Rp(){if(!function(){const e=Tp.chrome,t=e&&e.app&&e.app.runtime,n="history"in Tp&&!!Tp.history.pushState&&!!Tp.history.replaceState;return!t&&n}())return;const e=Np.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Pp,t=String(n);Pp=t;Qd("history",{from:e,to:t})}return e.apply(this,t)}}Np.onpopstate=function(...t){const n=Np.location.href,r=Pp;Pp=n;if(Qd("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(s){}},Ad(Np.history,"pushState",t),Ad(Np.history,"replaceState",t)}const Ip=vd,Ap="__sentry_xhr_v3__";function zp(e){Zd("xhr",e),Xd("xhr",Lp)}function Lp(){if(!Ip.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Ad(e,"open",(function(e){return function(...t){const n=Date.now(),r=Qu(t[0])?t[0].toUpperCase():void 0,s=function(e){if(Qu(e))return e;try{return e.toString()}catch(oS){}return}(t[1]);if(!r||!s)return e.apply(this,t);this[Ap]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[Ap];if(e&&4===this.readyState){try{e.status_code=this.status}catch(oS){}Qd("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Ad(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),Ad(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,s=this[Ap];return s&&Qu(n)&&Qu(r)&&(s.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),Ad(e,"send",(function(e){return function(...t){const n=this[Ap];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Qd("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function Dp(e,t=100,n=1/0){try{return Up("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Mp(e,t=3,n=102400){const r=Dp(e,t);return s=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?Mp(e,t-1,n):r;var s}function Up(e,t,n=1/0,r=1/0,s=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,o]=s;if(null==t||["number","boolean","string"].includes(typeof t)&&!id(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(ad(t))return"[VueViewModel]";if(nd(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Yd(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return Up("",c.toJSON(),l-1,r,s)}catch(h){}const u=Array.isArray(t)?[]:{};let d=0;const p=Md(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){u[f]="[MaxProperties ~]";break}const e=p[f];u[f]=Up(f,e,l-1,r,s),d++}return o(t),u}var Fp;function $p(e){return new Hp((t=>{t(e)}))}function qp(e){return new Hp(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(Fp||(Fp={}));class Hp{constructor(e){Hp.prototype.__init.call(this),Hp.prototype.__init2.call(this),Hp.prototype.__init3.call(this),Hp.prototype.__init4.call(this),this._state=Fp.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(oS){this._reject(oS)}}then(e,t){return new Hp(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(oS){r(oS)}else n(t)},e=>{if(t)try{n(t(e))}catch(oS){r(oS)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Hp(((t,n)=>{let r,s;return this.then((t=>{s=!1,r=t,e&&e()}),(t=>{s=!0,r=t,e&&e()})).then((()=>{s?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(Fp.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Fp.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Fp.PENDING&&(sd(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Fp.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Fp.RESOLVED&&e[1](this._value),this._state===Fp.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Bp(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return qp(new Id("Not adding Promise because buffer limit was reached."));const s=r();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new Hp(((n,r)=>{let s=t.length;if(!s)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{$p(e).then((()=>{--s||(clearTimeout(i),n(!0))}),r)}))}))}}}function Vp(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Kp=["fatal","error","warning","log","info","debug"];function Wp(e){return"warn"===e?"warning":Kp.includes(e)?e:"log"}const Yp=1e3;function Gp(){return Date.now()/Yp}const Jp=function(){const{performance:e}=vd;if(!e||!e.now)return Gp;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/Yp}(),Zp=(()=>{const{performance:e}=vd;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a="number"==typeof o?Math.abs(o+n-r):t;return i||a<t?s<=a?e.timeOrigin:o:r})(),Xp="baggage",Qp="sentry-",eh=/^sentry-/,th=8192;function nh(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const s=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,i=0===r?s:`${e},${s}`;return i.length>th?e:i}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${Qp}${t}`]=n),e)),{}))}function rh(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const sh=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ih(e,t){const n=function(e){if(!e)return;const t=e.match(sh);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=function(e){if(!Qu(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=rh(t);for(const r of Object.keys(n))e[r]=n[r];return e}),{});else{if(!e)return;t=rh(e)}const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(eh)&&(e[t.slice(Qp.length)]=n),e)),{});return Object.keys(n).length>0?n:void 0}(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||tp(),parentSpanId:i||tp().substring(16),spanId:tp().substring(16),sampled:o,dsc:r||{}}:{traceId:s||tp(),spanId:tp().substring(16)}}function oh(e=tp(),t=tp().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ah(e,t=[]){return[e,t]}function lh(e,t){const[n,r]=e;return[n,[...r,t]]}function ch(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function uh(e,t){return(t||new TextEncoder).encode(e)}function dh(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(e){"string"==typeof s?s="string"==typeof e?s+e:[uh(s,t),e]:s.push("string"==typeof e?uh(e,t):e)}for(const o of r){const[e,t]=o;if(i(`\n${JSON.stringify(e)}\n`),"string"==typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch(oS){e=JSON.stringify(Dp(t))}i(e)}}return"string"==typeof s?s:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}(s)}function ph(e,t){const n="string"==typeof e.data?uh(e.data,t):e.data;return[$d({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const hh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function fh(e){return hh[e]}function mh(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}const gh=6e4;function vh(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[e,t,,,n]=a.split(":",5),i=parseInt(e,10),o=1e3*(isNaN(i)?60:i);if(t)for(const a of t.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(s[a]=r+o);else s.all=r+o}else o?s.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?gh:r-t}(o,r):429===t&&(s.all=r+6e4);return s}const yh="production";function bh(){return bd("globalEventProcessors",(()=>[]))}function xh(e){bh().push(e)}function wh(e,t,n,r=0){return new Hp(((s,i)=>{const o=e[r];if(null===t||"function"!=typeof o)s(t);else{const a=o({...t},n);sd(a)?a.then((t=>wh(e,t,n,r+1).then(s))).then(null,i):wh(e,a,n,r+1).then(s).then(null,i)}}))}function _h(e){const t=Jp(),n={sid:tp(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return $d({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&jh(n,e),n}function jh(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Jp(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:tp()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Eh(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),jh(e,n)}const Sh=1;function kh(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:l}=Ph(e);return $d({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function Ch(e){const{traceId:t,spanId:n}=e.spanContext();return oh(t,n,Oh(e))}function Th(e){return"number"==typeof e?Nh(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Nh(e.getTime()):Jp()}function Nh(e){return e>9999999999?e/1e3:e}function Ph(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function Oh(e){const{traceFlags:t}=e.spanContext();return Boolean(t&Sh)}function Rh(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||tp(),timestamp:t.timestamp||Gp()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:yh);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==s&&(e.dist=s);e.message&&(e.message=ld(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=ld(o.value,i));const a=e.request;a&&a.url&&(a.url=ld(a.url,i))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=vd._sentryDebugIds;if(!n)return;let r;const s=Ih.get(t);s?r=s:(r=new Map,Ih.set(t,r));const i=Object.keys(n).reduce(((e,s)=>{let i;const o=r.get(s);o?i=o:(i=t(s),r.set(s,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[s];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(oS){}}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Zh;return n.update(t),n}(r,n.captureContext);n.mechanism&&ip(l,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],p=function(){Jh||(Jh=new Zh);return Jh}().getScopeData();if(i){Yh(p,i.getScopeData())}if(u){Yh(p,u.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),Wh(l,p);return wh([...d,...bh(),...p.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(oS){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof o&&o>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Dp(e.data,t,n)}})))},...e.user&&{user:Dp(e.user,t,n)},...e.contexts&&{contexts:Dp(e.contexts,t,n)},...e.extra&&{extra:Dp(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Dp(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=Ph(e).data;return r&&(e.data=Dp(r,t,n)),e})));return r}(e,o,a):e)))}const Ih=new WeakMap;function Ah(e){if(e)return function(e){return e instanceof Zh||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>zh.includes(e)))}(e)?{captureContext:e}:e}const zh=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Lh(e,t){return of().captureEvent(e,t)}function Dh(e,t){of().addBreadcrumb(e,t)}function Mh(){return of().getClient()}function Uh(){return of().getScope()}function Fh(e){const t=Mh(),n=af(),r=Uh(),{release:s,environment:i=yh}=t&&t.getOptions()||{},{userAgent:o}=vd.navigator||{},a=_h({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&"ok"===l.status&&jh(l,{status:"exited"}),$h(),n.setSession(a),r.setSession(a),a}function $h(){const e=af(),t=Uh(),n=t.getSession()||e.getSession();n&&Eh(n),qh(),e.setSession(),t.setSession()}function qh(){const e=af(),t=Uh(),n=Mh(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Hh(e=!1){e?$h():qh()}function Bh(e){return e.transaction}function Vh(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=$d({environment:r.environment||yh,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Kh(e){const t=Mh();if(!t)return{};const n=Vh(Ph(e).trace_id||"",t,Uh()),r=Bh(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;null!=i&&(n.sample_rate=`${i}`);const a=Ph(r);return o&&"url"!==o&&(n.transaction=a.description),n.sampled=String(Oh(r)),t.emit&&t.emit("createDsc",n),n}function Wh(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,l=$d(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=$d(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=$d(s);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=$d(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});o&&(e.level=o);a&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:kh(t),...e.contexts};const n=Bh(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Kh(t),...e.sdkProcessingMetadata};const r=Ph(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?ap(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function Yh(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:f}=t;Gh(e,"extra",n),Gh(e,"tags",r),Gh(e,"user",s),Gh(e,"contexts",i),Gh(e,"sdkProcessingMetadata",a),o&&(e.level=o),h&&(e.transactionName=h),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Gh(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let Jh;class Zh{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Xh()}static clone(e){return e?e.clone():new Zh}clone(){const e=new Zh;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&jh(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Zh){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(nd(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Xh(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:Gp(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:s,_user:i,_level:o,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:s,user:i,level:o,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){Wh(e,this.getScopeData());return wh([...n,...bh(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:tp();if(!this._client)return Td.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:tp();if(!this._client)return Td.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:tp();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Td.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Xh(){return{traceId:tp(),spanId:tp().substring(16)}}const Qh="7.116.0",ef=parseFloat(Qh),tf=100;class nf{constructor(e,t,n,r=ef){let s,i;this._version=r,t?s=t:(s=new Zh,s.setClient(e)),n?i=n:(i=new Zh,i.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(oS){throw this.popScope(),oS}return sd(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:tp(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:tp(),s=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:tp();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=tf}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const o={timestamp:Gp(),...e},a=s?Cd((()=>s(o,t))):o;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=sf(this);try{e(this)}finally{sf(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&Eh(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:s=yh}=n&&n.getOptions()||{},{userAgent:i}=vd.navigator||{},o=_h({release:r,environment:s,user:t.getUser(),...i&&{userAgent:i},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&jh(a,{status:"exited"}),this.endSession(),t.setSession(o),o}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=rf().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t)}}function rf(){return vd.__SENTRY__=vd.__SENTRY__||{extensions:{},hub:void 0},vd}function sf(e){const t=rf(),n=lf(t);return cf(t,e),n}function of(){const e=rf();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=rf()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!lf(e).isOlderThan(ef)||cf(e,new nf);var t;return lf(e)}(e)}function af(){return of().getIsolationScope()}function lf(e){return bd("hub",(()=>new nf),e)}function cf(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function uf(e){return(e||of()).getScope().getTransaction()}let df=!1;function pf(){const e=uf();if(e){const t="internal_error";e.setStatus(t)}}var hf;function ff(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==n&&e.setStatus(n)}function mf(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Mh(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function gf(e){if(!mf())return;const t=function(e){if(e.startTime){const t={...e};return t.startTimestamp=Th(e.startTime),delete t.startTime,t}return e}(e),n=of(),r=e.scope?e.scope.getSpan():Uh().getSpan();if(e.onlyIfParent&&!r)return;const s=(e.scope||Uh()).clone();return function(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!mf())return;const i=af();let o;if(t&&!r)o=t.startChild(n);else if(t){const r=Kh(t),{traceId:s,spanId:i}=t.spanContext(),a=Oh(t);o=e.startTransaction({traceId:s,parentSpanId:i,parentSampled:a,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:a,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:t,parentSpanId:a,parentSampled:l,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return s.setSpan(o),function(e,t,n){e&&(zd(e,yf,n),zd(e,vf,t))}(o,s,i),o}(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:s})}pf.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(hf||(hf={}));const vf="_sentryScope",yf="_sentryIsolationScope";const bf="sentry.source",xf="sentry.sample_rate",wf="sentry.op",_f="sentry.origin";class jf{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Ef{constructor(e={}){this._traceId=e.traceId||tp(),this._spanId=e.spanId||tp().substring(16),this._startTime=e.startTimestamp||Jp(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[_f]:e.origin||"manual",[wf]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[wf]}set op(e){this.setAttribute(wf,e)}get origin(){return this._attributes[_f]}set origin(e){this.setAttribute(_f,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?Sh:0}}startChild(e){const t=new Ef({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=Bh(this);return t.transaction=n,t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return ff(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){this._endTime||(Bh(this),this._endTime=Th(e))}toTraceparent(){return Ch(this)}toContext(){return $d({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return kh(this)}getSpanJSON(){return $d({data:this._getData(),description:this._name,op:this._attributes[wf],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[_f],_metrics_summary:void 0,profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class Sf extends Ef{constructor(e,t){super(e),this._contexts={},this._hub=t||of(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[bf]&&{source:this._attributes[bf]},...this._attributes[xf]&&{sampleRate:this._attributes[xf]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(bf,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new jf(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=Th(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return $d({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Kh(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&Ph(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>Ph(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:s}={scope:(i=this)[vf],isolationScope:i[yf]};var i;const{metadata:o}=this,{source:a}=o,l={contexts:{...this._contexts,trace:kh(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:r,capturedSpanIsolationScope:s,...$d({dynamicSamplingContext:Kh(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(l.measurements=this._measurements),l}}const kf={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Cf=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Tf extends jf{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===Ph(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Nf extends Sf{constructor(e,t,n=kf.idleTimeout,r=kf.finalTimeout,s=kf.heartbeatInterval,i=!1,o=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Cf[4],this._autoFinishAllowed=!o,i&&t.getScope().setSpan(this),o||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Cf[3],this.end())}),this._finalTimeout)}end(e){const t=Th(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;Ph(e).timestamp||(e.setStatus("cancelled"),e.end(t));const{start_timestamp:n,timestamp:r}=Ph(e),s=n&&n<t,i=(this._finalTimeout+this._idleTimeout)/1e3;return s&&(r&&n&&r-n<i)}))}if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new Tf(t,n,this.spanContext().spanId,e),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Cf[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=Cf[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),this.activities[e]=!0}_popActivity(e){if(this.activities[e]&&delete this.activities[e],0===Object.keys(this.activities).length){const e=Jp();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Cf[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(this.setStatus("deadline_exceeded"),this._finishReason=Cf[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function Pf(e,t,n){if(!mf(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(xf,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(xf,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(xf,Number(r))):(r=1,e.setAttribute(xf,r)),Of(r)&&r?(e.sampled=Math.random()<r,e.sampled,e):(e.sampled=!1,e)}function Of(e){return!(id(e)||"number"!=typeof e&&"boolean"!=typeof e)&&!(e<0||e>1)}function Rf(){const e=this.getScope().getSpan();return e?{"sentry-trace":Ch(e)}:{}}function If(e,t){const n=this.getClient(),r=n&&n.getOptions()||{};(r.instrumenter||"sentry")!==(e.instrumenter||"sentry")&&(e.sampled=!1);let s=new Sf(e,this);return s=Pf(s,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),s.isRecording()&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function Af(e,t,n,r,s,i,o,a=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new Nf(t,e,n,r,o,s,a);return u=Pf(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function zf(){const e=rf();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=If),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Rf),df||(df=!0,jp(pf),kp(pf)))}function Lf(e,t,n,r){const s=mh(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const o=function(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Pd(r)},...s&&{trace:$d({...s})}}}(e,s,r,t);delete e.sdkProcessingMetadata;return ah(o,[[{type:i},e]])}const Df="7";function Mf(e,t){return n={sentry_key:e.publicKey,sentry_version:Df,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}const Uf=[];function Ff(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?ap(n(t)):t;const s=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(s,(e=>"Debug"===e.name));if(-1!==i){const[e]=s.splice(i,1);s.push(e)}return s}function $f(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function qf(e,t,n){if(!n[t.name]){if(n[t.name]=t,-1===Uf.indexOf(t.name)&&(t.setupOnce(xh,of),Uf.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}}}function Hf(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function Bf(e,t,n,r){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=Pd(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return ah(s,[i])}class Vf{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn&&(this._dsn=Rd(e.dsn)),this._dsn){const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${Mf(e,r)}`}(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(op(e))return;let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let s=n&&n.event_id;const i=ed(e)?e:String(e),o=td(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,r))).then((e=>{s=e}))),s}captureEvent(e,t,n){if(t&&t.originalException&&op(t.originalException))return;let r=t&&t.event_id;const s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,s||n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release||(this.sendSession(e),jh(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):$p(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return null}}addIntegration(e){const t=this._integrations[e.name];qf(this,e,this._integrations),t||$f(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=Lf(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of t.attachments||[])n=lh(n,ph(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const s=mh(n);return ah({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Pd(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){const t=Bf(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&qf(e,t,n)})),n}(this,e),$f(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const s=t.exception&&t.exception.values;if(s){r=!0;for(const e of s){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(jh(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Hp((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=af()){const s=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),Rh(s,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:s,parentSpanId:i,dsc:o}=t;e.contexts={trace:{trace_id:r,span_id:s,parent_span_id:i},...e.contexts};const a=o||Vh(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:s}=r,i=Wf(e),o=Kf(e),a=e.type||"error",l=`before send for type \`${a}\``;if(o&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),qp(new Id(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const c="replay_event"===a?"replay":a,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new Id("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const s=function(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(Kf(t)&&r)return r(t,n);if(Wf(t)&&s)return s(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(sd(e))return e.then((e=>{if(!nd(e)&&null!==e)throw new Id(n);return e}),(e=>{throw new Id(`${t} rejected with ${e}`)}));if(!nd(e)&&null!==e)throw new Id(n);return e}(s,l)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",c,e),new Id(`${l} returned \`null\`, will not send event.`,"log");const s=n&&n.getSession();!i&&s&&this._updateSessionFromEvent(s,r);const o=r.transaction_info;if(i&&o&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...o,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof Id)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Id(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{}))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function Kf(e){return void 0===e.type}function Wf(e){return"transaction"===e.type}function Yf(e,t){!0===t.debug&&Cd((()=>{}));Uh().update(t.initialScope);const n=new e(t);!function(e){const t=of().getStackTop();t.client=e,t.scope.setClient(e)}(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}const Gf=30;function Jf(e,t,n=Bp(e.bufferSize||Gf)){let r={};function s(s){const i=[];if(ch(s,((t,n)=>{const s=fh(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,s)){const r=Zf(t,n);e.recordDroppedEvent("ratelimit_backoff",s,r)}else i.push(t)})),0===i.length)return $p();const o=ah(s[0],i),a=t=>{ch(o,((n,r)=>{const s=Zf(n,r);e.recordDroppedEvent(t,fh(r),s)}))};return n.add((()=>t({body:dh(o,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode),r=vh(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Id)return a("queue_overflow"),$p();throw e}))}return s.__sentry__baseTransport__=!0,{send:s,flush:e=>n.drain(e)}}function Zf(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function Xf(e){return[{type:"span"},e]}function Qf(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:Qh}))),version:Qh}),e._metadata=s}const em=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],tm=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],nm="InboundFilters",rm=(e={})=>({name:nm,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:em],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:tm],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,s);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(oS){}return!1}(e))return!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(oS){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t}(e).some((e=>dd(e,t)))}(e,t.ignoreErrors))return!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&dd(n,t)}(e,t.ignoreTransactions))return!0;if(function(e,t){if(!t||!t.length)return!1;const n=sm(e);return!!n&&dd(n,t)}(e,t.denyUrls))return!0;if(!function(e,t){if(!t||!t.length)return!0;const n=sm(e);return!n||dd(n,t)}(e,t.allowUrls))return!0;return!1}(t,i)?null:t}});function sm(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(oS){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return null}}let im;Hf(nm,rm);const om="FunctionToString",am=new WeakMap,lm=()=>({name:om,setupOnce(){im=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Dd(this),n=am.has(Mh())&&void 0!==t?t:this;return im.apply(n,e)}}catch(oS){}},setup(e){am.set(e,!0)}});Hf(om,lm);const cm=vd;const um=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||void 0===r)&&(r=t.value,t.delta=s,e(t)))}},dm=()=>cm.__WEB_VITALS_POLYFILL__?cm.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=cm.performance.timing,t=cm.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):cm.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],pm=()=>{const e=dm();return e&&e.activationStart||0},hm=(e,t)=>{const n=dm();let r="navigate";return n&&(r=cm.document&&cm.document.prerendering||pm()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},fm=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(oS){}},mm=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==cm.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};cm.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},gm=(e,t={})=>{const n=hm("CLS",0);let r,s=0,i=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=i[0],o=i[i.length-1];s&&0!==i.length&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(s+=e.value,i.push(e)):(s=e.value,i=[e]),s>n.value&&(n.value=s,n.entries=i,r&&r())}}))},a=fm("layout-shift",o);if(a){r=um(e,n,t.reportAllChanges);const s=()=>{o(a.takeRecords()),r(!0)};return mm(s),s}};let vm=-1;const ym=()=>(vm<0&&(cm.document&&cm.document.visibilityState&&(vm="hidden"!==cm.document.visibilityState||cm.document.prerendering?1/0:0),mm((({timeStamp:e})=>{vm=e}),!0)),{get firstHiddenTime(){return vm}}),bm=e=>{const t=ym(),n=hm("FID");let r;const s=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},i=e=>{e.forEach(s)},o=fm("first-input",i);r=um(e,n),o&&mm((()=>{i(o.takeRecords()),o.disconnect()}),!0)};let xm=0,wm=1/0,_m=0;const jm=e=>{e.forEach((e=>{e.interactionId&&(wm=Math.min(wm,e.interactionId),_m=Math.max(_m,e.interactionId),xm=_m?(_m-wm)/7+1:0)}))};let Em;const Sm=()=>Em?xm:performance.interactionCount||0,km=[],Cm={},Tm=e=>{const t=km[km.length-1],n=Cm[e.interactionId];if(n||km.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};Cm[t.id]=t,km.push(t)}km.sort(((e,t)=>t.latency-e.latency)),km.splice(10).forEach((e=>{delete Cm[e.id]}))}},Nm=(e,t)=>{t=t||{},"interactionCount"in performance||Em||(Em=fm("event",jm,{type:"event",buffered:!0,durationThreshold:0}));const n=hm("INP");let r;const s=e=>{e.forEach((e=>{if(e.interactionId&&Tm(e),"first-input"===e.entryType){!km.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&Tm(e)}}));const t=(()=>{const e=Math.min(km.length-1,Math.floor(Sm()/50));return km[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},i=fm("event",s,{durationThreshold:t.durationThreshold||40});r=um(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),mm((()=>{s(i.takeRecords()),n.value<0&&Sm()>0&&(n.value=0,n.entries=[]),r(!0)})))},Pm={},Om=e=>{const t=ym(),n=hm("LCP");let r;const s=e=>{const s=e[e.length-1];if(s){const e=Math.max(s.startTime-pm(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[s],r())}},i=fm("largest-contentful-paint",s);if(i){r=um(e,n);const t=()=>{Pm[n.id]||(s(i.takeRecords()),i.disconnect(),Pm[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{cm.document&&addEventListener(e,t,{once:!0,capture:!0})})),mm(t,!0),t}},Rm=e=>{cm.document&&(cm.document.prerendering?addEventListener("prerenderingchange",(()=>Rm(e)),!0):"complete"!==cm.document.readyState?addEventListener("load",(()=>Rm(e)),!0):setTimeout(e,0))},Im=(e,t)=>{t=t||{};const n=hm("TTFB"),r=um(e,n,t.reportAllChanges);Rm((()=>{const e=dm();if(e){if(n.value=Math.max(e.responseStart-pm(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))},Am={},zm={};let Lm,Dm,Mm,Um,Fm;function $m(e,t){return Gm(e,t),zm[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);fm(e,(t=>{qm(e,{entries:t})}),t)}(e),zm[e]=!0),Jm(e,t)}function qm(e,t){const n=Am[e];if(n&&n.length)for(const r of n)try{r(t)}catch(oS){}}function Hm(){return gm((e=>{qm("cls",{metric:e}),Lm=e}),{reportAllChanges:!0})}function Bm(){return bm((e=>{qm("fid",{metric:e}),Dm=e}))}function Vm(){return Om((e=>{qm("lcp",{metric:e}),Mm=e}))}function Km(){return Im((e=>{qm("ttfb",{metric:e}),Um=e}))}function Wm(){return Nm((e=>{qm("inp",{metric:e}),Fm=e}))}function Ym(e,t,n,r,s=!1){let i;return Gm(e,t),zm[e]||(i=n(),zm[e]=!0),r&&t({metric:r}),Jm(e,t,s?i:void 0)}function Gm(e,t){Am[e]=Am[e]||[],Am[e].push(t)}function Jm(e,t,n){return()=>{n&&n();const r=Am[e];if(!r)return;const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}function Zm(e){return"number"==typeof e&&isFinite(e)}function Xm(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const Qm=2147483647;function eg(e){return e/1e3}function tg(){return cm&&cm.addEventListener&&cm.performance}let ng,rg,sg=0,ig={};function og(){const e=tg();if(e&&Zp){e.mark&&cm.performance.mark("sentry-tracing-init");const t=Ym("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=eg(Zp),r=eg(t.startTime);ig.fid={value:e.value,unit:"millisecond"},ig["mark.fid"]={value:n+r,unit:"second"}}),Bm,Dm),n=function(e,t=!1){return Ym("cls",e,Hm,Lm,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ig.cls={value:e.value,unit:""},rg=t)}),!0),r=function(e,t=!1){return Ym("lcp",e,Vm,Mm,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ig.lcp={value:e.value,unit:"millisecond"},ng=t)}),!0),s=function(e){return Ym("ttfb",e,Km,Um)}((({metric:e})=>{e.entries[e.entries.length-1]&&(ig.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),n(),r(),s()}}return()=>{}}function ag(e,t){if(tg()&&Zp){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find((e=>e.duration===n.value&&void 0!==lg[e.name])),s=Mh();if(!r||!s)return;const i=lg[r.name],o=s.getOptions(),a=eg(Zp+r.startTime),l=eg(n.value),c=void 0!==r.interactionId?e[r.interactionId]:void 0;if(void 0===c)return;const{routeName:u,parentContext:d,activeTransaction:p,user:h,replayId:f}=c,m=void 0!==h?h.email||h.id||h.ip_address:void 0,g=void 0!==p?p.getProfileId():void 0,v=new Ef({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${i}`,name:_d(r.target),attributes:{release:o.release,environment:o.environment,transaction:u,...void 0!==m&&""!==m?{user:m}:{},...void 0!==g?{profile_id:g}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=function(e,t,n){if(!mf(t))return!1;let r;return r=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:cm.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,!!Of(r)&&(!0===r?n:!1===r?0:r*n)}(d,o,t);if(y&&Math.random()<y){const e=v?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=Pd(t)),ah(n,e.map(Xf))}([v],s.getDsn()):void 0,t=s&&s.getTransport();t&&e&&t.send(e).then(null,(e=>{}))}},Ym("inp",n,Wm,Fm);var n}(e,t);return()=>{n()}}return()=>{}}const lg={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function cg(e){const t=tg();if(!t||!cm.performance.getEntries||!Zp)return;const n=eg(Zp),r=t.getEntries(),{op:s,start_timestamp:i}=Ph(e);if(r.slice(sg).forEach((t=>{const r=eg(t.startTime),s=eg(t.duration);if(!("navigation"===e.op&&i&&n+r<i))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{ug(e,t,r,n)})),ug(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),ug(e,t,"fetch",n,"cache","domainLookupStart"),ug(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(Xm(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+eg(t.requestStart),endTimestamp:n+eg(t.responseEnd)}),Xm(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+eg(t.responseStart),endTimestamp:n+eg(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,s){const i=s+n,o=i+r;Xm(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(e,t,r,s,n);const i=ym(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(ig.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(ig.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,s,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const o=Vp(n),a={};dg(a,t,"transferSize","http.response_transfer_size"),dg(a,t,"encodedBodySize","http.response_content_length"),dg(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop());o.host&&(a["server.address"]=o.host);a["url.same_origin"]=n.includes(cm.location.origin);const l=i+r,c=l+s;Xm(e,{description:n.replace(cm.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}(e,t,t.name,r,s,n)}})),sg=Math.max(r.length-1,0),function(e){const t=cm.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Zm(n.rtt)&&(ig["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Zm(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);Zm(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=dm();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(ig),["fcp","fp","lcp"].forEach((e=>{if(!ig[e]||!i||n>=i)return;const t=ig[e].value,r=n+eg(t),s=Math.abs(1e3*(r-i));ig[e].value=s}));const t=ig["mark.fid"];t&&ig.fid&&(Xm(e,{description:"first input delay",endTimestamp:t.value+eg(ig.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete ig["mark.fid"]),"fcp"in ig||delete ig.cls,Object.keys(ig).forEach((e=>{!function(e,t,n){const r=uf();r&&r.setMeasurement(e,t,n)}(e,ig[e].value,ig[e].unit)})),function(e){ng&&(ng.element&&e.setTag("lcp.element",_d(ng.element)),ng.id&&e.setTag("lcp.id",ng.id),ng.url&&e.setTag("lcp.url",ng.url.trim().slice(0,200)),e.setTag("lcp.size",ng.size));rg&&rg.sources&&rg.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,_d(t.node))))}(e)}ng=void 0,rg=void 0,ig={}}function ug(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];a&&o&&Xm(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+eg(a),endTimestamp:r+eg(o)})}function dg(e,t,n,r){const s=t[n];null!=s&&s<Qm&&(e[r]=s)}function pg(e,t,n,r,s="auto.http.browser"){if(!mf()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){ff(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const o=Uh(),a=Mh(),{method:l,url:c}=e.fetchData,u=function(e){try{return new URL(e).href}catch(oS){return}}(c),d=u?Vp(u).host:void 0,p=i?gf({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[_f]:s},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,s){const i=s||n.getSpan(),o=af(),{traceId:a,spanId:l,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?Ch(i):oh(a,l,c),p=nh(u||(i?Kh(i):Vh(a,t,n))),h=r.headers||("undefined"!=typeof Request&&od(e,Request)?e.headers:void 0);if(h){if("undefined"!=typeof Headers&&od(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",d),p&&e.append(Xp,p),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",d]];return p&&e.push([Xp,p]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...h,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:p}}(t,a,o,n,p)}return p}const hg=["localhost",/^\/(?!\/)/],fg={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:hg,tracePropagationTargets:hg};function mg(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:fg.traceFetch,traceXHR:fg.traceXHR,...e},a="function"==typeof i?i:e=>!0,l=e=>function(e,t){return dd(e,t||hg)}(e,r||s),c={};t&&yp((e=>{const t=pg(e,a,l,c);if(t){const n=yg(e.fetchData.url),r=n?Vp(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}o&&t&&gg(t)})),n&&zp((e=>{const t=function(e,t,n,r){const s=e.xhr,i=s&&s[Ap];if(!mf()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const e=s.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(ff(t,i.status_code),t.end(),delete r[e]))}const a=Uh(),l=af(),c=yg(i.url),u=c?Vp(c).host:void 0,d=o?gf({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":c,url:i.url,"server.address":u,[_f]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const p=Mh();if(s.setRequestHeader&&n(i.url)&&p){const{traceId:e,spanId:t,sampled:n,dsc:r}={...l.getPropagationContext(),...a.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Xp,n)}catch(r){}}(s,d?Ch(d):oh(e,t,n),nh(r||(d?Kh(d):Vh(e,p,a))))}return d}(e,a,l,c);o&&t&&gg(t)}))}function gg(e){const{url:t}=Ph(e).data||{};if(!t||"string"!=typeof t)return;const n=$m("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const s of e){if("/"===s){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=s}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!Zp)return r;return[...r,["http.request.redirect_start",vg(e.redirectStart)],["http.request.fetch_start",vg(e.fetchStart)],["http.request.domain_lookup_start",vg(e.domainLookupStart)],["http.request.domain_lookup_end",vg(e.domainLookupEnd)],["http.request.connect_start",vg(e.connectStart)],["http.request.secure_connection_start",vg(e.secureConnectionStart)],["http.request.connection_end",vg(e.connectEnd)],["http.request.request_start",vg(e.requestStart)],["http.request.response_start",vg(e.responseStart)],["http.request.response_end",vg(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function vg(e=0){return((Zp||performance.timeOrigin)+e)/1e3}function yg(e){try{return new URL(e,cm.location.origin).href}catch(oS){return}}const bg={...kf,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!cm||!cm.location)return;let r,s=cm.location.href;t&&(r=e({name:cm.location.pathname,startTimestamp:Zp?Zp/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Op((({to:t,from:n})=>{void 0===n&&s&&-1!==s.indexOf(t)?s=void 0:n!==t&&(s=void 0,r&&r.end(),r=e({name:cm.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...fg};class xg{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,zf(),this.options={...bg,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=og(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&ag(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&$m("longtask",(({entries:e})=>{for(const t of e){const e=uf();if(!e)return;const n=eg(Zp+t.startTime),r=eg(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&$m("event",(({entries:e})=>{for(const t of e){const e=uf();if(!e)return;if("click"===t.name){const n=eg(Zp+t.startTime),r=eg(t.duration),s={description:_d(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=Ed(t.target);i&&(s.attributes={"ui.component_name":i}),e.startChild(s)}}})),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets||this.options.tracePropagationTargets;s((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),o,i),a&&cm.document&&cm.document.addEventListener("visibilitychange",(()=>{const e=uf();if(cm.document.hidden&&e){const t="cancelled",{op:n,status:r}=Ph(e);r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})),p.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),mg({traceFetch:l,traceXHR:c,tracePropagationTargets:h,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return;const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="pageload"===e.op;let a;if(o){const t=o?wg("sentry-trace"):"",n=o?wg("baggage"):void 0,{traceId:r,dsc:s,parentSpanId:i,sampled:l}=ih(t,n);a={traceId:r,parentSpanId:i,parentSampled:l,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else a={trimEnd:!0,...e};const l="function"==typeof n?n(a):a,c=void 0===l?{...a,sampled:!1}:l;c.metadata=c.name!==a.name?{...c.metadata,source:"custom"}:c.metadata,this._latestRoute.name=c.name,this._latestRoute.context=c,c.sampled;const{location:u}=cm,d=Af(t,c,r,s,!0,{location:u},i,o);return o&&cm.document&&(cm.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(cm.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(cm.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),cg(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,s=uf();if(s&&s.op&&["navigation","pageload"].includes(s.op))return;if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return;if(!this._latestRoute.name)return;const i=this._getCurrentHub(),{location:o}=cm,a={name:this._latestRoute.name,op:"ui.action.click",trimEnd:!0,data:{[bf]:this._latestRoute.context?_g(this._latestRoute.context):"url"}};e=Af(i,a,t,n,!0,{location:o},r)};["click"].forEach((e=>{cm.document&&addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){const e=({entries:e})=>{const t=Mh(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,s=uf(),i=Uh(),o=void 0!==i?i.getUser():void 0;e.forEach((e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],i=e.duration,a=e.startTime,l=Object.keys(this._interactionIdToRouteNameMapping),c=l.length>0?l.reduce(((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t)):void 0;if("first-input"===e.entryType){const e=l.map((e=>this._interactionIdToRouteNameMapping[e])).some((e=>e.duration===i&&e.startTime===a));if(e)return}if(!t)return;if(n)n.duration=Math.max(n.duration,i);else if(l.length<10||void 0===c||i>this._interactionIdToRouteNameMapping[c].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(c&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[c],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:i,parentContext:n,user:o,activeTransaction:s,replayId:r,startTime:a})}}}))};$m("event",e),$m("first-input",e)}}function wg(e){const t=(n=`meta[name=${e}]`,xd.document&&xd.document.querySelector?xd.document.querySelector(n):null);var n;return t?t.getAttribute("content"):void 0}function _g(e){const t=e.attributes&&e.attributes[bf],n=e.data&&e.data[bf],r=e.metadata&&e.metadata.source;return t||n||r}const jg=vd;let Eg=0;function Sg(){return Eg>0}function kg(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(Dd(e))return e}catch(oS){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const s=r.map((e=>kg(e,t)));return e.apply(this,s)}catch(s){throw Eg++,setTimeout((()=>{Eg--})),function(...e){const t=of();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}t.withScope(e[0])}((e=>{var n,i;e.addEventProcessor((e=>(t.mechanism&&(sp(e,void 0,void 0),ip(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),n=s,of().captureException(n,Ah(i))})),s}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(s){}Ld(r,e),zd(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(s){}return r}function Cg(e,t){const n=Ng(e,t),r={type:t&&t.name,value:Og(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Tg(e,t){return{exception:{values:[Cg(e,t)]}}}function Ng(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Pg.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(oS){}return[]}const Pg=/Minified React error #\d+;/i;function Og(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Rg(e,t,n,r,s){let i;if(Zu(t)&&t.error){return Tg(e,t.error)}if(Xu(t)||Ju(t,"DOMException")){const s=t;if("stack"in t)i=Tg(e,t);else{const t=s.name||(Xu(s)?"DOMError":"DOMException"),o=s.message?`${t}: ${s.message}`:t;i=Ig(e,o,n,r),sp(i,o)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}if(Gu(t))return Tg(e,t);if(nd(t)||rd(t)){return i=function(e,t,n,r){const s=Mh(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:rd(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Ag(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Mp(t,i)}};if(n){const t=Ng(e,n);t.length&&(o.exception.values[0].stacktrace={frames:t})}return o}(e,t,n,s),ip(i,{synthetic:!0}),i}return i=Ig(e,t,n,r),sp(i,`${t}`,void 0),ip(i,{synthetic:!0}),i}function Ig(e,t,n,r){const s={};if(r&&n){const r=Ng(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(ed(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}function Ag(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Md(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return ld(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:ld(e,t)}return""}(e),r=t?"promise rejection":"exception";if(Zu(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(rd(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(oS){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class zg extends Vf{constructor(e){Qf(e,"browser",["browser"],jg.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&jg.document&&jg.document.addEventListener("visibilitychange",(()=>{"hidden"===jg.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const s=Rg(e,t,n&&n.syntheticException||void 0,r);return ip(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),$p(s)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,s){const i=Ig(e,t,r&&r.syntheticException||void 0,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),$p(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return;const t=function(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Pd(r)}},i=function(e){return[{type:"user_report"},e]}(e);return ah(s,[i])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return;if(!this._dsn)return;const t=(n=e,ah((r=this._options.tunnel&&Pd(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||Gp(),discarded_events:n}]]));var n,r,s;this._sendEnvelope(t)}}let Lg;function Dg(e,t=function(){if(Lg)return Lg;if(vp(jg.fetch))return Lg=jg.fetch.bind(jg);const e=jg.document;let t=jg.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(oS){}return Lg=t.bind(jg)}()){let n=0,r=0;return Jf(e,(function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,o).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(oS){return Lg=void 0,n-=i,r--,qp(oS)}}))}const Mg=4;function Ug(e){return Jf(e,(function(t){return new Hp(((n,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{s.readyState===Mg&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&s.setRequestHeader(t,e.headers[t]);s.send(t.body)}))}))}const Fg="?";function $g(e,t,n,r){const s={filename:e,function:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const qg=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hg=/\((\S*)(?::(\d+))(?::(\d+))\)/,Bg=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Vg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kg=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Wg=Kd(...[[30,e=>{const t=qg.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Hg.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Yg(t[1]||Fg,t[2]);return $g(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Bg.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Vg.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Fg;return[n,e]=Yg(n,e),$g(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Kg.exec(e);return t?$g(t[2],t[1]||Fg,+t[3],t[4]?+t[4]:void 0):void 0}]]),Yg=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Fg,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Gg=1024,Jg="Breadcrumbs",Zg=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Jg,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";Zd(t,e),Xd(t,ep)}(function(e){return function(t){if(Mh()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Wp(t.level),message:cd(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${cd(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Dh(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(Mh()!==e)return;let r,s,i="object"==typeof t?t.serializeAttribute:void 0,o="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>Gg&&(o=Gg),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=_d(t,{keyAttrs:i,maxStringLength:o}),s=Ed(t)}catch(oS){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};s&&(a.data={"ui.component_name":s}),Dh(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),Zd("dom",n),Xd("dom",hp)),t.xhr&&zp(function(e){return function(t){if(Mh()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,s=t.xhr[Ap];if(!n||!r||!s)return;const{method:i,url:o,status_code:a,body:l}=s;Dh({category:"xhr",data:{method:i,url:o,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&yp(function(e){return function(t){if(Mh()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Dh({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;Dh({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&Op(function(e){return function(t){if(Mh()!==e)return;let n=t.from,r=t.to;const s=Vp(jg.location.href);let i=n?Vp(n):void 0;const o=Vp(r);i&&i.path||(i=s),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),Dh({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){Mh()===e&&Dh({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:rp(t)},{event:t})}}(e))}}};Hf(Jg,Zg);const Xg="Dedupe",Qg=()=>{let e;return{name:Xg,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!tv(e,t))return!1;if(!ev(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=nv(t),r=nv(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!tv(e,t))return!1;if(!ev(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return null}catch(n){}return e=t}}};function ev(e,t){let n=rv(e),r=rv(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const e=r[s],t=n[s];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function tv(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(s){return!1}}function nv(e){return e.exception&&e.exception.values&&e.exception.values[0]}function rv(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}Hf(Xg,Qg);const sv="GlobalHandlers",iv=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:sv,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&function(e){jp((t=>{const{stackParser:n,attachStacktrace:r}=av();if(Mh()!==e||Sg())return;const{msg:s,url:i,line:o,column:a,error:l}=t,c=void 0===l&&Qu(s)?function(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Zu(e)?e.message:e,o="Error";const a=i.match(s);a&&(o=a[1],i=a[2]);const l={exception:{values:[{type:o,value:i}]}};return ov(l,t,n,r)}(s,i,o,a):ov(Rg(n,l||s,void 0,r,!1),i,o,a);c.level="error",Lh(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),t.onunhandledrejection&&function(e){kp((t=>{const{stackParser:n,attachStacktrace:r}=av();if(Mh()!==e||Sg())return;const s=function(e){if(td(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(t),i=td(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:Rg(n,s,void 0,r,!0);i.level="error",Lh(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e)}}};function ov(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Qu(t)&&t.length>0?t:function(){try{return xd.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function av(){const e=Mh();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}Hf(sv,iv);const lv="HttpContext",cv=()=>({name:lv,setupOnce(){},preprocessEvent(e){if(!jg.navigator&&!jg.location&&!jg.document)return;const t=e.request&&e.request.url||jg.location&&jg.location.href,{referrer:n}=jg.document||{},{userAgent:r}=jg.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}});Hf(lv,cv);const uv="LinkedErrors",dv=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:uv,setupOnce(){},preprocessEvent(e,r,s){const i=s.getOptions();pd(Cg,i.stackParser,i.maxValueLength,n,t,e,r)}}};Hf(uv,dv);const pv=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],hv="TryCatch",fv=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:hv,setupOnce(){t.setTimeout&&Ad(jg,"setTimeout",mv),t.setInterval&&Ad(jg,"setInterval",mv),t.requestAnimationFrame&&Ad(jg,"requestAnimationFrame",gv),t.XMLHttpRequest&&"XMLHttpRequest"in jg&&Ad(XMLHttpRequest.prototype,"send",vv);const e=t.eventTarget;if(e){(Array.isArray(e)?e:pv).forEach(yv)}}}};function mv(e){return function(...t){const n=t[0];return t[0]=kg(n,{mechanism:{data:{function:Yd(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function gv(e){return function(t){return e.apply(this,[kg(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Yd(e)},handled:!1,type:"instrument"}})])}}function vv(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&Ad(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Yd(t)},handled:!1,type:"instrument"}},r=Dd(t);return r&&(n.mechanism.data.handler=Yd(r)),kg(t,n)}))})),e.apply(this,t)}}function yv(e){const t=jg,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ad(n,"addEventListener",(function(t){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=kg(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Yd(r),target:e},handled:!1,type:"instrument"}}))}catch(i){}return t.apply(this,[n,kg(r,{mechanism:{data:{function:"addEventListener",handler:Yd(r),target:e},handled:!1,type:"instrument"}}),s])}})),Ad(n,"removeEventListener",(function(e){return function(t,n,r){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(oS){}return e.call(this,t,s,r)}})))}Hf(hv,fv);const bv=[rm(),lm(),fv(),Zg(),iv(),dv(),Qg(),cv()];function xv(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...bv]),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),jg.SENTRY_RELEASE&&jg.SENTRY_RELEASE.id&&(e.release=jg.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Wg,Array.isArray(n)?Kd(...n):n),integrations:Ff(e),transport:e.transport||(gp()?Dg:Ug)};var n;Yf(zg,t),e.autoSessionTracking&&function(){if(void 0===jg.document)return;Fh({ignoreDuration:!0}),Hh(),Op((({from:e,to:t})=>{void 0!==e&&e!==t&&(Fh({ignoreDuration:!0}),Hh())}))}()}const wv=["Failed to fetch dynamically imported module","Failed to execute 'removeChild' on 'Node'","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","Importing a module script failed.","chrome-extension://","AbortError: Share canceled"];function _v({children:e,permission:t,requireLogin:n=!0}){const{isLoggedIn:s,hasPermission:i,isSubscribed:o}=ql(),{billing:a}=bl();return n&&!s||t&&!i(t)?s?a.enable&&!o?r.jsx(k,{to:"/pricing",replace:!0}):r.jsx(Du,{}):r.jsx(k,{to:"/login",replace:!0}):e||r.jsx(_,{})}function jv({permission:e,requireLogin:t=!0}={}){const n=Ms().settings.billing.enable;return t&&!Bl.isLoggedIn||e&&!Bl.hasPermission(e)?Bl.isLoggedIn?n&&!Bl.isSubscribed?S("/pricing"):S("/404"):S("/login"):null}const Ev="text-link hover:underline hover:text-primary-dark focus-visible:ring focus-visible:ring-2 focus-visible:ring-offset-2 outline-none rounded transition-colors";function Sv({children:e,className:t,target:n="_blank",...s}){return r.jsx("a",{className:Ev,target:n,...s,children:e})}function kv(e){const t=yl(),{getRedirectUri:n}=ql(),{inviteId:r}=C();return i({mutationFn:e=>function(e){return sn.post("auth/register",e).then((e=>e.data))}({invite_id:r,...e}),onSuccess:e=>{Us(e.bootstrapData),"needs_email_verification"===e.status?t("/"):t(n(),{replace:!0})},onError:t=>Tu(t,e)})}function Cv(e){return sn.post("secure/auth/social/connect",e).then((e=>e.data))}function Tv(e){const{children:t,startAction:n,className:s,dividerTop:i,padding:o,size:a}=e;return r.jsxs("div",{className:N(s,i&&"border-t",Nv(e),"flex items-center gap-10 flex-shrink-0"),children:[r.jsx("div",{children:n}),r.jsx("div",{className:"ml-auto flex items-center gap-10",children:t})]})}function Nv({padding:e,size:t}){if(e)return e;switch(t){case"xs":return"p-14";case"sm":return"p-18";default:return"px-24 py-20"}}const Pv=ri(r.jsx("path",{d:"M 23.898438 47 C 13.65625 47 5.003906 38.355469 5.003906 28.125 L 5.003906 28 C 4.929688 23.074219 6.558594 19.714844 7.261719 18.5 C 8.621094 16.152344 10.296875 14.410156 10.8125 14.136719 C 11.566406 13.734375 12.121094 14.332031 12.363281 14.585938 C 12.832031 15.085938 12.597656 15.695313 12.507813 15.925781 C 11.613281 18.265625 10.929688 20.28125 11.003906 23.097656 C 11.097656 26.90625 12.488281 28.699219 13.085938 29.292969 C 13.460938 29.671875 13.769531 29.847656 14.015625 29.933594 C 14.054688 28.671875 14.203125 26.148438 14.773438 23.304688 C 15.113281 21.589844 16.28125 17.085938 19.6875 12.296875 C 23.714844 6.632813 28.449219 4.273438 29.214844 4.042969 C 30.570313 3.636719 33.535156 3.128906 35.957031 3.019531 C 38.53125 2.910156 39.160156 3.574219 39.921875 5.035156 L 40.046875 5.277344 C 41.820313 8.613281 45.03125 18.832031 43.65625 29.132813 C 42.011719 39.992188 34.257813 47 23.898438 47 Z M 14.648438 30 C 14.640625 30 14.632813 30 14.628906 30 L 14.652344 30 C 14.648438 30 14.648438 30 14.648438 30 Z "}));function Ov(){var e,t,n,r;const{social:s}=bl();return!((null==(e=null==s?void 0:s.google)?void 0:e.enable)||(null==(t=null==s?void 0:s.facebook)?void 0:t.enable)||(null==(n=null==s?void 0:s.twitter)?void 0:n.enable)||(null==(r=null==s?void 0:s.envato)?void 0:r.enable))}function Rv(e){return sn.post(`secure/auth/social/${e.service}/disconnect`,e).then((e=>e.data))}function Iv(){const{trans:e}=Ks(),t=i({mutationFn:Rv,onError:e=>Po(e)}),[n,r]=p.useState(!1),s=p.useCallback((t=>{const{status:n,callbackData:s}=t;if(n)switch(n.toUpperCase()){case"SUCCESS":return(null==s?void 0:s.bootstrapData)&&Us(s.bootstrapData),t;case"REQUEST_PASSWORD":return r(!0),t;case"ERROR":const n=(null==s?void 0:s.errorMessage)||e({message:"An error occurred. Please try again later"});return Xr.danger(n),t;default:return t}}),[e,Us]);return{requestingPassword:n,setIsRequestingPassword:r,loginWithSocial:async e=>{const t=await Dv(`secure/auth/social/${e}/login`);return s(t)},connectSocial:async e=>{const t=e.includes("/")?e:`secure/auth/social/${e}/connect`,n=await Dv(t);return s(n)},disconnectSocial:t}}const Av=550,zv=650;let Lv;function Dv(e){const t=window.screen.width/2-zv/2,n=window.screen.height/2-Av/2;return new Promise((r=>{Lv=window.open(e,"Authenticate Account",`menubar=0, location=0, toolbar=0, titlebar=0, status=0, scrollbars=1, width=${zv}, height=${Av}, left=${t}, top=${n}`);const s=e=>{const t=Ms().settings.base_url;"social-auth"===e.data.type&&t.indexOf(e.origin)>-1&&(r(e.data),window.removeEventListener("message",s))};window.addEventListener("message",s);const i=setInterval((()=>{Lv&&!Lv.closed||(clearInterval(i),r({}),window.removeEventListener("message",s))}),1e3)}))}const Mv=ri(r.jsxs("g",{children:[r.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),r.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),r.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),r.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),r.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})),Uv=ri(r.jsx("path",{d:"M48 24C48 10.7452 37.2548 0 24 0C10.7452 0 0 10.7452 0 24C0 35.9789 8.77641 45.908 20.25 47.7084V30.9375H14.1562V24H20.25V18.7125C20.25 12.6975 23.8331 9.375 29.3152 9.375C31.9402 9.375 34.6875 9.84375 34.6875 9.84375V15.75H31.6613C28.68 15.75 27.75 17.6002 27.75 19.5V24H34.4062L33.3422 30.9375H27.75V47.7084C39.2236 45.908 48 35.9789 48 24Z"}),"FacebookIcon","0 0 48 48"),Fv=ri(r.jsx("path",{d:"M14.095479,10.316482L22.286354,1h-1.940718l-7.115352,8.087682L7.551414,1H1l8.589488,12.231093L1,23h1.940717  l7.509372-8.542861L16.448587,23H23L14.095479,10.316482z M11.436522,13.338465l-0.871624-1.218704l-6.924311-9.68815h2.981339  l5.58978,7.82155l0.867949,1.218704l7.26506,10.166271h-2.981339L11.436522,13.338465z"}),"TwitterIcon"),$v=ln("Continue with google"),qv=ln("Continue with facebook"),Hv=ln("Continue with twitter"),Bv=ln("Continue with envato");function Vv({dividerMessage:e}){var t,n,s,i;const{social:o}=bl(),a=yl(),{getRedirectUri:l}=ql(),{loginWithSocial:c,requestingPassword:u,setIsRequestingPassword:d}=Iv();if(Ov())return null;const h=async e=>{const t=await c(e);"SUCCESS"!==(null==t?void 0:t.status)&&"ALREADY_LOGGED_IN"!==(null==t?void 0:t.status)||a(l(),{replace:!0})};return r.jsxs(p.Fragment,{children:[r.jsx("div",{className:"relative my-20 text-center before:absolute before:left-0 before:top-1/2 before:h-1 before:w-full before:-translate-y-1/2 before:bg-divider",children:r.jsx("span",{className:"relative z-10 bg-paper px-10 text-sm text-muted",children:e})}),r.jsxs("div",{className:N("flex items-center justify-center gap-14",!(null==o?void 0:o.compact_buttons)&&"flex-col"),children:[(null==(t=null==o?void 0:o.google)?void 0:t.enable)?r.jsx(Wv,{label:$v,icon:r.jsx(Mv,{viewBox:"0 0 48 48"}),onClick:()=>h("google")}):null,(null==(n=null==o?void 0:o.facebook)?void 0:n.enable)?r.jsx(Wv,{label:qv,icon:r.jsx(Uv,{className:"text-facebook"}),onClick:()=>h("facebook")}):null,(null==(s=null==o?void 0:o.twitter)?void 0:s.enable)?r.jsx(Wv,{label:Hv,icon:r.jsx(Fv,{className:"text-twitter"}),onClick:()=>h("twitter")}):null,(null==(i=null==o?void 0:o.envato)?void 0:i.enable)?r.jsx(Wv,{label:Bv,icon:r.jsx(Pv,{viewBox:"0 0 50 50",className:"text-envato"}),onClick:()=>h("envato")}):null]}),r.jsx(yu,{type:"modal",isOpen:u,onOpenChange:d,children:r.jsx(Kv,{})})]})}function Kv(){const e=H(),{formId:t}=As(),n=function(e){const t=yl(),{getRedirectUri:n}=ql();return i({mutationFn:Cv,onSuccess:e=>{Us(e.bootstrapData),t(n(),{replace:!0})},onError:t=>Tu(t,e)})}(e);return r.jsxs(Gs,{children:[r.jsx(li,{children:r.jsx(di,{message:"Password required"})}),r.jsxs(pi,{children:[r.jsx("div",{className:"mb-30 text-sm text-muted",children:r.jsx(di,{message:"An account with this email address already exists. If you want to connect the two accounts, enter existing account password."})}),r.jsx(ku,{form:e,id:t,onSubmit:e=>{n.mutate(e)},children:r.jsx(fu,{autoFocus:!0,name:"password",type:"password",required:!0,label:r.jsx(di,{message:"Password"})})})]}),r.jsxs(Tv,{children:[r.jsx(mo,{variant:"text",children:r.jsx(di,{message:"Cancel"})}),r.jsx(mo,{type:"submit",form:t,variant:"flat",color:"primary",disabled:n.isPending,children:r.jsx(di,{message:"Connect"})})]})]})}function Wv({onClick:e,label:t,icon:n}){var s;const{trans:i}=Ks();return(null==(s=bl().social)?void 0:s.compact_buttons)?r.jsx(ei,{variant:"outline","aria-label":i(t),onClick:e,children:n}):r.jsx(mo,{variant:"outline",startIcon:n,onClick:e,className:"min-h-42 w-full",children:r.jsx("span",{className:"min-w-160 text-start",children:r.jsx(di,{...t})})})}function Yv(){const{branding:e}=bl();return r.jsxs("div",{className:"mt-auto flex items-center gap-30 pb-32 pt-42 text-sm text-muted",children:[r.jsxs(y,{className:"transition-colors hover:text-fg-base",to:"/",children:["© ",e.site_name]}),r.jsx(oc,{menu:"auth-page-footer",orientation:"horizontal",itemClassName:"hover:text-fg-base transition-colors"})]})}const Gv=""+new URL("auth-bg-8529ec0e.svg",import.meta.url).href;function Jv({heading:e,children:t,message:n}){const{branding:s}=bl(),i=ju(),{trans:o}=Ks();return r.jsxs("main",{className:"flex h-screen flex-col items-center overflow-y-auto bg-alt px-14 pt-70 dark:bg-none md:px-10vw",style:{backgroundImage:i?void 0:`url("${Gv}")`},children:[r.jsx(y,{to:"/",className:"mb-40 block flex-shrink-0","aria-label":o({message:"Go to homepage"}),children:r.jsx("img",{src:i?s.logo_light:null==s?void 0:s.logo_dark,className:"m-auto block h-42 w-auto",alt:""})}),r.jsxs("div",{className:"mx-auto w-full max-w-440 rounded-lg bg px-40 pb-32 pt-40 shadow md:shadow-xl",children:[e&&r.jsx("h1",{className:"mb-20 text-xl",children:e}),t]}),n&&r.jsx("div",{className:"mt-36 text-sm",children:n}),r.jsx(Yv,{})]})}const Zv=ri(r.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlankOutlined"),Xv=ri(r.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Qv=ri(r.jsx("path",{d:"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17,13H7v-2h10V13z"}),"CheckBox"),ey=p.forwardRef(((e,t)=>{const{size:n="md",children:s,className:i,icon:o,checkedIcon:a,disabled:l,isIndeterminate:c,errorMessage:u,invalid:d,orientation:h="horizontal",onChange:f,autoFocus:m,required:g,value:v,name:y,inputTestId:b}=e,x=nu({...e,label:s}),w=o||Zv,_=a||(c?Qv:Xv),j=Ns(t);du({autoFocus:m},j),p.useEffect((()=>{j.current&&(j.current.indeterminate=c||!1)}));const[E,S]=Rs(e.checked,e.defaultChecked||!1),k=p.useCallback((e=>{null==f||f(e),S(e.target.checked)}),[f,S]),C=N("select-none",i,d&&"text-danger",!d&&l&&"text-disabled");let T,P=d?"text-danger":null;return c?(T=Qv,P=P||"text-primary"):E?(T=_,P=P||"text-primary"):(T=w,P=P||"text-muted"),r.jsxs("div",{children:[r.jsx("label",{className:C,children:r.jsxs("div",{className:N("relative flex items-center","vertical"===h&&"flex-col flex-col-reverse"),children:[r.jsx("input",{className:"absolute left-0 top-0 h-24 w-24 appearance-none overflow-hidden rounded outline-none ring-inset transition-shadow focus-visible:ring",type:"checkbox","aria-checked":c?"mixed":E,"aria-invalid":d||void 0,onChange:k,ref:j,required:g,disabled:l,value:v,name:y,"data-testid":b}),r.jsx(T,{size:n,className:N("pointer-events-none",l?"text-disabled":P)}),s&&r.jsx("div",{className:N("first-letter:capitalize",x.size.font,"vertical"===h?"mb-6":"ml-6"),children:s})]})}),u&&r.jsx("div",{className:x.error,children:u})]})}));function ty(e){const{field:{onChange:t,onBlur:n,value:s=!1,ref:i},fieldState:{invalid:o,error:a}}=$({name:e.name}),l={onChange:t,onBlur:n,checked:s,invalid:o,errorMessage:null==a?void 0:a.message,name:e.name};return r.jsx(ey,{ref:i,...ws(l,e)})}function ny(e){const{recaptcha:{site_key:t,enable:n}={}}=bl(),r=t&&(null==n?void 0:n[e]),[s,i]=p.useState(!1);p.useEffect((()=>{r&&ry(t)}),[r,t]);return{verify:p.useCallback((async()=>{if(!r)return!0;i(!0);const n=await async function(e,t){return await ry(e),new Promise((n=>{var r;null==(r=window.grecaptcha)||r.ready((async()=>{var r;const s=await(null==(r=window.grecaptcha)?void 0:r.execute(e,{action:t})),i=sn.post("recaptcha/verify",{token:s}).then((e=>e.data.success)).catch((()=>!1));n(i??!1)}))}))}(t,e);return n||Xr.danger(ln("Could not verify you are human.")),i(!1),n}),[r,t,e]),isVerifying:s}}function ry(e){return Al.loadAsset(`https://www.google.com/recaptcha/api.js?render=${e}`,{id:"recaptcha-js"})}const sy=window.requestAnimationFrame,iy=window.cancelAnimationFrame,oy="data-be-helmet";let ay;const ly=p.memo((({children:e,tags:t})=>{const{trans:n}=Ks();return!t&&e&&(t=function(e,t){return p.Children.map(e,(e=>{switch(e.type){case"title":return{nodeName:"title",_text:cy(e.props.children,t)};case"meta":return{...e.props,nodeName:"meta"}}}))}(e,n)),function(e){ay&&iy(ay);ay=sy((()=>{if(document.head.querySelectorAll('meta:not([data-keep]), script[type="application/ld+json"]:not([data-keep]), title, link[rel="canonical"]').forEach((e=>{document.head.removeChild(e)})),"string"==typeof e){const t=document.createElement("template");t.innerHTML=e,t.content.childNodes.forEach((e=>{e instanceof HTMLElement&&(e.setAttribute(oy,"true"),document.head.prepend(e))}))}else null==e||e.forEach((e=>{!function(e){if("title"===e.nodeName)return void(void 0!==e._text&&document.title!==e._text&&(document.title=e._text));const t=document.createElement(e.nodeName);for(const n in e){const r=n;if("nodeName"!==r)if("_text"===r)t.textContent="string"==typeof e._text?e._text:JSON.stringify(e._text);else{const n=null==e[r]?"":e[r];t.setAttribute(r,n)}}t.setAttribute(oy,"true"),document.head.prepend(t)}(e)}));ay=null}))}(t),null}),Vs);function cy(e,t){return null==e?"":"string"==typeof e?e:Array.isArray(e)?e.map((e=>cy(e,t))).join(""):t("message"in e?e:e.props)}function uy({children:e}){const{branding:{site_name:t}}=bl();return r.jsx(ly,{children:e?r.jsxs("title",{children:[e," - ",t]}):void 0})}function dy({inviteType:e}){const{branding:t,registration:n,social:s}=bl(),{auth:i}=p.useContext(an),{verify:o,isVerifying:a}=ny("register"),{pathname:l}=m(),[c]=T(),u=l.includes("workspace")||!!e,d="pricing"===c.get("redirectFrom"),h=c.get("email")||void 0,f=H({defaultValues:{email:h}}),g=kv(f);if((null==n?void 0:n.disable)&&!u)return r.jsx(k,{to:"/login",replace:!0});let v=r.jsx(di,{message:"Create a new account"});u?v=r.jsx(di,{values:{siteName:null==t?void 0:t.site_name},message:"To join your team on :siteName, create an account"}):d&&(v=r.jsx(di,{message:"First, let's create your account"}));const b=r.jsx(di,{values:{a:e=>r.jsx(y,{className:Ev,to:"/login",children:e})},message:"Already have an account? <a>Sign in.</a>"});return r.jsxs(Jv,{heading:v,message:b,children:[r.jsx(uy,{children:r.jsx(di,{message:"Register"})}),r.jsxs(ku,{form:f,onSubmit:async t=>{await o()&&g.mutate({...t,invite_type:e})},children:[r.jsx(fu,{className:"mb-32",name:"email",type:"email",disabled:!!h,label:r.jsx(di,{message:"Email"}),required:!0}),r.jsx(fu,{className:"mb-32",name:"password",type:"password",label:r.jsx(di,{message:"Password"}),required:!0}),r.jsx(fu,{className:"mb-32",name:"password_confirmation",type:"password",label:r.jsx(di,{message:"Confirm password"}),required:!0}),(null==i?void 0:i.registerFields)?r.jsx(i.registerFields,{}):null,r.jsx(py,{}),r.jsx(mo,{className:"block w-full",type:"submit",variant:"flat",color:"primary",size:"md",disabled:g.isPending||a,children:r.jsx(di,{message:"Create account"})}),r.jsx(Vv,{dividerMessage:(null==s?void 0:s.compact_buttons)?r.jsx(di,{message:"Or sign up with"}):r.jsx(di,{message:"OR"})})]})]})}function py(){const{registration:e}=bl();return(null==e?void 0:e.policies)?r.jsx("div",{className:"mb-32",children:e.policies.map((e=>r.jsx(ty,{name:e.id,className:"mb-4 block",required:!0,children:r.jsx(di,{message:"I accept the :name",values:{name:r.jsx(ac,{unstyled:!0,className:()=>Ev,item:e})}})},e.id)))}):null}const hy=ri(r.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}),"NotificationsOutlined");function fy({children:e,className:t,withBorder:n=!0,top:s="top-2",right:i="right-4",color:o="bg-warning text-white"}){return r.jsx("span",{className:N("absolute flex items-center justify-center whitespace-nowrap rounded-full text-[11px] font-bold shadow",n&&"border-2 border-white",o,e?"w-max p-4 leading-[0.6]":"h-12 w-12",t,s,i),children:e})}const my=ri(r.jsx("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAllOutlined"),gy=""+new URL("notify-d1de4ec3.svg",import.meta.url).href;function vy(){const{notif:e}=bl();return r.jsx(Mu,{size:"sm",image:r.jsx(zo,{src:gy}),title:r.jsx(di,{message:"Hang tight!"}),description:r.jsx(di,{message:"Notifications will start showing up here soon."}),action:e.subs.integrated&&r.jsx(mo,{elementType:y,variant:"outline",to:"/notifications/settings",size:"xs",color:"primary",children:r.jsx(di,{message:"Notification settings"})})})}const yy=ri(r.jsx("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"SettingsOutlined");function by({className:e}){const{user:t}=ql(),n=!!(null==t?void 0:t.unread_notifications_count);return r.jsxs(yu,{type:"popover",children:[r.jsx(ei,{size:"md",className:e,badge:n?r.jsx(fy,{className:"max-md:hidden",children:null==t?void 0:t.unread_notifications_count}):void 0,children:r.jsx(hy,{})}),r.jsx(xy,{})]})}function xy(){const{user:e}=ql(),{notif:t}=bl(),n=ls(),s=vl(),i=!!(null==e?void 0:e.unread_notifications_count);return r.jsxs(Gs,{children:[r.jsx(li,{showDivider:!0,actions:!i&&t.subs.integrated&&r.jsx(ei,{className:"text-muted",size:"sm",elementType:y,to:"/notifications/settings",target:"_blank",children:r.jsx(yy,{})}),rightAdornment:i&&r.jsx(mo,{variant:"text",color:"primary",size:"xs",startIcon:r.jsx(my,{}),onClick:()=>{n.data&&s.mutate({markAllAsUnread:!0})},disabled:s.isPending,className:"max-md:hidden",children:r.jsx(di,{message:"Mark all as read"})}),children:r.jsx(di,{message:"Notifications"})}),r.jsx(pi,{padding:"p-0",children:r.jsx(wy,{})})]})}function wy(){const{data:e,isLoading:t}=ls();return t?r.jsx("div",{className:"flex items-center justify-center px-24 py-20",children:r.jsx(xc,{"aria-label":"Loading notifications...",isIndeterminate:!0})}):(null==e?void 0:e.pagination.data.length)?r.jsx("div",{children:r.jsx(wl,{notifications:e.pagination.data})}):r.jsx("div",{className:"px-24 py-20",children:r.jsx(vy,{})})}const _y=ri(r.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"MenuOutlined"),jy=ri(r.jsx("path",{d:"m7 10 5 5 5-5H7z"}),"ArrowDropDownOutlined"),Ey=ri(r.jsx("path",{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-2 0H3V6h14v8zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm13 0v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"}),"PaymentsOutlined"),Sy=ri(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"}),"AccountCircleOutlined"),ky=ri(r.jsx("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"}),"DarkModeOutlined"),Cy=ri(r.jsx("path",{d:"M12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"}),"LightModeOutlined"),Ty=ri(r.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToAppOutlined");function Ny({children:e,items:t,placement:n}){const{auth:s}=p.useContext(an),i=Su(),o=sc("auth-dropdown"),{notifications:a,themes:l}=bl(),{user:c,isSubscribed:u}=ql(),d=yl(),{selectedTheme:h,selectTheme:f}=Pl();if(!h||!c)return null;const m=!!c.unread_notifications_count,g=r.jsxs(Kc,{className:"md:hidden",value:"notifications",startIcon:r.jsx(hy,{}),onSelected:()=>{d("/notifications")},children:[r.jsx(di,{message:"Notifications"}),m?` (${c.unread_notifications_count})`:void 0]}),v=r.jsx(Kc,{value:"billing",startIcon:r.jsx(Ey,{}),onSelected:()=>{d("/billing")},children:r.jsx(di,{message:"Billing"})});return r.jsxs(mu,{placement:n,children:[e,r.jsxs(gu,{children:[o&&o.items.map((e=>{const t=e.icon&&si(e.icon);return r.jsx(Kc,{value:e.id,startIcon:t&&r.jsx(t,{}),onSelected:()=>{"link"===e.type?window.open(e.action,"_blank"):d(e.action)},children:r.jsx(di,{message:e.label})},e.id)})),s.getUserProfileLink&&r.jsx(Kc,{value:"profile",startIcon:r.jsx(Sy,{}),onSelected:()=>{d(s.getUserProfileLink(c))},children:r.jsx(di,{message:"Profile page"})}),null==t?void 0:t.map((e=>e)),(null==a?void 0:a.integrated)?g:void 0,u&&v,(null==l?void 0:l.user_change)&&!h.is_dark&&r.jsx(Kc,{value:"light",startIcon:r.jsx(ky,{}),onSelected:()=>{f("dark")},children:r.jsx(di,{message:"Dark mode"})}),(null==l?void 0:l.user_change)&&h.is_dark&&r.jsx(Kc,{value:"dark",startIcon:r.jsx(Cy,{}),onSelected:()=>{f("light")},children:r.jsx(di,{message:"Light mode"})}),r.jsx(Kc,{value:"logout",startIcon:r.jsx(Ty,{}),onSelected:()=>{i.mutate()},children:r.jsx(di,{message:"Log out"})})]})]})}const Py=ri(r.jsx("path",{d:"M24,12 C28.418278,12 32,15.581722 32,20 L32,22 C32,26.418278 28.418278,30 24,30 C19.581722,30 16,26.418278 16,22 L16,20 C16,15.581722 19.581722,12 24,12 Z M24,32 C33.8734019,32 42.1092023,38.8710577 44,48 L4,48 C5.89079771,38.8710577 14.1265981,32 24,32 Z"})),Oy=["#3b82f6","#6366f1","#0284c7","#9333ea","#059669","#ea580c","#dc2626","#06b6d4","#e11d48"],Ry=p.forwardRef((({size:e,label:t,labelForBackground:n,color:s},i)=>{const{initial:o,bgColor:a}=p.useMemo((()=>{const e=n||t||"",r=e.split("").reduce(((e,t)=>t.charCodeAt(0)+e),e.length);return{initial:t.slice(0,1).toUpperCase(),bgColor:Oy[r%Oy.length]}}),[t,n]);return r.jsx("div",{ref:i,style:s?void 0:{backgroundColor:a},className:N("flex h-full w-full items-center justify-center font-semibold leading-normal text-on-primary",s,Iy(e)),children:o})}));function Iy(e){switch(e){case"xs":case"sm":return"text-xs";case"xl":return"text-xl";case"md":return"text-base";default:return""}}const Ay=p.forwardRef((function({className:e,circle:t,size:n="md",src:s,link:i,label:o,labelForBackground:a,fallback:l="initials",fallbackColor:c,lazy:u=!0,...d},p){let h=s?r.jsx("img",{ref:p,src:s,alt:o,loading:u?"lazy":void 0,className:"block h-full w-full object-cover"}):"initials"===l&&o?r.jsx(Ry,{size:n,label:o,labelForBackground:a,color:c}):r.jsx("div",{className:"h-full w-full bg-alt dark:bg-chip",children:r.jsx(Py,{viewBox:"0 0 48 48",className:"h-full w-full text-muted"})});o&&(h=r.jsx(lo,{label:o,children:h}));const f={...d,className:N(e,"relative block overflow-hidden select-none flex-shrink-0",zy(n),t?"rounded-full":"rounded")};return i?r.jsx(y,{...f,to:i,children:h}):r.jsx("div",{...f,children:h})}));function zy(e){switch(e){case"xs":return"w-18 h-18";case"sm":return"w-24 h-24";case"md":return"w-32 h-32";case"lg":return"w-40 h-40";case"xl":return"w-60 h-60";default:return e}}function Ly({user:e,withLink:t=!0,...n}){var s;const{auth:i}=p.useContext(an);return r.jsx(Ay,{...n,label:null==e?void 0:e.name,src:null==e?void 0:e.image,link:t&&(null==e?void 0:e.id)&&(null==(s=i.getUserProfileLink)?void 0:s.call(i,e))})}function Dy({items:e=[],variant:t="wide",wideAvatarSize:n="w-32 h-32",compactAvatarSize:s="w-26 h-26"}){const{user:i}=ql(),{selectedTheme:o}=Pl();if(!o||!i)return null;const a=!!i.unread_notifications_count,l=r.jsx(Ly,{user:i,circle:!0,fallback:"initials",withLink:!1,size:"wide"===t?n:s}),c=r.jsxs(Qs,{"aria-label":"toggle authentication menu",display:"block",children:[l,a?r.jsx(fy,{children:i.unread_notifications_count}):void 0]}),u=r.jsxs(Qs,{className:"flex items-center",children:[l,r.jsx("span",{className:"ml-12 mr-2 block max-w-124 overflow-x-hidden overflow-ellipsis text-sm",children:i.name}),r.jsx(jy,{className:"block icon-sm"})]});return r.jsx(Ny,{items:e,children:r.jsx("span",{children:"wide"===t?u:c})})}const My=ri(r.jsx("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonOutlined");function Uy({primaryButtonColor:e,navbarColor:t}){return e||(e="primary"===t?"paper":"primary"),r.jsxs(p.Fragment,{children:[r.jsx($y,{}),r.jsx(Fy,{primaryButtonColor:e})]})}function Fy({primaryButtonColor:e}){const{registration:t}=bl();return r.jsxs("div",{className:"text-sm max-md:hidden",children:[!(null==t?void 0:t.disable)&&r.jsx(mo,{elementType:y,to:"/register",variant:"text",className:"mr-10",children:r.jsx(di,{message:"Register"})}),r.jsx(mo,{elementType:y,to:"/login",variant:"raised",color:e,children:r.jsx(di,{message:"Login"})})]})}function $y(){const{registration:e}=bl(),t=yl();return r.jsxs(mu,{children:[r.jsx(ei,{size:"md",className:"md:hidden",children:r.jsx(My,{})}),r.jsxs(gu,{children:[r.jsx(Kc,{value:"login",onSelected:()=>t("/login"),children:r.jsx(di,{message:"Login"})}),!(null==e?void 0:e.disable)&&r.jsx(Kc,{value:"register",onSelected:()=>t("/register"),children:r.jsx(di,{message:"Register"})})]})]})}function qy(){var e;const t=Ds((e=>e.data));if(!ju())return null==(e=t.themes.find((e=>e.is_dark&&e.default_dark)))?void 0:e.values}function Hy({color:e="light",className:t,logoType:n="auto",size:s}){const i=N(t,s);return"compact"===n?r.jsx(By,{color:e,className:i}):"wide"===n?r.jsx(Ky,{color:e,className:i}):r.jsx(Vy,{color:e,className:i})}function By({color:e,className:t}){const{branding:n}=bl(),s="dark"===e&&n.logo_dark_mobile?n.logo_dark_mobile:n.logo_light_mobile;return s?r.jsx(Wy,{className:t,children:r.jsx("img",{src:s,className:"block w-auto",alt:""})}):null}function Vy({color:e,className:t}){const{branding:n}=bl();let s,i;return"light"===e?(s=n.logo_light,i=n.logo_light_mobile):(s=n.logo_dark,i=n.logo_dark_mobile),s||i?r.jsx(Wy,{className:t,children:r.jsxs("picture",{children:[r.jsx("source",{srcSet:i||s,media:"(max-width: 768px)"}),r.jsx("source",{srcSet:s,media:"(min-width: 768px)"}),r.jsx("img",{className:"block h-full w-auto",alt:""})]})}):null}function Ky({color:e,className:t}){const{branding:n}=bl(),s="dark"===e&&n.logo_dark?n.logo_dark:n.logo_light;return s?r.jsx(Wy,{className:t,children:r.jsx("img",{src:s,className:"block h-full w-auto",alt:""})}):null}function Wy({className:e,children:t}){const{trans:n}=Ks(),{isLoggedIn:s}=ql(),{auth:i}=p.useContext(an);return r.jsx(y,{to:s?i.redirectUri:"/",className:N("block flex-shrink-0",e),"aria-label":n({message:"Go to homepage"}),children:t})}function Yy(e){let{hideLogo:t,toggleButton:n,children:s,className:i,border:o,size:a="md",color:l,textColor:c,darkModeColor:u,rightChildren:d,menuPosition:p,primaryButtonColor:h,authMenuItems:f,logoColor:m,alwaysDarkMode:g=!1,wrapInContainer:v=!1}=e;const y=ju()||g,b=Cc(),{notifications:x}=bl(),{isLoggedIn:w}=ql(),_=qy(),j=null==(E=Ds((e=>e.data)).themes.find((e=>!e.is_dark&&e.default_light)))?void 0:E.values;var E;const S=w&&(null==x?void 0:x.integrated);return l=l??(null==j?void 0:j["--be-navbar-color"])??"primary",u=u??(null==_?void 0:_["--be-navbar-color"])??"bg-alt",y&&(l=u),r.jsx("div",{style:g?_:void 0,className:N(Zy(l,c),"md"===a&&"h-64 py-8","sm"===a&&"h-54 py-4","xs"===a&&"h-48 py-4",o,i),children:r.jsxs("div",{className:N("flex h-full items-center justify-end gap-10 pl-14 pr-8 md:pl-20 md:pr-20",v&&"container mx-auto"),children:[!t&&r.jsx(Hy,{size:"h-full max-h-26 md:max-h-36",className:"mr-4 md:mr-24",color:Xy({navbarColor:l,logoColor:m,isDarkMode:y})}),n,s,r.jsx(Jy,{position:p}),r.jsx(Gy,{position:p}),r.jsxs("div",{className:"ml-auto flex items-center gap-4 md:gap-14",children:[d,S&&r.jsx(by,{}),w?r.jsx(Dy,{variant:b?"compact":"wide",items:f}):r.jsx(Uy,{navbarColor:l,primaryButtonColor:h})]})]})})}function Gy({position:e}){return r.jsx(oc,{className:"mx-14 text-sm max-md:hidden",itemClassName:e=>N("opacity-90 hover:underline hover:opacity-100",e&&"opacity-100"),menu:e})}function Jy({position:e}){const t=yl(),n=sc(e);if(!(null==n?void 0:n.items.length))return null;return r.jsxs(mu,{children:[r.jsx(ei,{className:"md:hidden","aria-label":"Toggle menu",children:r.jsx(_y,{})}),r.jsx(gu,{children:n.items.map((e=>{const n=e.icon&&si(e.icon);return r.jsx(Kc,{value:e.action,onSelected:()=>(e=>{var n;tn(e.action)?null==(n=window.open(e.action,e.target))||n.focus():t(e.action)})(e),startIcon:n&&r.jsx(n,{}),children:r.jsx(di,{message:e.label})},e.id)}))})]})}function Zy(e,t){switch(e){case"primary":return`bg-primary ${t||"text-on-primary"} border-b-primary`;case"bg":return`bg ${t||"text-main"} border-b`;case"bg-alt":return`bg-alt ${t||"text-main"} border-b`;case"transparent":return`bg-transparent ${t||"text-white"}`;default:return`${e} ${t}`}}function Xy({logoColor:e,navbarColor:t,isDarkMode:n}){return null!=e?e:n?"light":"bg"===t||"bg-alt"===t?"dark":"light"}function Qy({id:e,title:t,titleSuffix:n,children:s,actions:i}){return r.jsxs("section",{id:e,className:"mb-24 w-full rounded-panel border bg px-24 py-20",children:[r.jsxs("div",{className:"flex items-center gap-14 border-b pb-10",children:[r.jsx("div",{className:"text-lg font-light",children:t}),n&&r.jsx("div",{className:"ml-auto",children:n})]}),r.jsx("div",{className:"pt-24",children:s}),i&&r.jsx("div",{className:"mt-36 flex justify-end border-t pt-10",children:i})]})}function eb({children:e,className:t,padding:n,dataTestId:s,listRef:i}){return r.jsx(Ri,{children:r.jsx("ul",{ref:i,"data-testid":s,className:N("text-base outline-none sm:text-sm",t,n??"py-4"),children:e})})}const tb=p.forwardRef((({children:e,onSelected:t,borderRadius:n="rounded",className:s,...i},o)=>{const a=Ii(),l=!!t,[c,u]=p.useState(!1);return r.jsx("li",{children:r.jsx(Bc,{className:N(s,n),isActive:c,isDisabled:i.isDisabled,...i,onFocus:e=>{u(e.target.matches(":focus-visible"))},onBlur:()=>{u(!1)},onClick:()=>{null==t||t()},ref:o,role:l?"button":void 0,onKeyDown:l?e=>{switch(e.key){case"ArrowDown":e.preventDefault(),null==a||a.focusNext();break;case"ArrowUp":e.preventDefault(),null==a||a.focusPrevious();break;case"Home":e.preventDefault(),null==a||a.focusFirst();break;case"End":e.preventDefault(),null==a||a.focusLast();break;case"Enter":case"Space":e.preventDefault(),null==t||t()}}:void 0,tabIndex:l&&!i.isDisabled?0:void 0,children:e})})})),nb=ri(r.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"LoginOutlined"),rb=ri(r.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined"),sb=ri(r.jsx("path",{d:"M19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-8.2 10V9.5C10.8 8.1 9.4 7 8 7S5.2 8.1 5.2 9.5V11c-.6 0-1.2.6-1.2 1.2v3.5c0 .7.6 1.3 1.2 1.3h5.5c.7 0 1.3-.6 1.3-1.2v-3.5c0-.7-.6-1.3-1.2-1.3zm-1.3 0h-3V9.5c0-.8.7-1.3 1.5-1.3s1.5.5 1.5 1.3V11z"}),"PhonelinkLockOutlined"),ib=ri(r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}),"LanguageOutlined"),ob=ri(r.jsx("path",{d:"m14 12-2 2-2-2 2-2 2 2zm-2-6 2.12 2.12 2.5-2.5L12 1 7.38 5.62l2.5 2.5L12 6zm-6 6 2.12-2.12-2.5-2.5L1 12l4.62 4.62 2.5-2.5L6 12zm12 0-2.12 2.12 2.5 2.5L23 12l-4.62-4.62-2.5 2.5L18 12zm-6 6-2.12-2.12-2.5 2.5L12 23l4.62-4.62-2.5-2.5L12 18z"}),"ApiOutlined"),ab=ri(r.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1v5.8zm-4.17-7.14L12 10.59 9.17 7.76 7.76 9.17 10.59 12l-2.83 2.83 1.41 1.41L12 13.41l2.83 2.83 1.41-1.41L13.41 12l2.83-2.83-1.41-1.41z"}),"DangerousOutlined"),lb=ri(r.jsx("path",{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"}),"DevicesOutlined");var cb=(e=>(e.AccountDetails="account-details",e.SocialLogin="social-login",e.Password="password",e.TwoFactor="two-factor",e.LocationAndLanguage="location-and-language",e.Developers="developers",e.DeleteAccount="delete-account",e.Sessions="sessions",e))(cb||{});function ub(){var e;const t=cb,{hasPermission:n}=ql(),{api:s}=bl(),{auth:i}=p.useContext(an),o=Ov();return r.jsx("aside",{className:"sticky top-10 hidden flex-shrink-0 lg:block",children:r.jsxs(eb,{padding:"p-0",children:[null==(e=i.accountSettingsPanels)?void 0:e.map((e=>r.jsx(db,{icon:r.jsx(e.icon,{viewBox:"0 0 50 50"}),panel:e.id,children:r.jsx(di,{...e.label})},e.id))),r.jsx(db,{icon:r.jsx(My,{}),panel:t.AccountDetails,children:r.jsx(di,{message:"Account details"})}),!o&&r.jsx(db,{icon:r.jsx(nb,{}),panel:t.SocialLogin,children:r.jsx(di,{message:"Social login"})}),r.jsx(db,{icon:r.jsx(rb,{}),panel:t.Password,children:r.jsx(di,{message:"Password"})}),r.jsx(db,{icon:r.jsx(sb,{}),panel:t.TwoFactor,children:r.jsx(di,{message:"Two factor authentication"})}),r.jsx(db,{icon:r.jsx(lb,{}),panel:t.Sessions,children:r.jsx(di,{message:"Active sessions"})}),r.jsx(db,{icon:r.jsx(ib,{}),panel:t.LocationAndLanguage,children:r.jsx(di,{message:"Location and language"})}),(null==s?void 0:s.integrated)&&n("api.access")?r.jsx(db,{icon:r.jsx(ob,{}),panel:t.Developers,children:r.jsx(di,{message:"Developers"})}):null,r.jsx(db,{icon:r.jsx(ab,{}),panel:t.DeleteAccount,children:r.jsx(di,{message:"Delete account"})})]})})}function db({children:e,icon:t,isLast:n,panel:s}){return r.jsx(tb,{startIcon:t,className:n?void 0:"mb-10",onSelected:()=>{const e=document.querySelector(`#${s}`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},children:e})}function pb({user:e}){return Ov()?null:r.jsxs(Qy,{id:cb.SocialLogin,title:r.jsx(di,{message:"Manage social login"}),children:[r.jsx(hb,{icon:r.jsx(Pv,{viewBox:"0 0 50 50",className:"border-envato bg-envato text-white"}),service:"envato",user:e}),r.jsx(hb,{icon:r.jsx(Mv,{viewBox:"0 0 48 48"}),service:"google",user:e}),r.jsx(hb,{icon:r.jsx(Uv,{className:"text-facebook"}),service:"facebook",user:e}),r.jsx(hb,{icon:r.jsx(Fv,{className:"text-twitter"}),service:"twitter",user:e}),r.jsx("div",{className:"pb-6 pt-16 text-sm text-muted",children:r.jsx(di,{message:"If you disable social logins, you'll still be able to log in using your email and password."})})]})}function hb({service:e,user:t,className:n,icon:s}){var i,o,a;const{social:l}=bl(),{connectSocial:c,disconnectSocial:u}=Iv(),d=null==(o=null==(i=null==t?void 0:t.social_profiles)?void 0:i.find((t=>t.service_name===e)))?void 0:o.username;return(null==(a=null==l?void 0:l[e])?void 0:a.enable)?r.jsxs("div",{className:N("flex items-center gap-14 border-b px-10 py-20",n),children:[p.cloneElement(s,{size:"xl",className:N(s.props.className,"border p-8 rounded")}),r.jsxs("div",{className:"mr-auto overflow-hidden text-ellipsis whitespace-nowrap",children:[r.jsx("div",{className:"overflow-hidden text-ellipsis text-sm font-bold first-letter:capitalize",children:r.jsx(di,{message:":service account",values:{service:e}})}),r.jsx("div",{className:"mt-2 text-xs",children:d||r.jsx(di,{message:"Disabled"})})]}),r.jsx(mo,{disabled:u.isPending,size:"xs",variant:"outline",color:d?"danger":"primary",onClick:async()=>{if(d)u.mutate({service:e},{onSuccess:()=>{rn.invalidateQueries({queryKey:["users"]}),Xr(ln("Disabled :service account",{values:{service:e}}))}});else{const t=await c(e);"SUCCESS"===(null==t?void 0:t.status)&&(rn.invalidateQueries({queryKey:["users"]}),Xr(ln("Enabled :service account",{values:{service:e}})))}},children:d?r.jsx(di,{message:"Disable"}):r.jsx(di,{message:"Enable"})})]}):null}function fb(e,t){return i({mutationFn:t=>function(e,t){return sn.put(`users/${e}`,t).then((e=>e.data))}(e,t),onSuccess:()=>{Xr(ln("Updated account details"))},onError:e=>Tu(e,t)})}function mb({user:e}){return i({mutationFn:t=>function({file:e,url:t},n){const r=new FormData;return e?r.set("file",e.native):r.set("url",t),sn.post(`users/${n.id}/avatar`,r,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>e.data))}(t,e),onSuccess:()=>{Xr(ln("Uploaded avatar"))},onError:e=>{const t=cs(e,"file");t?Xr.danger(t):Po(e)}})}function gb({user:e}){return i({mutationFn:()=>function(e){return sn.delete(`users/${e.id}/avatar`).then((e=>e.data))}(e),onSuccess:()=>{Xr(ln("Removed avatar"))},onError:e=>Po(e)})}function vb(e){var t;return(null==(t=/(?:\.([^.]+))?$/.exec(e))?void 0:t[1])||""}class yb{constructor(e,n){t(this,"id"),t(this,"fingerprint"),t(this,"name"),t(this,"relativePath",""),t(this,"size"),t(this,"mime",""),t(this,"extension",""),t(this,"native"),t(this,"lastModified"),t(this,"cachedData"),this.id=Yr(),this.name=e.name,this.size=e.size,this.mime=function(e){const t={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml",log:"text/plain"},n=e.name?vb(e.name):null;return e.type?e.type:n&&n in t?t[n]:"application/octet-stream"}(e),this.lastModified=e.lastModified,this.extension=vb(e.name)||"bin",this.native=e,(n=(n=n||e.webkitRelativePath||"").replace(/^\/+/g,""))&&n.split("/").length>1&&(this.relativePath=n),this.fingerprint=xb({name:this.name,size:this.size,mime:this.mime,lastModified:this.lastModified})}get data(){return new Promise((e=>{this.cachedData&&e(this.cachedData);const t=new FileReader;t.addEventListener("load",(()=>{this.cachedData=t.result,e(this.cachedData)})),"json"===this.extension?t.readAsText(this.native):t.readAsDataURL(this.native)}))}}class bb{constructor(e){t(this,"id"),t(this,"fingerprint"),t(this,"name"),t(this,"relativePath",""),t(this,"size"),t(this,"mime",""),t(this,"extension",""),t(this,"native",null),t(this,"lastModified"),this.id=Yr(),this.name=e.name,this.size=e.file_size??0,this.mime=e.mime,this.lastModified=e.updated_at||"",this.extension=e.extension||"bin",this.relativePath=e.path,this.fingerprint=xb({name:this.name,size:this.size,mime:this.mime,lastModified:this.lastModified})}get data(){return new Promise(((e,t)=>{t("UploadedFileFromEntry does not have file data")}))}}function xb({name:e,mime:t,size:n,relativePath:r,lastModified:s}){let i="be";return"string"==typeof e&&(i+=`-${wb(e.toLowerCase())}`),t&&(i+=`-${t}`),"string"==typeof r&&(i+=`-${wb(r.toLowerCase())}`),void 0!==n&&(i+=`-${n}`),void 0!==s&&(i+=`-${s}`),i}function wb(e){let t="";return e.replace(/[^A-Z0-9]/gi,(e=>(t+=`-${function(e){return e.charCodeAt(0).toString(32)}(e)}`,"/")))+t}const _b=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);const jb=d((e=>!_b.has(e&&e.code)));function Eb(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function Sb(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Eb(i,r,s,o,a,"next",e)}function a(e){Eb(i,r,s,o,a,"throw",e)}o(void 0)}))}}function kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kb(Object(n),!0).forEach((function(t){Tb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nb="axios-retry";function Pb(e){return!e.response&&Boolean(e.code)&&!["ERR_CANCELED","ECONNABORTED"].includes(e.code)&&jb(e)}var Ob=["get","head","options"],Rb=Ob.concat(["put","delete"]);function Ib(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function Ab(e){return!!e.config&&(Ib(e)&&-1!==Rb.indexOf(e.config.method))}function zb(e){return Pb(e)||Ab(e)}var Lb={retries:3,retryCondition:zb,retryDelay:function(){return 0},shouldResetTimeout:!1,onRetry:()=>{}};function Db(e,t){var n=function(e,t){return Cb(Cb(Cb({},Lb),t),e[Nb])}(e,t);return n.retryCount=n.retryCount||0,e[Nb]=n,n}function Mb(){return(Mb=Sb((function*(e,t){var{retries:n,retryCondition:r}=e,s=e.retryCount<n&&r(t);if("object"==typeof s)try{return!1!==(yield s)}catch(i){return!1}return s}))).apply(this,arguments)}function Ub(e,t){var n=e.interceptors.request.use((e=>(Db(e,t).lastRequestTime=Date.now(),e))),r=e.interceptors.response.use(null,function(){var n=Sb((function*(n){var{config:r}=n;if(!r)return Promise.reject(n);var s=Db(r,t);if(yield function(e,t){return Mb.apply(this,arguments)}(s,n)){s.retryCount+=1;var{retryDelay:i,shouldResetTimeout:o,onRetry:a}=s,l=i(s.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!o&&r.timeout&&s.lastRequestTime){var c=Date.now()-s.lastRequestTime,u=r.timeout-c-l;if(u<=0)return Promise.reject(n);r.timeout=u}return r.transformRequest=[e=>e],yield a(s.retryCount,n,r),new Promise((t=>setTimeout((()=>t(e(r))),l)))}return Promise.reject(n)}));return function(e){return n.apply(this,arguments)}}());return{requestInterceptorId:n,responseInterceptorId:r}}Ub.isNetworkError=Pb,Ub.isSafeRequestError=function(e){return!!e.config&&(Ib(e)&&-1!==Ob.indexOf(e.config.method))},Ub.isIdempotentRequestError=Ab,Ub.isNetworkOrIdempotentRequestError=zb,Ub.exponentialDelay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=Math.pow(2,e)*t;return n+.2*n*Math.random()},Ub.isRetryableError=Ib;class Fb{constructor(e,n){t(this,"abortController"),t(this,"chunks",[]),t(this,"uploadId"),t(this,"fileKey"),t(this,"chunkAxios"),t(this,"abortedByUser",!1),t(this,"uploadedParts"),this.file=e,this.config=n,this.abortController=new AbortController,this.chunkAxios=Xt.create(),Ub(this.chunkAxios,{retries:3})}get storageKey(){return`s3-multipart::${this.file.fingerprint}`}async start(){var e,t,n,r,s;const i=Ul(this.storageKey);if(i&&await this.getUploadedParts(i),!(null==(e=this.uploadedParts)?void 0:e.length)&&(await this.createMultipartUpload(),!this.uploadId))return;this.prepareChunks();if("done"===await this.uploadParts()){if(!(await this.completeMultipartUpload()))return;try{const e=await this.createFileEntry();if(null==e?void 0:e.fileEntry)return null==(n=(t=this.config).onSuccess)||n.call(t,null==e?void 0:e.fileEntry,this.file),void $l(this.storageKey)}catch{}}this.abortController.signal.aborted||this.abortController.abort(),this.abortedByUser||null==(s=(r=this.config).onError)||s.call(r,null,this.file)}async abort(){this.abortedByUser=!0,this.abortController.abort(),await this.abortUploadOnS3()}async uploadParts(){const e=this.chunks.filter((e=>!e.done));if(!e.length)return Promise.resolve("done");const t=await this.batchSignUrls(e.slice(0,10));if(t){for(;t.length;){const e=t.splice(0,5).map((e=>this.uploadPartToS3(e)));if(!(await Promise.all(e)).every((e=>e)))return}return await this.uploadParts()}}async batchSignUrls(e){const t=await this.chunkAxios.post("api/v1/s3/multipart/batch-sign-part-urls",{partNumbers:e.map((e=>e.partNumber)),uploadId:this.uploadId,key:this.fileKey},{signal:this.abortController.signal}).then((e=>e.data)).catch((e=>{this.abortController.signal.aborted||this.abortController.abort()}));return null==t?void 0:t.urls}async uploadPartToS3({url:e,partNumber:t}){const n=this.chunks.find((e=>e.partNumber===t));if(n)return this.chunkAxios.put(e,n.blob,{withCredentials:!1,signal:this.abortController.signal,onUploadProgress:e=>{var t,r;if(!e.event.lengthComputable)return;n.bytesUploaded=e.loaded;const s=this.chunks.reduce(((e,t)=>e+t.bytesUploaded),0);null==(r=(t=this.config).onProgress)||r.call(t,{bytesUploaded:s,bytesTotal:this.file.size})}}).then((e=>{const t=e.headers.etag;if(t)return n.done=!0,n.etag=t,!0})).catch((e=>{this.abortController.signal.aborted||void 0===e||this.abortController.abort()}))}async createMultipartUpload(){const e=await sn.post("s3/multipart/create",{filename:this.file.name,mime:this.file.mime,size:this.file.size,extension:this.file.extension,...this.config.metadata}).then((e=>e.data)).catch((e=>{var t,n;"ERR_CANCELED"!==e.code&&(null==(n=(t=this.config).onError)||n.call(t,cs(e),this.file))}));e&&(this.uploadId=e.uploadId,this.fileKey=e.key,Fl(this.storageKey,{createdAt:(new Date).toISOString(),fileKey:this.fileKey,uploadId:this.uploadId}))}async getUploadedParts({fileKey:e,uploadId:t}){var n;const r=await sn.post("s3/multipart/get-uploaded-parts",{key:e,uploadId:t}).then((e=>e.data)).catch((()=>($l(this.storageKey),null)));(null==(n=null==r?void 0:r.parts)?void 0:n.length)&&(this.uploadedParts=r.parts,this.uploadId=t,this.fileKey=e)}async completeMultipartUpload(){return sn.post("s3/multipart/complete",{key:this.fileKey,uploadId:this.uploadId,parts:this.chunks.map((e=>({ETag:e.etag,PartNumber:e.partNumber})))}).then((e=>e.data)).catch((()=>{var e,t;null==(t=(e=this.config).onError)||t.call(e,null,this.file),this.abortUploadOnS3()})).finally((()=>{$l(this.storageKey)}))}async createFileEntry(){return await sn.post("s3/entries",{...this.config.metadata,clientMime:this.file.mime,clientName:this.file.name,filename:this.fileKey.split("/").pop(),size:this.file.size,clientExtension:this.file.extension}).then((e=>e.data)).catch()}prepareChunks(){var e;this.chunks=[];const t=Math.max(5242880,Math.ceil(this.file.size/1e4)),n=Math.max(20971520,t);if(0===this.file.size)this.chunks.push({blob:this.file.native,done:!1,partNumber:1,bytesUploaded:0});else{let t=1;for(let r=0;r<this.file.size;r+=n){const s=Math.min(this.file.size,r+n),i=null==(e=this.uploadedParts)?void 0:e.find((e=>e.PartNumber===t));this.chunks.push({blob:this.file.native.slice(r,s),done:!!i,partNumber:t,etag:i?i.ETag:void 0,bytesUploaded:(null==i?void 0:i.Size)?parseInt(null==i?void 0:i.Size):0}),t++}}}abortUploadOnS3(){return sn.post("s3/multipart/abort",{key:this.fileKey,uploadId:this.uploadId})}static async create(e,t){return new Fb(e,t)}}const $b="function"==typeof Buffer,qb=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),Hb=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Bb=(e=>{let t={};return Hb.forEach(((e,n)=>t[e]=n)),t})(),Vb=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Kb=String.fromCharCode.bind(String),Wb=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),Yb=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Gb=e=>{let t,n,r,s,i="";const o=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(s=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|s,i+=Hb[t>>18&63]+Hb[t>>12&63]+Hb[t>>6&63]+Hb[63&t]}return o?i.slice(0,o-3)+"===".substring(o):i},Jb="function"==typeof btoa?e=>btoa(e):$b?e=>Buffer.from(e,"binary").toString("base64"):Gb,Zb=$b?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(Kb.apply(null,e.subarray(n,n+4096)));return Jb(t.join(""))},Xb=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Kb(192|t>>>6)+Kb(128|63&t):Kb(224|t>>>12&15)+Kb(128|t>>>6&63)+Kb(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Kb(240|t>>>18&7)+Kb(128|t>>>12&63)+Kb(128|t>>>6&63)+Kb(128|63&t)},Qb=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ex=e=>e.replace(Qb,Xb),tx=$b?e=>Buffer.from(e,"utf8").toString("base64"):qb?e=>Zb(qb.encode(e)):e=>Jb(ex(e)),nx=(e,t=!1)=>t?Wb(tx(e)):tx(e),rx=e=>{if(e=e.replace(/\s+/g,""),!Vb.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,s="";for(let i=0;i<e.length;)t=Bb[e.charAt(i++)]<<18|Bb[e.charAt(i++)]<<12|(n=Bb[e.charAt(i++)])<<6|(r=Bb[e.charAt(i++)]),s+=64===n?Kb(t>>16&255):64===r?Kb(t>>16&255,t>>8&255):Kb(t>>16&255,t>>8&255,255&t);return s},sx=nx;var ix={},ox=Object.prototype.hasOwnProperty;function ax(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(oS){return null}}function lx(e){try{return encodeURIComponent(e)}catch(oS){return null}}ix.stringify=function(e,t){t=t||"";var n,r,s=[];for(r in"string"!=typeof t&&(t="?"),e)if(ox.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=lx(r),n=lx(n),null===r||null===n)continue;s.push(r+"="+n)}return s.length?t+s.join("&"):""},ix.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var s=ax(t[1]),i=ax(t[2]);null===s||null===i||s in r||(r[s]=i)}return r};var cx=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},ux=ix,dx=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,px=/[\n\r\t]/g,hx=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,fx=/:\d+$/,mx=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,gx=/^[a-zA-Z]:/;function vx(e){return(e||"").toString().replace(dx,"")}var yx=[["#","hash"],["?","query"],function(e,t){return wx(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],bx={hash:1,query:1};function xx(e){var t,n=("undefined"!=typeof window?window:void 0!==u?u:"undefined"!=typeof self?self:{}).location||{},r={},s=typeof(e=e||n);if("blob:"===e.protocol)r=new jx(unescape(e.pathname),{});else if("string"===s)for(t in r=new jx(e,{}),bx)delete r[t];else if("object"===s){for(t in e)t in bx||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=hx.test(e.href))}return r}function wx(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function _x(e,t){e=(e=vx(e)).replace(px,""),t=t||{};var n,r=mx.exec(e),s=r[1]?r[1].toLowerCase():"",i=!!r[2],o=!!r[3],a=0;return i?o?(n=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(n=r[2]+r[4],a=r[2].length):o?(n=r[3]+r[4],a=r[3].length):n=r[4],"file:"===s?a>=2&&(n=n.slice(2)):wx(s)?n=r[4]:s?i&&(n=n.slice(2)):a>=2&&wx(t.protocol)&&(n=r[4]),{protocol:s,slashes:i||wx(s),slashesCount:a,rest:n}}function jx(e,t,n){if(e=(e=vx(e)).replace(px,""),!(this instanceof jx))return new jx(e,t,n);var r,s,i,o,a,l,c=yx.slice(),u=typeof t,d=this,p=0;for("object"!==u&&"string"!==u&&(n=t,t=null),n&&"function"!=typeof n&&(n=ux.parse),r=!(s=_x(e||"",t=xx(t))).protocol&&!s.slashes,d.slashes=s.slashes||r&&t.slashes,d.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||gx.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!wx(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);p<c.length;p++)"function"!=typeof(o=c[p])?(i=o[0],l=o[1],i!=i?d[l]=e:"string"==typeof i?~(a="@"===i?e.lastIndexOf(i):e.indexOf(i))&&("number"==typeof o[2]?(d[l]=e.slice(0,a),e=e.slice(a+o[2])):(d[l]=e.slice(a),e=e.slice(0,a))):(a=i.exec(e))&&(d[l]=a[1],e=e.slice(0,a.index)),d[l]=d[l]||r&&o[3]&&t[l]||"",o[4]&&(d[l]=d[l].toLowerCase())):e=o(e,d);n&&(d.query=n(d.query)),r&&t.slashes&&"/"!==d.pathname.charAt(0)&&(""!==d.pathname||""!==t.pathname)&&(d.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],i=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(i=!0),n.splice(r,1),o--);return i&&n.unshift(""),"."!==s&&".."!==s||n.push(""),n.join("/")}(d.pathname,t.pathname)),"/"!==d.pathname.charAt(0)&&wx(d.protocol)&&(d.pathname="/"+d.pathname),cx(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(~(a=d.auth.indexOf(":"))?(d.username=d.auth.slice(0,a),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(a+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin="file:"!==d.protocol&&wx(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}jx.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||ux.parse)(t)),r[e]=t;break;case"port":r[e]=t,cx(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,fx.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(r.username=t.slice(0,i),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(i+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var o=0;o<yx.length;o++){var a=yx[o];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&wx(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=ux.stringify);var t,n=this,r=n.host,s=n.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var i=s+(n.protocol&&n.slashes||wx(n.protocol)?"//":"");return n.username?(i+=n.username,n.password&&(i+=":"+n.password),i+="@"):n.password?(i+=":"+n.password,i+="@"):"file:"!==n.protocol&&wx(n.protocol)&&!r&&"/"!==n.pathname&&(i+="@"),(":"===r[r.length-1]||fx.test(n.hostname)&&!n.port)&&(r+=":"),i+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},jx.extractProtocol=_x,jx.location=xx,jx.trimLeft=vx,jx.qs=ux;const Ex=d(jx);function Sx(e){return(Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cx(r.key),r)}}function Cx(e){var t=function(e,t){if("object"!==Sx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Sx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sx(t)?t:String(t)}function Tx(e){var t=Ox();return function(){var n,r=Ix(e);if(t){var s=Ix(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Sx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Nx(e){var t="function"==typeof Map?new Map:void 0;return Nx=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(oS){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Px(e,arguments,Ix(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Rx(n,e)},Nx(e)}function Px(e,t,n){return(Px=Ox()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return n&&Rx(s,n.prototype),s}).apply(null,arguments)}function Ox(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(oS){return!1}}function Rx(e,t){return(Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ix(e){return(Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ax=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rx(e,t)}(i,Nx(Error));var t,n,r,s=Tx(i);function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=s.call(this,e)).originalRequest=r,t.originalResponse=o,t.causingError=n,null!=n&&(e+=", caused by ".concat(n.toString())),null!=r){var a=r.getHeader("X-Request-ID")||"n/a",l=r.getMethod(),c=r.getURL(),u=o?o.getStatus():"n/a",d=o?o.getBody()||"":"n/a";e+=", originated from request (method: ".concat(l,", url: ").concat(c,", response code: ").concat(u,", response text: ").concat(d,", request id: ").concat(a,")")}return t.message=e,t}return t=i,n&&kx(t.prototype,n),r&&kx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();function zx(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
zx=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(R){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new P(r||[]);return s(o,"_invoke",{value:k(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",g={};function v(){}function y(){}function b(){}var x={};c(x,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&r.call(_,o)&&(x=_);var j=b.prototype=v.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(s,i,o,a){var l=d(e[s],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Ux(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,a)}))}a(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function k(t,n,r){var s=p;return function(i,o){if(s===f)throw new Error("Generator is already running");if(s===m){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var l=C(a,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===p)throw s=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=f;var c=d(t,n,r);if("normal"===c.type){if(s=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(s=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ux(t)+" is not iterable")}return y.prototype=b,s(j,"constructor",{value:b,configurable:!0}),s(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var o=new S(u(e,n,r,s),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(j),c(j,l,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return a.type="throw",a.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;N(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Lx(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function Dx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ux(e){return(Ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fx(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qx(e,t,n){return(t=Bx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bx(r.key),r)}}function Bx(e){var t=function(e,t){if("object"!==Ux(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ux(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ux(t)?t:String(t)}var Vx={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:Qx,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},Kx=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}var t,n,r;return t=e,n=[{key:"findPreviousUploads",value:function(){var e=this;return this.options.fingerprint(this.file,this.options).then((function(t){return e._urlStorage.findUploadsByFingerprint(t)}))}},{key:"resumeFromPreviousUpload",value:function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}},{key:"start",value:function(){var e=this,t=this.file;if(t)if(this.options.endpoint||this.options.uploadUrl||this.url){var n=this.options.retryDelays;if(null==n||"[object Array]"===Object.prototype.toString.call(n)){if(this.options.parallelUploads>1)for(var r=0,s=["uploadUrl","uploadSize","uploadLengthDeferred"];r<s.length;r++){var i=s[r];if(this.options[i])return void this._emitError(new Error("tus: cannot use the ".concat(i," option when parallelUploads is enabled")))}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1)return void this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length)return void this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"))}this.options.fingerprint(t,this.options).then((function(n){return e._fingerprint=n,e._source?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)})).then((function(t){if(e._source=t,e.options.uploadLengthDeferred)e._size=null;else if(null!=e.options.uploadSize){if(e._size=Number(e.options.uploadSize),Number.isNaN(e._size))return void e._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(e._size=e._source.size,null==e._size)return void e._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));e.options.parallelUploads>1||null!=e._parallelUploadUrls?e._startParallelUpload():e._startSingleUpload()})).catch((function(t){e._emitError(t)}))}else this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var t,n=this,r=this._size,s=0;this._parallelUploads=[];var i=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,o=null!==(t=this.options.parallelUploadBoundaries)&&void 0!==t?t:function(e,t){for(var n=Math.floor(e/t),r=[],s=0;s<t;s++)r.push({start:n*s,end:n*(s+1)});return r[t-1].end=e,r}(this._source.size,i);this._parallelUploadUrls&&o.forEach((function(e,t){e.uploadUrl=n._parallelUploadUrls[t]||null})),this._parallelUploadUrls=new Array(o.length);var a,l=o.map((function(t,i){var a=0;return n._source.slice(t.start,t.end).then((function(l){var c=l.value;return new Promise((function(l,u){var d=$x($x({},n.options),{},{uploadUrl:t.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:$x($x({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:l,onError:u,onProgress:function(e){s=s-a+e,a=e,n._emitProgress(s,r)},onUploadUrlAvailable:function(){n._parallelUploadUrls[i]=p.url,n._parallelUploadUrls.filter((function(e){return Boolean(e)})).length===o.length&&n._saveUploadInUrlStorage()}}),p=new e(c,d);p.start(),n._parallelUploads.push(p)}))}))}));Promise.all(l).then((function(){(a=n._openRequest("POST",n.options.endpoint)).setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var e=Wx(n.options.metadata);return""!==e&&a.setHeader("Upload-Metadata",e),n._sendRequest(a,null)})).then((function(e){if(Yx(e.getStatus(),200)){var t=e.getHeader("Location");null!=t?(n.url=ew(n.options.endpoint,t),"Created upload at ".concat(n.url),n._emitSuccess()):n._emitHttpError(a,e,"tus: invalid or missing Location header")}else n._emitHttpError(a,e,"tus: unexpected response while creating upload")})).catch((function(e){n._emitError(e)}))}},{key:"_startSingleUpload",value:function(){return this._aborted=!1,null!=this.url?("Resuming upload from previous URL: ".concat(this.url),void this._resumeUpload()):null!=this.options.uploadUrl?("Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,void this._resumeUpload()):void this._createUpload()}},{key:"abort",value:function(t){var n=this;return null!=this._parallelUploads&&this._parallelUploads.forEach((function(e){e.abort(t)})),null!==this._req&&this._req.abort(),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),t&&null!=this.url?e.terminate(this.url,this.options).then((function(){return n._removeFromUrlStorage()})):Promise.resolve()}},{key:"_emitHttpError",value:function(e,t,n,r){this._emitError(new Ax(n,r,e,t))}},{key:"_emitError",value:function(e){var t=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),Xx(e,this._retryAttempt,this.options))){var n=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout((function(){t.start()}),n))}if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,n){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,n)}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?t.setHeader("Upload-Defer-Length",1):t.setHeader("Upload-Length",this._size);var n,r=Wx(this.options.metadata);""!==r&&t.setHeader("Upload-Metadata",r),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,n=this._addChunkToRequest(t)):n=this._sendRequest(t,null),n.then((function(n){if(Yx(n.getStatus(),200)){var r=n.getHeader("Location");if(null!=r){if(e.url=ew(e.options.endpoint,r),"Created upload at ".concat(e.url),"function"==typeof e.options.onUploadUrlAvailable&&e.options.onUploadUrlAvailable(),0===e._size)return e._emitSuccess(),void e._source.close();e._saveUploadInUrlStorage().then((function(){e.options.uploadDataDuringCreation?e._handleUploadResponse(t,n):(e._offset=0,e._performUpload())}))}else e._emitHttpError(t,n,"tus: invalid or missing Location header")}else e._emitHttpError(t,n,"tus: unexpected response while creating upload")})).catch((function(n){e._emitHttpError(t,null,"tus: failed to create upload",n)}))}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var e=this,t=this._openRequest("HEAD",this.url);this._sendRequest(t,null).then((function(n){var r=n.getStatus();if(!Yx(r,200))return 423===r?void e._emitHttpError(t,n,"tus: upload is currently locked; retry later"):(Yx(r,400)&&e._removeFromUrlStorage(),e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitHttpError(t,n,"tus: unable to resume upload (new upload cannot be created without an endpoint)"));var s=parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(s))e._emitHttpError(t,n,"tus: invalid or missing offset value");else{var i=parseInt(n.getHeader("Upload-Length"),10);!Number.isNaN(i)||e.options.uploadLengthDeferred?("function"==typeof e.options.onUploadUrlAvailable&&e.options.onUploadUrlAvailable(),e._saveUploadInUrlStorage().then((function(){if(s===i)return e._emitProgress(i,i),void e._emitSuccess();e._offset=s,e._performUpload()}))):e._emitHttpError(t,n,"tus: invalid or missing length value")}})).catch((function(n){e._emitHttpError(t,null,"tus: failed to resume upload",n)}))}},{key:"_performUpload",value:function(){var e,t=this;this._aborted||(this.options.overridePatchMethod?(e=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then((function(n){Yx(n.getStatus(),200)?t._handleUploadResponse(e,n):t._emitHttpError(e,n,"tus: unexpected response while uploading chunk")})).catch((function(n){t._aborted||t._emitHttpError(e,null,"tus: failed to upload chunk at offset ".concat(t._offset),n)})))}},{key:"_addChunkToRequest",value:function(e){var t=this,n=this._offset,r=this._offset+this.options.chunkSize;return e.setProgressHandler((function(e){t._emitProgress(n+e,t._size)})),e.setHeader("Content-Type","application/offset+octet-stream"),(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(n,r).then((function(n){var r=n.value,s=n.done,i=r&&r.size?r.size:0;t.options.uploadLengthDeferred&&s&&(t._size=t._offset+i,e.setHeader("Upload-Length",t._size));var o=t._offset+i;return!t.options.uploadLengthDeferred&&s&&o!==t._size?Promise.reject(new Error("upload was configured with a size of ".concat(t._size," bytes, but the source is done after ").concat(o," bytes"))):null===r?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,r))}))}},{key:"_handleUploadResponse",value:function(e,t){var n=parseInt(t.getHeader("Upload-Offset"),10);if(Number.isNaN(n))this._emitHttpError(e,t,"tus: invalid or missing offset value");else{if(this._emitProgress(n,this._size),this._emitChunkComplete(n-this._offset,n,this._size),this._offset=n,n===this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function(e,t){var n=Gx(e,t,this.options);return this._req=n,n}},{key:"_removeFromUrlStorage",value:function(){var e=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch((function(t){e._emitError(t)})),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var e=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||null!==this._urlStorageKey)return Promise.resolve();var t={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};return this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then((function(t){e._urlStorageKey=t}))}},{key:"_sendRequest",value:function(e){return Jx(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.options)}}],r=[{key:"terminate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Gx("DELETE",t,n);return Jx(r,null,n).then((function(e){if(204!==e.getStatus())throw new Ax("tus: unexpected response while terminating upload",null,r,e)})).catch((function(s){if(s instanceof Ax||(s=new Ax("tus: failed to terminate upload",s,r,null)),!Xx(s,0,n))throw s;var i=n.retryDelays[0],o=n.retryDelays.slice(1),a=$x($x({},n),{},{retryDelays:o});return new Promise((function(e){return setTimeout(e,i)})).then((function(){return e.terminate(t,a)}))}))}}],n&&Hx(t.prototype,n),r&&Hx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wx(e){return Object.entries(e).map((function(e){var t=Dx(e,2),n=t[0],r=t[1];return"".concat(n," ").concat(sx(String(r)))})).join(",")}function Yx(e,t){return e>=t&&e<t+100}function Gx(e,t,n){var r=n.httpStack.createRequest(e,t);r.setHeader("Tus-Resumable","1.0.0");var s=n.headers||{};if(Object.entries(s).forEach((function(e){var t=Dx(e,2),n=t[0],s=t[1];r.setHeader(n,s)})),n.addRequestId){var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));r.setHeader("X-Request-ID",i)}return r}function Jx(e,t,n){return Zx.apply(this,arguments)}function Zx(){var e;return e=zx().mark((function e(t,n,r){var s;return zx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r.onBeforeRequest){e.next=3;break}return e.next=3,r.onBeforeRequest(t);case 3:return e.next=5,t.send(n);case 5:if(s=e.sent,"function"!=typeof r.onAfterResponse){e.next=9;break}return e.next=9,r.onAfterResponse(t,s);case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})),Zx=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Lx(i,r,s,o,a,"next",e)}function a(e){Lx(i,r,s,o,a,"throw",e)}o(void 0)}))},Zx.apply(this,arguments)}function Xx(e,t,n){return!(null==n.retryDelays||t>=n.retryDelays.length||null==e.originalRequest)&&(n&&"function"==typeof n.onShouldRetry?n.onShouldRetry(e,t,n):Qx(e))}function Qx(e){var t,n=e.originalResponse?e.originalResponse.getStatus():0;return(!Yx(n,400)||409===n||423===n)&&(t=!0,"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(t=!1),t)}function ew(e,t){return new Ex(t,e).toString()}function tw(e){return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rw(r.key),r)}}function rw(e){var t=function(e,t){if("object"!==tw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tw(t)?t:String(t)}Kx.defaultOptions=Vx;var sw=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve([])}},{key:"removeUpload",value:function(e){return Promise.resolve()}},{key:"addUpload",value:function(e,t){return Promise.resolve(null)}}])&&nw(t.prototype,n),r&&nw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function iw(e){return(iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aw(r.key),r)}}function aw(e){var t=function(e,t){if("object"!==iw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==iw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iw(t)?t:String(t)}var lw=!1;try{lw="localStorage"in window;var cw="tusSupport",uw=localStorage.getItem(cw);localStorage.setItem(cw,uw),null===uw&&localStorage.removeItem(cw)}catch(oS){if(oS.code!==oS.SECURITY_ERR&&oS.code!==oS.QUOTA_EXCEEDED_ERR)throw oS;lw=!1}var dw=lw,pw=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"findAllUploads",value:function(){var e=this._findEntries("tus::");return Promise.resolve(e)}},{key:"findUploadsByFingerprint",value:function(e){var t=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(t)}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,t){var n=Math.round(1e12*Math.random()),r="tus::".concat(e,"::").concat(n);return localStorage.setItem(r,JSON.stringify(t)),Promise.resolve(r)}},{key:"_findEntries",value:function(e){for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);if(0===r.indexOf(e))try{var s=JSON.parse(localStorage.getItem(r));s.urlStorageKey=r,t.push(s)}catch(oS){}}return t}}],n&&ow(t.prototype,n),r&&ow(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function hw(e){return(hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vw(r.key),r)}}function gw(e,t,n){return t&&mw(e.prototype,t),n&&mw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vw(e){var t=function(e,t){if("object"!==hw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hw(t)?t:String(t)}var yw=function(){function e(){fw(this,e)}return gw(e,[{key:"createRequest",value:function(e,t){return new bw(e,t)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),bw=function(){function e(t,n){fw(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,n,!0),this._method=t,this._url=n,this._headers={}}return gw(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}},{key:"getHeader",value:function(e){return this._headers[e]}},{key:"setProgressHandler",value:function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded)})}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n,r){e._xhr.onload=function(){n(new xw(e._xhr))},e._xhr.onerror=function(e){r(e)},e._xhr.send(t)}))}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),xw=function(){function e(t){fw(this,e),this._xhr=t}return gw(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(e){return this._xhr.getResponseHeader(e)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),ww=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};function _w(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var e=r.response;t(e)},r.onerror=function(e){n(e)},r.open("GET",e),r.send()}))}function jw(e){return(jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ew(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sw(r.key),r)}}function Sw(e){var t=function(e,t){if("object"!==jw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jw(t)?t:String(t)}var kw=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._file=t,this.size=t.size}var t,n,r;return t=e,(n=[{key:"slice",value:function(e,t){if("undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova))return n=this._file.slice(e,t),new Promise((function(e,t){var r=new FileReader;r.onload=function(){var t=new Uint8Array(r.result);e({value:t})},r.onerror=function(e){t(e)},r.readAsArrayBuffer(n)}));var n,r=this._file.slice(e,t),s=t>=this.size;return Promise.resolve({value:r,done:s})}},{key:"close",value:function(){}}])&&Ew(t.prototype,n),r&&Ew(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Cw(e){return(Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nw(r.key),r)}}function Nw(e){var t=function(e,t){if("object"!==Cw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Cw(t)?t:String(t)}function Pw(e){return void 0===e?0:void 0!==e.size?e.size:e.length}var Ow=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}var t,n,r;return t=e,(n=[{key:"slice",value:function(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}},{key:"_readUntilEnoughDataOrDone",value:function(e,t){var n=this,r=t<=this._bufferOffset+Pw(this._buffer);if(this._done||r){var s=this._getDataFromBuffer(e,t),i=null==s&&this._done;return Promise.resolve({value:s,done:i})}return this._reader.read().then((function(r){var s=r.value;return r.done?n._done=!0:void 0===n._buffer?n._buffer=s:n._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}throw new Error("Unknown data type")}(n._buffer,s),n._readUntilEnoughDataOrDone(e,t)}))}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var n=0===Pw(this._buffer);return this._done&&n?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}])&&Tw(t.prototype,n),r&&Tw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rw(e){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iw(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
Iw=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(R){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new P(r||[]);return s(o,"_invoke",{value:k(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",g={};function v(){}function y(){}function b(){}var x={};c(x,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&r.call(_,o)&&(x=_);var j=b.prototype=v.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(s,i,o,a){var l=d(e[s],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Rw(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,a)}))}a(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function k(t,n,r){var s=p;return function(i,o){if(s===f)throw new Error("Generator is already running");if(s===m){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var l=C(a,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===p)throw s=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=f;var c=d(t,n,r);if("normal"===c.type){if(s=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(s=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Rw(t)+" is not iterable")}return y.prototype=b,s(j,"constructor",{value:b,configurable:!0}),s(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var o=new S(u(e,n,r,s),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(j),c(j,l,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return a.type="throw",a.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;N(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Aw(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lw(r.key),r)}}function Lw(e){var t=function(e,t){if("object"!==Rw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rw(t)?t:String(t)}var Dw=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,s,i;return t=e,n=[{key:"openFile",value:(s=Iw().mark((function e(t,n){var r;return Iw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ww()||!t||void 0===t.uri){e.next=11;break}return e.prev=1,e.next=4,_w(t.uri);case 4:return r=e.sent,e.abrupt("return",new kw(r));case 8:throw e.prev=8,e.t0=e.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(e.t0));case 11:if("function"!=typeof t.slice||void 0===t.size){e.next=13;break}return e.abrupt("return",Promise.resolve(new kw(t)));case 13:if("function"!=typeof t.read){e.next=18;break}if(n=Number(n),Number.isFinite(n)){e.next=17;break}return e.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return e.abrupt("return",Promise.resolve(new Ow(t,n)));case 18:return e.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return e.stop()}}),e,null,[[1,8]])})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=s.apply(e,t);function o(e){Aw(i,n,r,o,a,"next",e)}function a(e){Aw(i,n,r,o,a,"throw",e)}o(void 0)}))},function(e,t){return i.apply(this,arguments)})}],n&&zw(t.prototype,n),r&&zw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mw(e){return(Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kw(r.key),r)}}function Fw(e,t){return(Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(oS){return!1}}();return function(){var n,r=qw(e);if(t){var s=qw(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Mw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function qw(e){return(qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hw(Object(n),!0).forEach((function(t){Vw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vw(e,t,n){return(t=Kw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kw(e){var t=function(e,t){if("object"!==Mw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mw(t)?t:String(t)}var Ww=Bw(Bw({},Kx.defaultOptions),{},{httpStack:new yw,fileReader:new Dw,urlStorage:dw?new pw:new sw,fingerprint:function(e,t){return ww()?Promise.resolve(function(e,t){var n=e.exif?function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",n,t.endpoint].join("/")}(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}}),Yw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}(i,Kx);var t,n,r,s=$w(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=Bw(Bw({},Ww),t),s.call(this,e,t)}return t=i,r=[{key:"terminate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Bw(Bw({},Ww),t),Kx.terminate(e,t)}}],(n=null)&&Uw(t.prototype,n),r&&Uw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),Gw={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r){var s=(0,t.useState)((function(){return l(e,r)})),i=(h=s,f=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){a=!0,s=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(h,f)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(h,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],u=i[1],d=(0,t.useCallback)((function(){u(void 0),c(e)}),[e]),p=(0,t.useCallback)((function(t,n){u(t),a(e,t,n)}),[e]);var h,f;return[o,p,d]},e.setCookie=e.removeCookie=e.getCookie=void 0,e.stringifyOptions=o;var t=p;function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i="undefined"!=typeof window;function o(e){return Object.keys(e).reduce((function(t,n){return"days"===n||!1===e[n]?t:!0===e[n]?"".concat(t,"; ").concat(n):"".concat(t,"; ").concat(n,"=").concat(e[n])}),"")}var a=function(e,t,n){if(i){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({days:7,path:"/"},n),l=new Date(Date.now()+864e5*a.days).toUTCString();document.cookie=e+"="+encodeURIComponent(t)+"; expires="+l+o(a)}};e.setCookie=a;var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i&&document.cookie.split("; ").reduce((function(t,n){var r=n.split("=");return r[0]===e?decodeURIComponent(r[1]):t}),"")||t};e.getCookie=l;var c=function(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")};e.removeCookie=c}(Gw);class Jw{constructor(e){this.upload=e}start(){this.upload.start()}abort(){return this.upload.abort(!0)}static async create(e,{onProgress:t,onSuccess:n,onError:r,metadata:s,chunkSize:i,baseUrl:o}){const a=["tus",e.fingerprint,"drive"].join("-"),l=new Yw(e.native,{fingerprint:()=>Promise.resolve(a),removeFingerprintOnSuccess:!0,endpoint:`${o}/api/v1/tus/upload`,chunkSize:i,retryDelays:[0,3e3,5e3,1e4,2e4],overridePatchMethod:!0,metadata:{name:window.btoa(e.id),clientName:e.name,clientExtension:e.extension,clientMime:e.mime||"",clientSize:`${e.size}`,...s},headers:{"X-XSRF-TOKEN":Gw.getCookie("XSRF-TOKEN")},onError:t=>{var n;if("originalResponse"in t&&t.originalResponse)try{const s=null==(n=JSON.parse(t.originalResponse.getBody()))?void 0:n.message;null==r||r(s,e)}catch(oS){null==r||r(null,e)}else null==r||r(null,e)},onProgress(e,n){null==t||t({bytesUploaded:e,bytesTotal:n})},onSuccess:async()=>{var t;const s=null==(t=l.url)?void 0:t.split("/").pop();try{if(s){const t=await function(e){return sn.post("tus/entries",{uploadKey:e}).then((e=>e.data))}(s);null==n||n(t.fileEntry,e)}}catch(i){localStorage.removeItem(a),null==r||r(cs(i),e)}}}),c=await l.findPreviousUploads();return c.length&&l.resumeFromPreviousUpload(c[0]),new Jw(l)}}var Zw=(e=>(e.public="public",e.uploads="uploads",e))(Zw||{});class Xw{constructor(e,n){t(this,"abortController"),t(this,"presignedRequest"),this.file=e,this.config=n,this.abortController=new AbortController}async start(){var e,t,n,r;if(this.presignedRequest=await this.presignPostUrl(),!this.presignedRequest)return;if("uploaded"!==await this.uploadFileToS3())return;const s=await this.createFileEntry();(null==s?void 0:s.fileEntry)?null==(t=(e=this.config).onSuccess)||t.call(e,s.fileEntry,this.file):this.abortController.signal||null==(r=(n=this.config).onError)||r.call(n,null,this.file)}abort(){return this.abortController.abort(),Promise.resolve()}presignPostUrl(){var e;return sn.post("s3/simple/presign",{filename:this.file.name,mime:this.file.mime,disk:null==(e=this.config.metadata)?void 0:e.disk,size:this.file.size,extension:this.file.extension,...this.config.metadata},{signal:this.abortController.signal}).then((e=>e.data)).catch((e=>{var t,n;"ERR_CANCELED"!==e.code&&(null==(n=(t=this.config).onError)||n.call(t,cs(e),this.file))}))}uploadFileToS3(){const{url:e,acl:t}=this.presignedRequest;return Xt.put(e,this.file.native,{signal:this.abortController.signal,withCredentials:!1,headers:{"Content-Type":this.file.mime,"x-amz-acl":t},onUploadProgress:e=>{var t,n;e.event.lengthComputable&&(null==(n=(t=this.config).onProgress)||n.call(t,{bytesUploaded:e.loaded,bytesTotal:e.total||0}))}}).then((()=>"uploaded")).catch((e=>{var t,n;"ERR_CANCELED"!==e.code&&(null==(n=(t=this.config).onError)||n.call(t,cs(e),this.file))}))}async createFileEntry(){return await sn.post("s3/entries",{...this.config.metadata,clientMime:this.file.mime,clientName:this.file.name,filename:this.presignedRequest.key.split("/").pop(),size:this.file.size,clientExtension:this.file.extension}).then((e=>e.data)).catch((e=>{var t,n;"ERR_CANCELED"!==e.code&&(null==(n=(t=this.config).onError)||n.call(t,cs(e),this.file))}))}static async create(e,t){return new Xw(e,t)}}class Qw{constructor(e,n){t(this,"abortController"),this.file=e,this.config=n,this.abortController=new AbortController}async start(){const e=new FormData,{onSuccess:t,onError:n,onProgress:r,metadata:s}=this.config;e.set("file",this.file.native),e.set("clientMime",this.file.mime),e.set("clientExtension",this.file.extension),s&&Object.entries(s).forEach((([t,n])=>{e.set(t,`${n}`)}));const i=await sn.post("file-entries",e,{onUploadProgress:e=>{e.event.lengthComputable&&(null==r||r({bytesUploaded:e.loaded,bytesTotal:e.total||0}))},signal:this.abortController.signal,headers:{"Content-Type":"multipart/form-data"}}).catch((e=>{"ERR_CANCELED"!==e.code&&(null==n||n(cs(e),this.file))}));this.abortController.signal.aborted||i&&i.data.fileEntry&&(null==t||t(i.data.fileEntry,this.file))}abort(){return this.abortController.abort(),Promise.resolve()}static async create(e,t){return new Qw(e,t)}}function e_(e,t=1){if(null==e||Number.isNaN(e))return"";const n=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(n&&(e=-e),e<1)return(n?"-":"")+e+" B";const s=Math.min(Math.floor(Math.log(e)/Math.log(1024)),r.length-1);e=Number(e/Math.pow(1024,s));const i=r[s];return e>=10||e%1==0?`${(n?"-":"")+e.toFixed(0)} ${i}`:`${(n?"-":"")+e.toFixed(t)} ${i}`}function t_(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}t_.prototype.match=function(e){var t,n,r=!0,s=this.parts,i=s.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;r&&t<i;t++)"*"!==s[t]&&(r=t<n.length&&s[t]===n[t]);r=r&&n}else r=!1;else if("function"==typeof e.splice)for(r=[],t=e.length;t--;)this.match(e[t])&&(r[r.length]=e[t]);else if("object"==typeof e)for(var o in r={},e)this.match(o)&&(r[o]=e[o]);return r};var n_=function(e,t,n){var r=new t_(e,n||/[\/\.]/);return void 0!==t?r.match(t):r},r_=/[\/\+\.]/;const s_=d((function(e,t){function n(t){var n=n_(t,e,r_);return n&&n.length>=2}return t?n(t.split(";")[0]):n}));function i_(e,t){if(!t)return;const{maxFileSize:n,allowedFileTypes:r,blockedFileTypes:s}=t;return n&&null!=e.size&&e.size>n?ln("`:file` exceeds maximum allowed size of :size",{values:{file:e.name,size:e_(n)}}):(null==r?void 0:r.length)&&!o_(e,r)||(null==s?void 0:s.length)&&o_(e,s)?ln("This file type is not allowed"):void 0}function o_(e,t){return t.map((e=>e.split(","))).flat().some((t=>{if(t.includes("/"))return!!e.mime&&s_(e.mime.replace(/;.*?$/,""),t);const n=t.replace(".","").toLowerCase();return!(!n||!e.extension)&&e.extension.toLowerCase()===n}))}class a_{constructor(){t(this,"aliveTimer"),t(this,"isDone",!1),t(this,"timeout",3e4),t(this,"timeoutHandler",null)}progress(){!this.isDone&&this.timeoutHandler&&this.timeout>0&&(clearTimeout(this.aliveTimer),this.aliveTimer=setTimeout(this.timeoutHandler,this.timeout))}done(){this.isDone||(clearTimeout(this.aliveTimer),this.aliveTimer=null,this.isDone=!0)}}const l_=(e,t)=>{var n;const r=Ms().settings,s=((null==(n=t.metadata)?void 0:n.disk)||Zw.uploads)===Zw.uploads?r.uploads.uploads_driver:r.uploads.public_driver;return(null==s?void 0:s.endsWith("s3"))&&r.uploads.s3_direct_upload?e.size>=104857600?Fb:Xw:e.size>=4194304&&!r.uploads.disable_tus?Jw:Qw};function c_(e,t,n){let r=e instanceof yb?e:new yb(e);return(null==n?void 0:n.modifyUploadedFile)&&(r=n.modifyUploadedFile(r)),{file:r,percentage:0,bytesUploaded:0,status:"pending",options:t||{}}}!function(){class e extends Map{constructor(e,t){super(),this[or]={type_:2,parent_:t,scope_:t?t.scope_:Cr(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:e,draft_:this,isManual_:!1,revoked_:!1}}get size(){return br(this[or]).size}has(e){return br(this[or]).has(e)}set(e,n){const r=this[or];return s(r),br(r).has(e)&&br(r).get(e)===n||(t(r),$r(r),r.assigned_.set(e,!0),r.copy_.set(e,n),r.assigned_.set(e,!0)),this}delete(e){if(!this.has(e))return!1;const n=this[or];return s(n),t(n),$r(n),n.base_.has(e)?n.assigned_.set(e,!1):n.assigned_.delete(e),n.copy_.delete(e),!0}clear(){const e=this[or];s(e),br(e).size&&(t(e),$r(e),e.assigned_=new Map,hr(e.base_,(t=>{e.assigned_.set(t,!1)})),e.copy_.clear())}forEach(e,t){br(this[or]).forEach(((n,r,s)=>{e.call(t,this.get(r),r,this)}))}get(e){const n=this[or];s(n);const r=br(n).get(e);if(n.finalized_||!ur(r))return r;if(r!==n.base_.get(e))return r;const i=Hr(r,n);return t(n),n.copy_.set(e,i),i}keys(){return br(this[or]).keys()}values(){const e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const t=e.next();if(t.done)return t;return{done:!1,value:this.get(t.value)}}}}entries(){const e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}}[Symbol.iterator](){return this.entries()}}function t(e){e.copy_||(e.assigned_=new Map,e.copy_=new Map(e.base_))}class n extends Set{constructor(e,t){super(),this[or]={type_:3,parent_:t,scope_:t?t.scope_:Cr(),modified_:!1,finalized_:!1,copy_:void 0,base_:e,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return br(this[or]).size}has(e){const t=this[or];return s(t),t.copy_?!!t.copy_.has(e)||!(!t.drafts_.has(e)||!t.copy_.has(t.drafts_.get(e))):t.base_.has(e)}add(e){const t=this[or];return s(t),this.has(e)||(r(t),$r(t),t.copy_.add(e)),this}delete(e){if(!this.has(e))return!1;const t=this[or];return s(t),r(t),$r(t),t.copy_.delete(e)||!!t.drafts_.has(e)&&t.copy_.delete(t.drafts_.get(e))}clear(){const e=this[or];s(e),br(e).size&&(r(e),$r(e),e.copy_.clear())}values(){const e=this[or];return s(e),r(e),e.copy_.values()}entries(){const e=this[or];return s(e),r(e),e.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}}function r(e){e.copy_||(e.copy_=new Set,e.base_.forEach((t=>{if(ur(t)){const n=Hr(t,e);e.drafts_.set(t,n),e.copy_.add(n)}else e.copy_.add(t)})))}function s(e){e.revoked_&&ar(3,JSON.stringify(br(e)))}var i,o;o={proxyMap_:function(t,n){return new e(t,n)},proxySet_:function(e,t){return new n(e,t)}},Sr[i="MapSet"]||(Sr[i]=o)}();const u_={uploadStarted:!1,concurrency:3,fileUploads:new Map,activeUploadsCount:0,inProgressUploadsCount:0,pendingUploadsCount:0,completedUploadsCount:0},d_=({settings:e,options:t})=>rr()(Wr(((n,r)=>({...u_,reset:()=>{n(u_)},getUpload:e=>r().fileUploads.get(e),getCompletedFileEntries:()=>[...r().fileUploads.values()].filter((e=>!!e.entry)).map((e=>e.entry)),clearInactive:()=>{n((e=>{e.fileUploads.forEach(((t,n)=>{"inProgress"!==t.status&&e.fileUploads.delete(n)}))})),r().runQueue()},abortUpload:e=>{var t;const n=r().fileUploads.get(e);n&&(null==(t=n.request)||t.abort(),r().uploadStarted?(r().updateFileUpload(e,{status:"aborted",percentage:0}),r().runQueue()):r().removeUpload(e))},updateFileUpload:(e,t)=>{n((n=>{const r=n.fileUploads.get(e);r&&(n.fileUploads.set(e,{...r,...t}),"status"in t&&p_(n))}))},addCompletedFileUpload:e=>{n((t=>{t.fileUploads.set(`${e.id}`,{file:new bb(e),status:"completed",entry:e,percentage:100,bytesUploaded:e.file_size||0,options:{}}),p_(t)}))},uploadSingle:(e,s)=>{const i=c_(e,s,t),o=new Map(r().fileUploads);return o.set(i.file.id,i),n((e=>{p_(e),e.fileUploads=o,e.uploadStarted=!0})),r().runQueue(),i.file.id},removeUpload:e=>{n((t=>{t.fileUploads.delete(e),p_(t)}))},uploadMultiple:(e,s,{startUpload:i=!0}={})=>{const o=new Map(r().fileUploads);return[...e].forEach((e=>{const n=c_(e,s,t);o.set(n.file.id,n)})),n((e=>{e.uploadStarted=i,e.fileUploads=o,p_(e)})),i&&r().runQueue(),[...o.keys()]},startUpload:()=>{n((e=>{e.uploadStarted=!0})),r().runQueue()},runQueue:async()=>{if(!1===r().uploadStarted)return;const t=[...r().fileUploads.values()],s=t.filter((e=>"inProgress"===e.status));let i=r().concurrency;if(s.filter((t=>t.file.relativePath||t.request instanceof Fb||t.request instanceof Jw&&e.uploads.chunk_size&&t.file.size>e.uploads.chunk_size)).length&&(i=1),s.length<i){const e=t.find((e=>"pending"===e.status));e?await async function(e,t){var n,r;const s=Ms().settings,i=e.options,o=e.file;if(null==i?void 0:i.restrictions){const e=i_(o,i.restrictions);if(e)return t.updateFileUpload(o.id,{errorMessage:e,status:"failed",request:void 0,timer:void 0}),i.showToastOnRestrictionFail&&Xr.danger(e),t.runQueue(),null}const a=new a_,l={metadata:{...null==i?void 0:i.metadata,relativePath:o.relativePath,disk:(null==(n=null==i?void 0:i.metadata)?void 0:n.disk)||Zw.uploads,parentId:(null==(r=null==i?void 0:i.metadata)?void 0:r.parentId)||""},chunkSize:s.uploads.chunk_size,baseUrl:s.base_url,onError:e=>{var n;t.updateFileUpload(o.id,{errorMessage:e,status:"failed"}),t.runQueue(),a.done(),null==(n=null==i?void 0:i.onError)||n.call(i,e,o),i.showToastOnBackendError&&e&&Xr.danger(e)},onSuccess:e=>{var n;t.updateFileUpload(o.id,{status:"completed",entry:e}),t.runQueue(),a.done(),null==(n=null==i?void 0:i.onSuccess)||n.call(i,e,o)},onProgress:({bytesUploaded:e,bytesTotal:n})=>{var r;const s=e/n*100;t.updateFileUpload(o.id,{percentage:s,bytesUploaded:e}),a.progress(),null==(r=null==i?void 0:i.onProgress)||r.call(i,{bytesUploaded:e,bytesTotal:n})}},c=l_(o,l),u=await c.create(o,l);return a.timeoutHandler=()=>{u.abort(),t.updateFileUpload(o.id,{status:"failed",errorMessage:ln("Upload timed out")}),t.runQueue()},t.updateFileUpload(o.id,{status:"inProgress",request:u}),u.start(),u}(e,r()):n((e=>{e.uploadStarted=!1}))}}})))),p_=e=>{const t=[...e.fileUploads.values()];e.completedUploadsCount=t.filter((e=>"completed"===e.status)).length,e.inProgressUploadsCount=t.filter((e=>"inProgress"===e.status)).length,e.pendingUploadsCount=t.filter((e=>"pending"===e.status)).length,e.activeUploadsCount=t.filter((e=>"inProgress"===e.status||"pending"===e.status)).length},{useDebugValue:h_}=c,{useSyncExternalStoreWithSelector:f_}=Xn,m_=e=>e;function g_(e,t=m_,n){const r=f_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return h_(r),r}const v_=p.createContext(null);function y_(e,t){return g_(p.useContext(v_),e,t)}function b_({children:e,options:t}){const n=bl(),[s]=p.useState((()=>d_({settings:n,options:t})));return r.jsx(v_.Provider,{value:s,children:e})}function x_(e={}){return new Promise((t=>{const n=function(e={}){const t=document.querySelector("#hidden-file-upload-input");t&&t.remove();const n=document.createElement("input");return n.type="file",n.multiple=e.multiple??!1,n.classList.add("hidden"),n.style.display="none",n.style.visibility="hidden",n.id="hidden-file-upload-input",n.accept=function({extensions:e=[],types:t=[]}){const n=[];return(null==e?void 0:e.length)&&(e=e.map((e=>e.startsWith(".")?e:`.${e}`)),n.push(e.join(","))),(null==t?void 0:t.length)&&n.push(t.join(",")),n.join(",")}(e),e.directory&&(n.webkitdirectory=!0),document.body.appendChild(n),n}(e);n.onchange=e=>{const r=e.target.files;if(!r)return t([]);const s=Array.from(r).filter((e=>".DS_Store"!==e.name)).map((e=>new yb(e)));t(s),n.remove()},document.body.appendChild(n),n.click()}))}function w_(){return i({mutationFn:e=>{return t=e,sn.post("file-entries/delete",t).then((e=>e.data));var t},onError:e=>Po(e)})}function __(){const e=w_(),t=p.useRef(),n=y_((e=>e.uploadSingle)),r=y_((e=>e.abortUpload)),s=y_((e=>e.updateFileUpload)),i=y_((e=>t.current?e.fileUploads.get(t.current):null)),o=p.useCallback(((e,r)=>{t.current=n(e,r)}),[n]),a=p.useCallback((async e=>{var t;const n=await x_({types:null==(t=null==e?void 0:e.restrictions)?void 0:t.allowedFileTypes});return o(n[0],e),n[0]}),[o]),l=p.useCallback((({onSuccess:t,entryPath:n})=>{var r,o,a;const l=()=>{i&&s(i.file.id,{...i,entry:void 0}),t()};n||(null==(r=null==i?void 0:i.entry)?void 0:r.id)?e.mutate({paths:n?[n]:void 0,entryIds:(null==(o=null==i?void 0:i.entry)?void 0:o.id)?[null==(a=null==i?void 0:i.entry)?void 0:a.id]:void 0,deleteForever:!0},{onSuccess:l}):l()}),[e,i,s]),c=p.useCallback((()=>{i&&r(i.file.id)}),[i,r]);return{uploadFile:o,selectAndUploadFile:a,percentage:(null==i?void 0:i.percentage)||0,uploadStatus:null==i?void 0:i.status,entry:null==i?void 0:i.entry,deleteEntry:l,isDeletingEntry:e.isPending,activeUpload:i,abortUpload:c}}function j_(e){let{value:t=0,minValue:n=0,maxValue:s=100,size:i="md",label:o,showValueLabel:a=!!o,isIndeterminate:l=!1,labelPosition:c="top",className:u,role:d,formatOptions:h={style:"percent"},radius:f="rounded",trackColor:m="bg-primary-light",progressColor:g="bg-primary",trackHeight:v=E_(i)}=e;const y=p.useId();t=hc(t,n,s);const b=(t-n)/(s-n),x=bc(h);let w="";if(!l&&a){const e="percent"===h.style?b:t;w=x.format(e)}const _={};l||(_.width=`${Math.round(100*b)}%`);const j=nu({size:i}),E=(o||w)&&r.jsxs("div",{className:N("my-4 flex justify-between gap-10",j.label),children:[o&&r.jsx("span",{id:y,children:o}),w&&r.jsx("div",{children:w})]});return r.jsxs("div",{"aria-valuenow":l?void 0:t,"aria-valuemin":n,"aria-valuemax":s,"aria-valuetext":l?void 0:w,"aria-labelledby":o?y:void 0,role:d||"progressbar",className:N(u,"min-w-42"),children:["top"===c&&E,r.jsx("div",{className:`${v} ${f} ${m} overflow-hidden`,children:r.jsx("div",{className:N(g,"fill h-full rounded-l transition-width duration-200",l&&"progress-bar-indeterminate-animate"),style:_})}),"bottom"===c&&E]})}function E_(e){switch(e){case"sm":return"h-6";case"xs":return"h-4";default:return"h-8"}}function S_(e){return r.jsx(j_,{...e})}const k_=ri(r.jsx("path",{d:"M21 6h-3.17L16 4h-6v2h5.12l1.83 2H21v12H5v-9H3v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM8 14c0 2.76 2.24 5 5 5s5-2.24 5-5-2.24-5-5-5-5 2.24-5 5zm5-3c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3zM5 6h3V4H5V1H3v3H0v2h3v3h2z"}),"AddAPhotoOutlined");var C_=(e=>(e.image="image/*",e.audio="audio/*",e.text="text/*",e.json="application/json",e.video="video/mp4,video/mpeg,video/x-m4v,video/*",e))(C_||{});const T_=2097152;function N_({className:e,label:t,description:n,value:s,onChange:i,defaultValue:o,diskPrefix:a,showRemoveButton:l,showEditButtonOnHover:c=!1,invalid:u,errorMessage:d,required:h,autoFocus:f,variant:m="input",previewSize:g="h-80",placeholderIcon:v,stretchPreview:y=!1,previewRadius:b,disabled:x,onFileSelected:w}){const{uploadFile:_,entry:j,uploadStatus:E,deleteEntry:S,isDeletingEntry:k,percentage:C}=__(),T=p.useRef(null);du({autoFocus:f},T);const P=p.useId(),O=t?`${P}-label`:void 0,R=n?`${P}-description`:void 0,I=s||(null==j?void 0:j.url),A={showToastOnRestrictionFail:!0,restrictions:{allowedFileTypes:[C_.image],maxFileSize:T_},metadata:{diskPrefix:a,disk:Zw.public},onSuccess:e=>{null==i||i(e.url)},onError:e=>{e&&Xr.danger(e)}},z=nu({description:n,descriptionPosition:"top",invalid:u});let L;L="avatar"===m?R_:"square"===m?O_:P_;const D=l?r.jsx(mo,{variant:"link",color:"danger",size:"xs",disabled:k||!I||x,onClick:()=>{S({onSuccess:()=>null==i?void 0:i("")})},children:r.jsx(di,{message:"Remove image"})}):null,M=null!=o&&s!==o?r.jsx(mo,{variant:"outline",color:"primary",size:"xs",disabled:x,onClick:()=>{null==i||i(o)},children:r.jsx(di,{message:"Use default"})}):null,U=p.useCallback((()=>{var e;null==(e=T.current)||e.click()}),[]);return r.jsxs("div",{className:N("text-sm",e),children:[t&&r.jsx("div",{id:O,className:z.label,children:t}),n&&r.jsx("div",{className:z.description,children:n}),r.jsx("div",{"aria-labelledby":O,"aria-describedby":R,children:r.jsxs(lu,{fieldClassNames:z,errorMessage:d,invalid:u,children:[r.jsx(L,{inputFieldClassNames:z,placeholderIcon:v,previewSize:g,isLoading:"inProgress"===E,imageUrl:I,removeButton:D,useDefaultButton:M,showEditButtonOnHover:c,stretchPreview:y,previewRadius:b,handleUpload:U,disabled:x,children:r.jsx("input",{ref:T,"aria-labelledby":O,"aria-describedby":R,required:!I&&h,accept:C_.image,type:"file",disabled:"inProgress"===E,className:"sr-only",onChange:e=>{var t;(null==(t=e.target.files)?void 0:t.length)&&(_(e.target.files[0],A),null==w||w(e.target.files[0]))}})}),"inProgress"===E&&r.jsx(S_,{className:"absolute left-0 right-0 top-0",size:"xs",value:C})]})})]})}function P_({children:e,inputFieldClassNames:t,imageUrl:n,previewSize:s,stretchPreview:i,isLoading:o,handleUpload:a,removeButton:l,useDefaultButton:c,disabled:u}){return n?r.jsxs(p.Fragment,{children:[r.jsxs("div",{className:`${s} relative mb-10 overflow-hidden rounded border bg-fg-base/8 p-6`,children:[r.jsx("img",{className:N("mx-auto h-full rounded",i?"object-cover":"object-contain"),onClick:()=>a(),src:n,alt:""}),e]}),r.jsx(mo,{onClick:()=>a(),disabled:o||u,className:"mr-10",variant:"outline",color:"primary",size:"xs",children:r.jsx(di,{message:"Replace"})}),l&&p.cloneElement(l,{variant:"outline"}),c&&p.cloneElement(c,{variant:"outline"})]}):p.cloneElement(e,{className:N(t.input,"py-8","file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10")})}function O_({children:e,placeholderIcon:t,previewSize:n,imageUrl:s,stretchPreview:i,handleUpload:o,removeButton:a,useDefaultButton:l,previewRadius:c="rounded",showEditButtonOnHover:u=!1,disabled:d}){return r.jsxs("div",{children:[r.jsxs("div",{className:N(n,c,!s&&"border","group z-20 flex flex-col items-center justify-center gap-14 bg-fg-base/8 bg-center bg-no-repeat",i?"bg-cover":"bg-contain p-6"),style:s?{backgroundImage:`url(${s})`}:void 0,onClick:()=>o(),children:[t&&!s&&p.cloneElement(t,{size:"lg"}),r.jsx(mo,{variant:"raised",color:"white",size:"xs",className:N(u&&"invisible group-hover:visible"),disabled:d,children:s?r.jsx(di,{message:"Replace image"}):r.jsx(di,{message:"Upload image"})})]}),e,(a||l)&&r.jsxs("div",{className:"mt-8",children:[a&&p.cloneElement(a,{variant:"link"}),l&&p.cloneElement(l,{variant:"link"})]})]})}function R_({children:e,placeholderIcon:t,previewSize:n,isLoading:s,imageUrl:i,removeButton:o,useDefaultButton:a,handleUpload:l,previewRadius:c="rounded-full",disabled:u}){return t||(t=r.jsx(Py,{viewBox:"0 0 48 48",className:N("h-full w-full bg-primary-light/40 text-primary/40",c)})),r.jsxs("div",{children:[r.jsxs("div",{className:N("relative",n),onClick:()=>l(),children:[i?r.jsx("img",{src:i,className:N("h-full w-full object-cover",c),alt:""}):t,r.jsx("div",{className:"absolute -bottom-6 -right-6 rounded-full bg-paper shadow-xl",children:r.jsx(ei,{disabled:s||u,type:"button",variant:"outline",size:"sm",color:"primary",radius:"rounded-full",children:r.jsx(k_,{})})})]}),e,(o||a)&&r.jsxs("div",{className:"mt-14",children:[o&&p.cloneElement(o,{variant:"link"}),a&&p.cloneElement(a,{variant:"link"})]})]})}function I_(e){const{field:{onChange:t,value:n=null},fieldState:{error:s}}=$({name:e.name}),i={onChange:t,value:n,invalid:null!=s,errorMessage:s?r.jsx(di,{message:"Please select an image."}):null};return r.jsx(N_,{...ws(i,e)})}function A_({user:e}){const t=mb({user:e}),n=gb({user:e}),s=p.useId(),i=H({defaultValues:{first_name:e.first_name||"",last_name:e.last_name||"",image:e.image}}),o=fb(e.id,i);return r.jsx(Qy,{id:cb.AccountDetails,title:r.jsx(di,{message:"Update name and profile image"}),actions:r.jsx(mo,{type:"submit",variant:"flat",color:"primary",form:s,disabled:o.isPending||!i.formState.isValid,children:r.jsx(di,{message:"Save"})}),children:r.jsxs(ku,{form:i,className:"flex flex-col items-center gap-40 md:flex-row md:gap-80",onSubmit:e=>{o.mutate(e)},id:s,children:[r.jsxs("div",{className:"w-full flex-auto",children:[r.jsx(fu,{className:"mb-24",name:"first_name",label:r.jsx(di,{message:"First name"})}),r.jsx(fu,{name:"last_name",label:r.jsx(di,{message:"Last name"})})]}),r.jsx(b_,{children:r.jsx(I_,{className:"md:mr-80",variant:"avatar",previewSize:"w-90 h-90",showRemoveButton:!0,name:"image",diskPrefix:"avatars",label:r.jsx(di,{message:"Profile image"}),onChange:e=>{e?t.mutate({url:e}):n.mutate()}})})]})})}function z_(e){return i({mutationFn:e=>{return t=e,sn.put("auth/user/password",t).then((e=>e.data));var t},onSuccess:()=>{Xr(ln("Password changed"))},onError:t=>Tu(t,e)})}function L_(){const e=H(),t=p.useId(),n=z_(e);return r.jsx(Qy,{id:cb.Password,title:r.jsx(di,{message:"Update password"}),actions:r.jsx(mo,{type:"submit",form:t,variant:"flat",color:"primary",disabled:!e.formState.isValid||n.isPending,children:r.jsx(di,{message:"Update password"})}),children:r.jsxs(ku,{form:e,id:t,onSubmit:t=>{n.mutate(t,{onSuccess:()=>{e.reset()}})},children:[r.jsx(fu,{className:"mb-24",name:"current_password",label:r.jsx(di,{message:"Current password"}),type:"password",autoComplete:"current-password",required:!0}),r.jsx(fu,{className:"mb-24",name:"password",label:r.jsx(di,{message:"New password"}),type:"password",autoComplete:"new-password",required:!0}),r.jsx(fu,{name:"password_confirmation",label:r.jsx(di,{message:"Confirm password"}),type:"password",autoComplete:"new-password",required:!0})]})})}function D_(e,t,n={}){return s({queryKey:["value-lists",e,t],queryFn:()=>function(e,t){return sn.get(`value-lists/${e}`,{params:t}).then((e=>e.data))}(e,t),staleTime:t?void 0:1/0,placeholderData:a,enabled:!n.disabled,initialData:()=>{const t=rn.getQueriesData({queryKey:["ValueLists"]}).find((([,t])=>t&&e.every((e=>t[e]))?t:null));if(t)return t[1]}})}function M_({isLoading:e,icon:t}){const n=p.useRef(null),{trans:s}=Ks(),[i,o]=p.useState(!1),{state:{isOpen:a,inputValue:l}}=qc(),c=p.useRef(l);p.useEffect((()=>{e&&!i?(null===n.current&&(n.current=setTimeout((()=>{o(!0)}),500)),l!==c.current&&(clearTimeout(n.current),n.current=setTimeout((()=>{o(!0)}),500))):e||(o(!1),clearTimeout(n.current),n.current=null),c.current=l}),[e,i,l]);return i&&(a||e)?r.jsx(xc,{"aria-label":s({message:"Loading"}),size:"w-24 h-24",isIndeterminate:!0}):t||r.jsx(fo,{})}const U_=c.forwardRef((function(e,t){const n=Cc(),{hideCaret:s,placeholder:i=r.jsx(di,{message:"Select an option..."}),selectedValue:o,onItemSelected:a,onOpenChange:l,onInputValueChange:c,onSelectionChange:u,selectionMode:d,minWidth:p="min-w-128",children:h,searchPlaceholder:f,showEmptyMessage:m,showSearchField:g,defaultInputValue:v,inputValue:y,isLoading:b,isAsync:x,valueClassName:w,floatingWidth:_=(n?"auto":"matchTrigger"),radius:j,...E}=e,S=Fc({...e,clearInputOnItemSelection:!0,showEmptyMessage:m||g,floatingWidth:_,selectionMode:"single",role:"listbox",virtualFocus:g},t),{state:{selectedValues:k,isOpen:C,setIsOpen:T,activeIndex:P,setSelectedIndex:O,inputValue:R,setInputValue:I},collections:A,focusItem:z,listboxId:L,reference:D,refs:M,listContent:U,onInputChange:F}=S,{fieldProps:$,inputProps:q}=pu({...E,focusRef:M.reference}),H=A.collection.get(k[0]),B=H?r.jsxs("span",{className:"flex items-center gap-10",children:[H.element.props.startIcon,r.jsx("span",{className:N("overflow-hidden overflow-ellipsis whitespace-nowrap",w),children:H.element.props.children})]}):r.jsx("span",{className:"italic",children:i}),V=nu({...e,endAdornment:!0}),{handleTriggerKeyDown:K,handleListboxKeyboardNavigation:W,handleListboxSearchFieldKeydown:Y}=Zc(S),{findMatchingItem:G}=eu();return r.jsx(Yc,{listbox:S,onKeyDownCapture:g?void 0:e=>{if(!C)return;const t=G(e,U,P);null!=t&&z("increment",t)},onKeyDown:W,onClose:g?()=>I(""):void 0,isLoading:b,searchField:g&&r.jsx(hu,{size:"xs"===e.size||"sm"===e.size?"xs":"sm",placeholder:f,startAdornment:r.jsx(tu,{}),className:"flex-shrink-0 px-8 pb-8 pt-4",autoFocus:!0,"aria-expanded":C?"true":"false","aria-haspopup":"listbox","aria-controls":C?L:void 0,"aria-autocomplete":"list",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:R,onChange:F,onKeyDown:e=>{Y(e)}}),children:r.jsx(lu,{fieldClassNames:V,...$,endAdornment:!s&&r.jsx(M_,{isLoading:b}),children:r.jsx("button",{...q,type:"button","data-selected-value":null==H?void 0:H.value,"aria-expanded":C?"true":"false","aria-haspopup":"listbox","aria-controls":C?L:void 0,ref:D,onKeyDown:K,onKeyDownCapture:g?void 0:e=>{if(C)return;const t=G(e,U,P);null!=t&&O(t)},disabled:E.disabled,onClick:()=>{T(!C)},className:N(V.input,!$.unstyled&&p),children:B})})})}));function F_({children:e,...t}){const{field:{onChange:n,onBlur:s,value:i=null,ref:o},fieldState:{invalid:a,error:l}}=$({name:t.name}),c={onSelectionChange:n,onBlur:s,selectedValue:i,invalid:a,errorMessage:null==l?void 0:l.message,name:t.name},u=t.errorMessage||(null==l?void 0:l.message);return r.jsx(U_,{ref:o,...ws(c,t,{errorMessage:u}),children:e})}function $_(){return i({mutationFn:e=>function(e){return sn.post("users/me/locale",e).then((e=>e.data))}(e),onSuccess:e=>{Fs({i18n:e.locale})},onError:e=>Po(e)})}const q_=c.forwardRef((function(e,t){var n;const{children:s,items:i,isAsync:o,isLoading:a,openMenuOnFocus:l=!0,endAdornmentIcon:c,onItemSelected:u,maxItems:d,clearInputOnItemSelection:p,inputValue:h,selectedValue:f,onSelectionChange:m,allowCustomValue:g=!1,onInputValueChange:v,defaultInputValue:y,selectionMode:b="single",useOptionLabelAsInputValue:x,showEmptyMessage:w,floatingMaxHeight:_,hideEndAdornment:j=!1,blurReferenceOnItemSelection:E,isOpen:S,onOpenChange:k,prependListbox:C,listboxClassName:T,onEndAdornmentClick:N,autoFocusFirstItem:P=!0,focusLoopingMode:O,...R}=e,I=Fc({...e,floatingMaxHeight:_,blurReferenceOnItemSelection:E,selectionMode:b,role:"listbox",virtualFocus:!0,clearSelectionOnInputClear:!0},t),{reference:A,listboxId:z,onInputChange:L,state:{isOpen:D,setIsOpen:M,inputValue:U,setInputValue:F,selectValues:$,selectedValues:q,setActiveCollection:H},collection:B}=I,V=q[0]?null==(n=B.get(q[0]))?void 0:n.textLabel:void 0,{handleListboxSearchFieldKeydown:K}=Zc(I),W=Xs((e=>{l&&!D&&M(!0),e.target.select()}));return r.jsx(Yc,{prepend:C,className:T,listbox:I,mobileOverlay:Nc,isLoading:a,onPointerDown:e=>{e.preventDefault()},children:r.jsx(hu,{inputRef:A,...R,endAdornment:j?null:r.jsx(ei,{size:"md",tabIndex:-1,disabled:R.disabled,className:"pointer-events-auto",onPointerDown:e=>{e.preventDefault(),e.stopPropagation(),N?N():(H("all"),M(!D))},children:r.jsx(M_,{isLoading:a,icon:c})}),"aria-expanded":D?"true":"false","aria-haspopup":"listbox","aria-controls":D?z:void 0,"aria-autocomplete":"list",autoComplete:"off",autoCorrect:"off",spellCheck:"false",onChange:L,value:x&&V?V:U,onBlur:e=>{if(g)$(e.target.value);else if(!p){const e=q[0];F($.length&&null!=e?`${e}`:"")}},onFocus:W,onClick:W,onKeyDown:e=>K(e)})})}));function H_({name:e,size:t,timezones:n,label:s,...i}){const{trans:o}=Ks();return r.jsx(F_,{selectionMode:"single",name:e,size:t,label:s,showSearchField:!0,searchPlaceholder:o(ln("Search timezones")),...i,children:Object.entries(n).map((([e,t])=>r.jsx(zc,{label:e,children:t.map((e=>r.jsx(Kc,{value:e.value,children:e.text},e.value)))},e)))})}function B_({user:e}){const t=p.useId(),{trans:n}=Ks(),s=H({defaultValues:{language:e.language||"",country:e.country||"",timezone:e.timezone||"UTC"}}),i=fb(e.id,s),o=$_(),{data:a}=D_(["timezones","countries","localizations"]),l=(null==a?void 0:a.countries)||[],c=(null==a?void 0:a.localizations)||[],u=(null==a?void 0:a.timezones)||{};return r.jsx(Qy,{id:cb.LocationAndLanguage,title:r.jsx(di,{message:"Date, time and language"}),actions:r.jsx(mo,{type:"submit",variant:"flat",color:"primary",form:t,disabled:i.isPending||!s.formState.isValid,children:r.jsx(di,{message:"Save"})}),children:r.jsxs(ku,{form:s,onSubmit:e=>{i.mutate(e),o.mutate({locale:e.language})},id:t,children:[r.jsx(F_,{className:"mb-24",selectionMode:"single",name:"language",label:r.jsx(di,{message:"Language"}),children:c.map((e=>r.jsx(Kc,{value:e.language,children:e.name},e.language)))}),r.jsx(F_,{className:"mb-24",selectionMode:"single",name:"country",label:r.jsx(di,{message:"Country"}),showSearchField:!0,searchPlaceholder:n(ln("Search countries")),children:l.map((e=>r.jsx(Kc,{value:e.code,children:e.name},e.code)))}),r.jsx(H_,{label:r.jsx(di,{message:"Timezone"}),name:"timezone",timezones:u})]})})}function V_(e){const t=p.useRef(null);e&&t.current&&Vs(e,t.current)&&(e=t.current),t.current=e;const{localeCode:n}=qs();return p.useMemo((()=>new al(n,e)),[n,e])}const K_={numeric:{year:"numeric",month:"2-digit",day:"2-digit"},short:{year:"numeric",month:"short",day:"2-digit"},long:{month:"long",day:"2-digit",year:"numeric"},timestamp:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},time:{hour:"2-digit",minute:"2-digit"}},W_=p.memo((({date:e,options:t,preset:n,timezone:s})=>{const{dates:i}=bl(),o=pl(),a=s||(null==t?void 0:t.timeZone)||o,l=t||K_[n||(null==i?void 0:i.format)||"short"]||{};l.timeZone||(l.timeZone=a);const c=V_(l);if(!e)return null;try{"string"==typeof e?e=Wa(e,a).toDate():"toDate"in e&&(e=e.toDate(a))}catch(oS){return null}return r.jsx(p.Fragment,{children:c.format(e)})}),Vs);function Y_({className:e,title:t,body:n,close:s,confirm:i,isDanger:o,isLoading:a,onConfirm:l}){const{close:c}=As();return r.jsxs(Gs,{className:e,size:"sm",role:"alertdialog",children:[r.jsx(li,{color:o?"text-danger":null,leftAdornment:r.jsx(dc,{className:"icon-sm"}),children:t}),r.jsx(pi,{children:n}),r.jsxs(Tv,{children:[r.jsx(mo,{variant:"text",onClick:()=>{c(!1)},children:s||r.jsx(di,{message:"Cancel"})}),r.jsx(mo,{disabled:a,variant:"flat",color:o?"danger":"primary",onClick:()=>{null==l||l(),l||c(!0)},children:i})]})]})}function G_(){return i({mutationFn:e=>function({id:e}){return sn.delete(`access-tokens/${e}`).then((e=>e.data))}(e),onSuccess:()=>{Xr(ln("Token deleted"))},onError:e=>Po(e)})}var J_=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},Z_={"text/plain":"Text","text/html":"Url",default:"Text"};var X_=function(e,t){var n,r,s,i,o,a=!1;t||(t={}),t.debug;try{if(r=J_(),s=document.createRange(),i=document.getSelection(),(o=document.createElement("span")).textContent=e,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){window.clipboardData.clearData();var r=Z_[t.format]||Z_.default;window.clipboardData.setData(r,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(o),s.selectNodeContents(o),i.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");a=!0}catch(l){try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),a=!0}catch(c){n=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(s):i.removeAllRanges()),o&&document.body.removeChild(o),r()}return a};const Q_=d(X_);function ej(e,t){var n=p.useState(!1),r=n[0],s=n[1],i=t&&t.successDuration;return p.useEffect((function(){if(r&&i){var e=setTimeout((function(){s(!1)}),i);return function(){clearTimeout(e)}}}),[r,i]),[r,function(){var t=Q_(e);s(t)}]}function tj(e){return i({mutationFn:e=>{return t=e,sn.post("access-tokens",t).then((e=>e.data));var t},onSuccess:()=>{Xr(ln("Token create"))},onError:t=>Tu(t,e)})}function nj(){const e=H(),{formId:t,close:n}=As(),s=tj(e),[i,o]=p.useState(),a=r.jsx(ku,{form:e,id:t,onSubmit:e=>{s.mutate(e,{onSuccess:e=>{o(e.plainTextToken),rn.invalidateQueries({queryKey:["users"]})}})},children:r.jsx(fu,{name:"tokenName",label:r.jsx(di,{message:"Token name"}),required:!0,autoFocus:!0})});return r.jsxs(Gs,{children:[r.jsx(li,{children:r.jsx(di,{message:"Create new token"})}),r.jsx(pi,{children:i?r.jsx(rj,{plainTextToken:i}):a}),r.jsxs(Tv,{children:[r.jsx(mo,{variant:"text",onClick:n,children:r.jsx(di,{message:"Done"})}),!i&&r.jsx(mo,{variant:"flat",color:"primary",type:"submit",form:t,disabled:s.isPending,children:r.jsx(di,{message:"Create"})})]})]})}function rj({plainTextToken:e}){const[t,n]=ej(e||"",{successDuration:1e3});return r.jsxs(r.Fragment,{children:[r.jsx(hu,{readOnly:!0,value:e,autoFocus:!0,onClick:e=>{e.currentTarget.focus(),e.currentTarget.select()},endAppend:r.jsx(mo,{variant:"flat",color:"primary",onClick:n,children:t?r.jsx(di,{message:"Copied!"}):r.jsx(di,{message:"Copy"})})}),r.jsxs("div",{className:"mt-14 flex items-center gap-10 text-sm",children:[r.jsx(po,{size:"sm",className:"text-danger"}),r.jsx(di,{message:"Make sure to store the token in a safe place. After this dialog is closed, token will not be viewable anymore."})]})]})}const sj=""+new URL("secure-files-17b4728d.svg",import.meta.url).href;function ij({user:e}){const t=e.tokens||[],{hasPermission:n,user:s}=ql(),{api:i}=bl();return(null==i?void 0:i.integrated)&&n("api.access")?r.jsx(Qy,{id:cb.Developers,title:r.jsx(di,{message:"API access tokens"}),titleSuffix:r.jsx(y,{className:Ev,to:"/api-docs",target:"_blank",children:r.jsx(di,{message:"Documentation"})}),actions:r.jsx(aj,{}),children:t.length?t.map(((e,n)=>r.jsx(oj,{token:e,isLast:n===t.length-1},e.id))):r.jsx(Mu,{className:"py-40",image:r.jsx(zo,{src:sj}),title:e.id===(null==s?void 0:s.id)?r.jsx(di,{message:"You have no personal access tokens yet"}):r.jsx(di,{message:"User has not created any access tokens yet"})})}):null}function oj({token:e,isLast:t}){return r.jsxs("div",{className:N("flex items-center gap-24",!t&&"mb-12 border-b pb-12"),children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold",children:r.jsx(di,{message:"Name"})}),r.jsx("div",{children:e.name}),r.jsx("div",{className:"mt-10 font-semibold",children:r.jsx(di,{message:"Last used"})}),r.jsx("div",{children:e.last_used_at?r.jsx(W_,{date:e.last_used_at}):r.jsx(di,{message:"Never"})})]}),r.jsx(lj,{token:e})]})}function aj(){return r.jsxs(yu,{type:"modal",children:[r.jsx(mo,{variant:"flat",color:"primary",children:r.jsx(di,{message:"Create token"})}),r.jsx(nj,{})]})}function lj({token:e}){const t=G_();return r.jsxs(yu,{type:"modal",onClose:n=>{n&&t.mutate({id:e.id},{onSuccess:()=>rn.invalidateQueries({queryKey:["users"]})})},children:[r.jsx(mo,{size:"xs",variant:"outline",color:"danger",className:"ml-auto flex-shrink-0",children:r.jsx(di,{message:"Delete"})}),r.jsx(Y_,{isDanger:!0,title:r.jsx(di,{message:"Delete token?"}),body:r.jsx(di,{message:"This token will be deleted immediately and permanently. Once deleted, it can no longer be used to make API requests."}),confirm:r.jsx(di,{message:"Delete"})})]})}function cj(){const{user:e}=ql(),t=Su();return i({mutationFn:()=>{return t=e.id,sn.delete(`users/${t}`,{params:{deleteCurrentUser:!0}}).then((e=>e.data));var t},onSuccess:()=>{Xr("Account deleted"),t.mutate()},onError:e=>Po(e)})}function uj(){return s({queryKey:["password-confirmation-status"],queryFn:()=>sn.get("auth/user/confirmed-password-status",{params:{seconds:9e3}}).then((e=>e.data))})}function dj(e){return i({mutationFn:e=>function(e){return sn.post("auth/user/confirm-password",e).then((e=>e.data))}(e),onError:t=>Tu(t,e)})}function pj(){const{close:e,formId:t}=As(),n=H(),s=dj(n);return r.jsxs(Gs,{children:[r.jsx(li,{children:r.jsx(di,{message:"Confirm password"})}),r.jsxs(pi,{children:[r.jsx("p",{className:"mb-16 text-sm",children:r.jsx(di,{message:"For your security, please confirm your password to continue."})}),r.jsx(ku,{id:t,form:n,onSubmit:t=>s.mutate(t,{onSuccess:()=>e(t.password)}),children:r.jsx(fu,{name:"password",label:r.jsx(di,{message:"Password"}),type:"password",required:!0,autoFocus:!0})})]}),r.jsxs(Tv,{children:[r.jsx(mo,{onClick:()=>e(),children:r.jsx(di,{message:"Cancel"})}),r.jsx(mo,{type:"submit",variant:"flat",color:"primary",form:t,disabled:s.isPending,children:r.jsx(di,{message:"Confirm"})})]})]})}function hj({needsPassword:e}={}){const{data:t,isLoading:n}=uj(),r=p.useRef();return{isLoading:n,withConfirmedPassword:p.useCallback((async n=>{if(!(null==t?void 0:t.confirmed)||!r.current&&e){const e=await Co(pj);e&&(r.current=e,s=!0,rn.setQueryData(["password-confirmation-status"],{confirmed:s}),n(r.current))}else n(r.current);var s}),[null==t?void 0:t.confirmed,e])}}function fj(){const e=cj(),{withConfirmedPassword:t,isLoading:n}=hj(),[s,i]=p.useState(!1);return r.jsxs(Qy,{id:cb.DeleteAccount,title:r.jsx(di,{message:"Danger zone"}),children:[r.jsx(yu,{type:"modal",isOpen:s,onOpenChange:i,onClose:t=>{t&&e.mutate()},children:r.jsx(Y_,{isDanger:!0,title:r.jsx(di,{message:"Delete account?"}),body:r.jsx(di,{message:"Your account will be deleted immediately and permanently. Once deleted, accounts can not be restored."}),confirm:r.jsx(di,{message:"Delete"})})}),r.jsx(mo,{variant:"flat",color:"danger",disabled:n||e.isPending,onClick:()=>{t((()=>{i(!0)}))},children:r.jsx(di,{message:"Delete account"})})]})}function mj(){return s({queryKey:["user-sessions"],queryFn:()=>sn.get("user-sessions").then((e=>e.data))})}const gj=ri(r.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"}),"ComputerOutlined"),vj=ri(r.jsx("path",{d:"M17 1.01 7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"}),"SmartphoneOutlined"),yj=ri(r.jsx("path",{d:"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"}),"TabletOutlined");function bj(){return i({mutationFn:e=>function(e){return sn.post("user-sessions/logout-other",e).then((e=>e.data))}(e),onError:e=>Po(e)})}function xj(){var e;const{data:t,isLoading:n}=mj(),s=bj(),{withConfirmedPassword:i,isLoading:o}=hj({needsPassword:!0}),a=r.jsx("div",{className:"max-h-400 overflow-y-auto",children:null==(e=null==t?void 0:t.sessions)?void 0:e.map((e=>r.jsx(wj,{session:e},e.id)))});return r.jsxs(Qy,{id:cb.Sessions,title:r.jsx(di,{message:"Active sessions"}),children:[r.jsx("p",{className:"text-sm",children:r.jsx(di,{message:"If necessary, you may log out of all of your other browser sessions across all of your devices. Your recent sessions are listed below. If you feel your account has been compromised, you should also update your password."})}),r.jsx("div",{className:"my-30",children:n?r.jsx("div",{className:"min-h-60",children:r.jsx(xc,{isIndeterminate:!0})}):a}),r.jsx(mo,{variant:"outline",color:"primary",disabled:o||s.isPending,onClick:()=>{i((e=>{s.mutate({password:e},{onSuccess:()=>{Xr(ln("Logged out other sessions."))}})}))},children:r.jsx(di,{message:"Logout other sessions"})})]})}function wj({session:e}){return r.jsxs("div",{className:"mb-14 flex items-start gap-14 text-sm",children:[r.jsx("div",{className:"flex-shrink-0 text-muted",children:r.jsx(_j,{device:e.device_type,size:"lg"})}),r.jsxs("div",{className:"flex-auto",children:[r.jsxs("div",{children:[r.jsx(Sj,{children:e.platform})," -"," ",r.jsx(Sj,{children:e.browser})]}),r.jsxs("div",{className:"my-4 text-xs",children:[e.city,", ",e.country]}),r.jsxs("div",{className:"text-xs",children:[r.jsx(Ej,{session:e})," - ",r.jsx(jj,{session:e})]})]})]})}function _j({device:e,size:t}){switch(e){case"mobile":return r.jsx(vj,{size:t});case"tablet":return r.jsx(yj,{size:t});default:return r.jsx(gj,{size:t})}}function jj({session:e}){return e.is_current_device?r.jsx("span",{className:"text-positive",children:r.jsx(di,{message:"This device"})}):r.jsx(fl,{date:e.last_active})}function Ej({session:e}){return e.ip_address?r.jsx("span",{children:e.ip_address}):e.token?r.jsx(di,{message:"API Token"}):r.jsx(di,{message:"Unknown IP"})}function Sj({children:e}){return e?r.jsx(p.Fragment,{children:e}):r.jsx(di,{message:"Unknown"})}function kj(){return sn.post("auth/user/two-factor-authentication").then((e=>e.data))}function Cj({title:e,subtitle:t,description:n,actions:s,children:i}){return t||(t=r.jsx(di,{message:"When two factor authentication is enabled, you will be prompted for a secure, random token during authentication. You may retrieve this token from your phone's Google Authenticator application."})),r.jsxs(p.Fragment,{children:[r.jsx("div",{className:"mb-16 text-base font-medium",children:e}),r.jsx("div",{className:"mb-24 text-sm",children:t}),r.jsx("p",{className:"my-16 text-sm font-medium",children:n}),i,r.jsx("div",{className:"flex items-center gap-12",children:s})]})}function Tj({onEnabled:e}){const t=i({mutationFn:kj,onError:e=>Po(e)}),{withConfirmedPassword:n,isLoading:s}=hj(),o=t.isPending||s;return r.jsx(Cj,{title:r.jsx(di,{message:"You have not enabled two factor authentication."}),actions:r.jsx(mo,{variant:"flat",color:"primary",disabled:o,onClick:()=>{n((()=>{t.mutate(void 0,{onSuccess:e})}))},children:r.jsx(di,{message:"Enable"})})})}function Nj(){return s({queryKey:["two-factor-qr-code"],queryFn:()=>sn.get("auth/user/two-factor/qr-code").then((e=>e.data))})}function Pj(e){return i({mutationFn:e=>function(e){return sn.post("auth/user/confirmed-two-factor-authentication",e).then((e=>e.data))}(e),onError:t=>Tu(t,e)})}function Oj({variant:e="text",animation:t="wave",size:n,className:s,display:i="block",radius:o="rounded",style:a}){return r.jsx("span",{style:a,className:N("skeleton relative overflow-hidden bg-fg-base/4 bg-no-repeat will-change-transform",o,Rj({variant:e,size:n}),i,"text"===e&&"origin-[0_55%] scale-y-[0.6]","avatar"===e&&"flex-shrink-0","icon"===e&&"mx-8 flex-shrink-0","wave"===t&&"skeleton-wave","pulsate"===t&&"skeleton-pulsate",s),"aria-busy":!0,"aria-live":"polite"})}function Rj({variant:e,size:t}){if(t)return t;switch(e){case"avatar":return"h-40 w-40";case"icon":return"h-24 h-24";case"rect":return"h-full w-full";default:return"w-full"}}function Ij(){return i({mutationFn:Aj,onError:e=>Po(e)})}function Aj(){return sn.delete("auth/user/two-factor-authentication").then((e=>e.data))}function zj(e){const{data:t}=Nj();return r.jsxs(Cj,{title:r.jsx(di,{message:"Finish enabling two factor authentication."}),description:r.jsx(di,{message:"To finish enabling two factor authentication, scan the following QR code using your phone's authenticator application or enter the setup key and provide the generated OTP code."}),children:[r.jsx(D,{initial:!1,children:t?r.jsx(Dj,{animationKey:"real-svg",svg:r.jsx("div",{dangerouslySetInnerHTML:{__html:t.svg}}),secret:r.jsx(di,{message:"Setup key: :key",values:{key:t.secret}})}):r.jsx(Dj,{animationKey:"svg-skeleton",svg:r.jsx(Oj,{variant:"rect",size:"w-full h-full"}),secret:r.jsx(Oj,{variant:"text",className:"max-w-224"})})}),r.jsx(Lj,{...e})]})}function Lj({onCancel:e,onConfirmed:t}){const n=H(),s=Pj(n),i=Ij(),{withConfirmedPassword:o,isLoading:a}=hj(),l=s.isPending||i.isPending||a;return r.jsxs(ku,{form:n,onSubmit:e=>o((()=>{s.mutate(e,{onSuccess:()=>{rn.invalidateQueries({queryKey:["users"]}),t()}})})),children:[r.jsx(fu,{required:!0,name:"code",label:r.jsx(di,{message:"Code"}),autoFocus:!0}),r.jsxs("div",{className:"mt-24 flex items-center gap-12",children:[r.jsx(mo,{type:"button",variant:"outline",disabled:l,onClick:()=>{o((()=>{i.mutate(void 0,{onSuccess:e})}))},children:r.jsx(di,{message:"Cancel"})}),r.jsx(mo,{type:"submit",variant:"flat",color:"primary",disabled:l,children:r.jsx(di,{message:"Confirm"})})]})]})}function Dj({animationKey:e,svg:t,secret:n}){return r.jsxs(M.div,{...Oc,children:[r.jsx("div",{className:"mb-16 h-192 w-192",children:t}),r.jsx("div",{className:"mb-16 text-sm font-medium",children:n})]},e)}function Mj(){return i({mutationFn:()=>sn.post("auth/user/two-factor-recovery-codes").then((e=>e.data)),onError:e=>Po(e)})}function Uj({user:e,onDisabled:t}){var n;const s=Ij(),i=Mj(),{withConfirmedPassword:o,isLoading:a}=hj(),l=s.isPending||i.isPending||a,c=r.jsxs(p.Fragment,{children:[r.jsx(mo,{type:"button",onClick:()=>o((()=>{i.mutate(void 0,{onSuccess:()=>{rn.invalidateQueries({queryKey:["users"]})}})})),variant:"outline",disabled:l,className:"mr-12",children:r.jsx(di,{message:"Regenerate recovery codes"})}),r.jsx(mo,{type:"submit",variant:"flat",color:"danger",disabled:l,onClick:()=>{o((()=>{s.mutate(void 0,{onSuccess:()=>{Xr(ln("Two factor authentication has been disabled.")),t()}})}))},children:r.jsx(di,{message:"Disable"})})]});return r.jsx(Cj,{title:r.jsx(di,{message:"You have enabled two factor authentication."}),description:r.jsx(di,{message:"Store these recovery codes in a secure password manager. They can be used to recover access to your account if your two factor authentication device is lost."}),actions:c,children:r.jsx("div",{className:"mb-16 rounded bg-alt p-14 font-mono text-sm",children:null==(n=e.two_factor_recovery_codes)?void 0:n.map((e=>r.jsx("div",{className:"mb-4",children:e},e)))})})}function Fj({user:e}){const[t,n]=p.useState(function(e){if(e.two_factor_confirmed_at)return 2;if(e.two_factor_recovery_codes)return 1;return 0}(e));switch(t){case 0:return r.jsx(Tj,{onEnabled:()=>n(1)});case 1:return r.jsx(zj,{onCancel:()=>{n(0)},onConfirmed:()=>{n(2)}});case 2:return r.jsx(Uj,{user:e,onDisabled:()=>n(0)})}}function $j({user:e}){return r.jsx(Qy,{id:cb.TwoFactor,title:r.jsx(di,{message:"Two factor authentication"}),children:r.jsx("div",{className:"max-w-580",children:r.jsx(Fj,{user:e})})})}function qj(){var e;const{auth:t}=p.useContext(an),{data:n,isLoading:s}=wu("me",{with:["roles","social_profiles","tokens"]});return r.jsxs("div",{className:"min-h-screen bg-alt",children:[r.jsx(uy,{children:r.jsx(di,{message:"Account Settings"})}),r.jsx(Yy,{menuPosition:"account-settings-page"}),r.jsx("div",{children:r.jsxs("div",{className:"container mx-auto px-24 py-24",children:[r.jsx("h1",{className:"text-3xl",children:r.jsx(di,{message:"Account settings"})}),r.jsx("div",{className:"mb-40 text-base text-muted",children:r.jsx(di,{message:"View and update your account details, profile and more."})}),s||!n?r.jsx(xc,{className:"my-80","aria-label":"Loading user..",isIndeterminate:!0}):r.jsxs("div",{className:"flex items-start gap-24",children:[r.jsx(ub,{}),r.jsxs("main",{className:"flex-auto",children:[null==(e=t.accountSettingsPanels)?void 0:e.map((e=>r.jsx(e.component,{user:n.user},e.id))),r.jsx(A_,{user:n.user}),r.jsx(pb,{user:n.user}),r.jsx(L_,{}),r.jsx($j,{user:n.user}),r.jsx(xj,{}),r.jsx(B_,{user:n.user}),r.jsx(ij,{user:n.user}),r.jsx(fj,{})]})]})]})})]})}function Hj({children:e}){const{isLoggedIn:t,getRedirectUri:n}=ql(),{isAppearanceEditorActive:s}=Ll(),i=n(),{auth:o}=p.useContext(an),{pathname:a}=m();if(t&&!s){if(i!==a)return r.jsx(k,{to:i,replace:!0});if(o.secondaryRedirectUri)return r.jsx(k,{to:o.secondaryRedirectUri,replace:!0})}return e||r.jsx(_,{})}function Bj(e){return sn.post("auth/forgot-password",e).then((e=>e.data))}function Vj(){const{registration:e}=bl(),[t]=T(),n=t.get("email")||void 0,s=H({defaultValues:{email:n}}),o=function(e){const t=yl();return i({mutationFn:Bj,onSuccess:e=>{Xr(e.message),t("/login")},onError:t=>Tu(t,e)})}(s),a=!(null==e?void 0:e.disable)&&r.jsx(di,{values:{a:e=>r.jsx(y,{className:Ev,to:"/register",children:e})},message:"Don't have an account? <a>Sign up.</a>"});return r.jsxs(Jv,{message:a,children:[r.jsx(uy,{children:r.jsx(di,{message:"Forgot Password"})}),r.jsxs(ku,{form:s,onSubmit:e=>{o.mutate(e)},children:[r.jsx("div",{className:"mb-32 text-sm",children:r.jsx(di,{message:"Enter your email address below and we will send you a link to reset or create your password."})}),r.jsx(fu,{disabled:!!n,className:"mb-32",name:"email",type:"email",autoComplete:"off",autoCorrect:"off",spellCheck:"false",label:r.jsx(di,{message:"Email"}),required:!0}),r.jsx(mo,{className:"block w-full",type:"submit",variant:"flat",color:"primary",size:"md",disabled:o.isPending,children:r.jsx(di,{message:"Continue"})})]})]})}function Kj(e){return sn.post("auth/reset-password",e).then((e=>e.data))}function Wj(){const{token:e}=C(),t=H({defaultValues:{token:e}}),n=function(e){const t=yl();return i({mutationFn:Kj,onSuccess:()=>{t("/login",{replace:!0}),Xr(ln("Your password has been reset!"))},onError:t=>Tu(t,e)})}(t),s=r.jsx(di,{message:"Reset your account password"}),o=r.jsx(di,{values:{a:e=>r.jsx(y,{className:Ev,to:"/register",children:e})},message:"Don't have an account? <a>Sign up.</a>"});return r.jsxs(Jv,{heading:s,message:o,children:[r.jsx(uy,{children:r.jsx(di,{message:"Reset Password"})}),r.jsxs(ku,{form:t,onSubmit:e=>{n.mutate(e)},children:[r.jsx(fu,{className:"mb-32",name:"email",type:"email",label:r.jsx(di,{message:"Email"}),required:!0}),r.jsx(fu,{className:"mb-32",name:"password",type:"password",label:r.jsx(di,{message:"New password"}),required:!0}),r.jsx(fu,{className:"mb-32",name:"password_confirmation",type:"password",label:r.jsx(di,{message:"Confirm password"}),required:!0}),r.jsx(mo,{className:"block w-full",type:"submit",variant:"flat",color:"primary",size:"md",disabled:n.isPending,children:r.jsx(di,{message:"Reset password"})})]})]})}function Yj(){const e=yl(),{getRedirectUri:t}=ql();return p.useCallback((n=>{Us(n.bootstrapData),e(t(),{replace:!0})}),[e,t])}function Gj(e){return sn.post("auth/login",e).then((e=>e.data))}function Jj(e){const t=Yj();return i({mutationFn:e=>function(e){return sn.post("auth/two-factor-challenge",e).then((e=>e.data))}(e),onSuccess:e=>{t(e)},onError:t=>Tu(t,e)})}function Zj(){const[e,t]=p.useState(!1),n=H(),s=Jj(n);return r.jsxs(Jv,{children:[r.jsx(uy,{children:r.jsx(di,{message:"Two factor authentication"})}),r.jsxs(ku,{form:n,onSubmit:e=>{s.mutate(e)},children:[r.jsx("div",{className:"mb-32 text-sm",children:r.jsx(di,{message:"Confirm access to your account by entering the authentication code provided by your authenticator application."})}),r.jsx("div",{className:"mb-4",children:e?r.jsx(fu,{name:"recovery_code",minLength:21,maxLength:21,autoComplete:"off",autoCorrect:"off",spellCheck:"false",label:r.jsx(di,{message:"Recovery code"}),autoFocus:!0,required:!0}):r.jsx(fu,{name:"code",minLength:6,maxLength:6,autoComplete:"off",autoCorrect:"off",spellCheck:"false",label:r.jsx(di,{message:"Code"}),autoFocus:!0,required:!0})}),r.jsx("div",{className:"mb-32",children:r.jsx(mo,{variant:"link",color:"primary",size:"sm",onClick:()=>t(!e),children:r.jsx(di,{message:"Use recovery code instead"})})}),r.jsx(mo,{className:"block w-full",type:"submit",variant:"flat",color:"primary",size:"md",disabled:s.isPending,children:r.jsx(di,{message:"Continue"})})]})]})}function Xj({onTwoFactorChallenge:e}){const[t]=T(),{pathname:n}=m(),s=n.includes("workspace"),o=t.get("email")||void 0,{branding:a,registration:l,site:c,social:u}=bl(),d=p.useContext(an),h=c.demo&&!o?function(e){if("randomAccount"===e.demo.loginPageDefaults){const e=Math.floor(100*Math.random())+1;return{email:`admin@demo${String(e).padStart(3,"0")}.com`,password:"admin"}}return{email:e.demo.email??"admin@admin.com",password:e.demo.password??"admin"}}(d):{},f=H({defaultValues:{remember:!0,email:o,...h}}),g=function(e){const t=Yj();return i({mutationFn:Gj,onSuccess:e=>{e.two_factor||t(e)},onError:t=>Tu(t,e)})}(f),v=s?r.jsx(di,{values:{siteName:null==a?void 0:a.site_name},message:"To join your team on :siteName, login to your account"}):r.jsx(di,{message:"Sign in to your account"}),b=!(null==l?void 0:l.disable)&&r.jsx(di,{values:{a:e=>r.jsx(y,{className:Ev,to:"/register",children:e})},message:"Don't have an account? <a>Sign up.</a>"}),x=!!Object.keys(f.formState.errors).length;return r.jsxs(Jv,{heading:v,message:b,children:[r.jsx(uy,{children:r.jsx(di,{message:"Login"})}),r.jsxs(ku,{form:f,onSubmit:t=>{g.mutate(t,{onSuccess:t=>{t.two_factor&&e()}})},children:[r.jsx(fu,{className:"mb-32",name:"email",type:"email",label:r.jsx(di,{message:"Email"}),disabled:!!o,invalid:x,required:!0}),r.jsx(fu,{className:"mb-12",name:"password",type:"password",label:r.jsx(di,{message:"Password"}),invalid:x,labelSuffix:r.jsx(y,{className:Ev,to:"/forgot-password",tabIndex:-1,children:r.jsx(di,{message:"Forgot your password?"})}),required:!0}),r.jsx(ty,{name:"remember",className:"mb-32 block",children:r.jsx(di,{message:"Stay signed in for a month"})}),r.jsx(mo,{className:"block w-full",type:"submit",variant:"flat",color:"primary",size:"md",disabled:g.isPending,children:r.jsx(di,{message:"Continue"})})]}),r.jsx(Vv,{dividerMessage:(null==u?void 0:u.compact_buttons)?r.jsx(di,{message:"Or sign in with"}):r.jsx(di,{message:"OR"})})]})}function Qj(){const[e,t]=p.useState(!1);return e?r.jsx(Zj,{}):r.jsx(Xj,{onTwoFactorChallenge:()=>t(!0)})}const eE=[{path:"/register",element:r.jsx(Hj,{children:r.jsx(dy,{})})},{path:"/login",element:r.jsx(Hj,{children:r.jsx(Qj,{})})},{path:"/workspace/join/register",element:r.jsx(Hj,{children:r.jsx(dy,{})})},{path:"/workspace/join/login",element:r.jsx(Hj,{children:r.jsx(Qj,{})})},{path:"/forgot-password",element:r.jsx(Hj,{children:r.jsx(Vj,{})})},{path:"/password/reset/:token",element:r.jsx(Hj,{children:r.jsx(Wj,{})})},{path:"/account-settings",element:r.jsx(_v,{children:r.jsx(qj,{})})}];function tE(){const{locale:e}=qs(),t=$_(),{data:n}=D_(["localizations"]),{i18n:s}=bl();return(null==n?void 0:n.localizations)&&e&&s.enable?r.jsxs(mu,{floatingWidth:"matchTrigger",selectionMode:"single",selectedValue:e.language,onSelectionChange:n=>{const r=n;r!==(null==e?void 0:e.language)&&t.mutate({locale:r})},children:[r.jsx(mo,{disabled:t.isPending,className:"capitalize",startIcon:r.jsx(ib,{}),endIcon:r.jsx(fo,{}),children:e.name}),r.jsx(gu,{children:n.localizations.map((e=>r.jsx(Kc,{value:e.language,className:"capitalize",children:e.name},e.language)))})]}):null}const nE=ri(r.jsx("path",{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"}),"LightbulbOutlined");function rE({className:e,padding:t}){const n=(new Date).getFullYear(),{branding:s}=bl();return r.jsxs("footer",{className:N("text-sm",t||"pb-28 pt-54 md:pb-54",e),children:[r.jsx(sE,{}),r.jsxs("div",{className:"items-center justify-between gap-30 text-center text-muted md:flex md:text-left",children:[r.jsx(di,{message:"Copyright © :year :name, All Rights Reserved",values:{year:n,name:s.site_name}}),r.jsxs("div",{children:[r.jsx(iE,{}),r.jsx(tE,{})]})]})]})}function sE(){const e=bl(),t=e.menus.find((e=>{var t;return null==(t=e.positions)?void 0:t.includes("footer")})),n=e.menus.find((e=>{var t;return null==(t=e.positions)?void 0:t.includes("footer-secondary")}));return t||n?r.jsxs("div",{className:"mb-14 items-center justify-between gap-30 overflow-x-auto border-b pb-14 md:flex",children:[t&&r.jsx(oc,{menu:t,className:"text-primary"}),n&&r.jsx(oc,{menu:n,className:"mb:mt-0 mt-14 text-muted"})]}):null}function iE(){const{themes:e}=bl(),{selectedTheme:t,selectTheme:n}=Pl();return t&&(null==e?void 0:e.user_change)?r.jsx(mo,{variant:"text",startIcon:t.is_dark?r.jsx(ky,{}):r.jsx(nE,{}),onClick:()=>{t.is_dark?n("light"):n("dark")},children:t.is_dark?r.jsx(di,{message:"Light mode"}):r.jsx(di,{message:"Dark mode"})}):null}function oE(){const{user:e}=ql(),{data:t,isLoading:n}=ls({perPage:30}),s=!!(null==e?void 0:e.unread_notifications_count),i=vl(),{notif:o}=bl(),a=r.jsx(mo,{variant:"outline",color:"primary",size:"xs",startIcon:r.jsx(my,{}),onClick:()=>{t&&i.mutate({markAllAsUnread:!0})},disabled:i.isPending||n,className:"ml-auto",children:r.jsx(di,{message:"Mark all as read"})});return r.jsxs(p.Fragment,{children:[r.jsx(uy,{children:r.jsx(di,{message:"Notifications"})}),r.jsx(Yy,{menuPosition:"notifications-page"}),r.jsxs("div",{className:"container mx-auto min-h-[1000px] p-16 md:p-24",children:[r.jsxs("div",{className:"mb-30 flex items-center gap-24",children:[r.jsx("h1",{className:"text-3xl",children:r.jsx(di,{message:"Notifications"})}),s&&a,o.subs.integrated&&r.jsx(ei,{className:"ml-auto text-muted",elementType:y,to:"/notifications/settings",target:"_blank",children:r.jsx(yy,{})})]}),r.jsx(aE,{})]}),r.jsx(rE,{className:"container mx-auto mt-48 p-16 md:p-24"})]})}function aE(){const{data:e,isLoading:t}=ls({perPage:30});return t?r.jsx("div",{className:"flex items-center justify-center py-10",children:r.jsx(xc,{"aria-label":"Loading notifications...",isIndeterminate:!0})}):(null==e?void 0:e.pagination.data.length)?r.jsx(wl,{className:"rounded border",notifications:e.pagination.data}):r.jsx(vy,{})}function lE(){return s({queryKey:["notification-subscriptions"],queryFn:()=>sn.get("notifications/me/subscriptions").then((e=>e.data)),staleTime:1/0})}function cE(){return i({mutationFn:e=>function(e){return sn.put("notifications/me/subscriptions",{selections:e}).then((e=>e.data))}(e),onSuccess:()=>{Xr(ln("Updated preferences")),rn.invalidateQueries({queryKey:["notification-subscriptions"]})},onError:e=>Po(e)})}function uE(){const{notif:e}=bl(),t=cE(),{data:n,isFetched:s}=lE(),[i,o]=p.useState();return p.useEffect((()=>{if(n&&!i){const e={},t={};n.available_channels.forEach((e=>{t[e]=!1})),n.subscriptions.forEach((r=>{r.subscriptions.forEach((r=>{const s=n.user_selections.find((e=>e.notif_id===r.notif_id));e[r.notif_id]=(null==s?void 0:s.channels)||{...t}}))})),o(e)}}),[n,i]),!e.subs.integrated||n&&0===n.subscriptions.length?r.jsx(k,{to:"/",replace:!0}):r.jsxs("div",{className:"min-h-screen bg-alt",children:[r.jsx(Yy,{menuPosition:"notifications-page"}),s&&n&&i?r.jsx("div",{className:"container mx-auto my-20 px-10 md:my-40 md:px-20",children:r.jsxs("div",{className:"rounded border bg-paper px-20 pb-30 pt-20",children:[n.subscriptions.map((e=>r.jsxs("div",{className:"mb-10 text-sm",children:[r.jsx(dE,{group:e,allChannels:null==n?void 0:n.available_channels,selection:i,setSelection:o},e.group_name),e.subscriptions.map((e=>r.jsx(pE,{subscription:e,selection:i,setSelection:o,allChannels:null==n?void 0:n.available_channels},e.notif_id)))]},e.group_name))),r.jsx(mo,{className:"ml-10 mt-20",variant:"flat",color:"primary",disabled:t.isPending,onClick:()=>{t.mutate(Object.entries(i).map((([e,t])=>({notif_id:e,channels:t}))))},children:r.jsx(di,{message:"Update preferences"})})]})}):r.jsx("div",{className:"container mx-auto my-100 flex justify-center",children:r.jsx(xc,{size:"md",isIndeterminate:!0,"aria-label":"Loading subscriptions..."})})]})}function dE({group:e,allChannels:t,selection:n,setSelection:s}){const i=(e,t)=>{const r=Kr(n,(r=>{Object.keys(n).forEach((n=>{r[n][e]=t}))}));s(r)},o=r.jsx("div",{className:"ml-auto flex items-center gap-40 max-md:hidden",children:t.map((e=>{const t=Object.values(n).every((t=>t[e])),s=!t&&Object.values(n).some((t=>t[e]));return r.jsx(ey,{orientation:"vertical",isIndeterminate:s,checked:t,onChange:async n=>{if("browser"===e){const n=await hE();i(e,!!n&&!t)}else i(e,!t)},children:r.jsx(di,{message:e})},e)}))});return r.jsxs("div",{className:"flex items-center border-b p-10",children:[r.jsx("div",{className:"font-medium",children:r.jsx(di,{message:e.group_name})}),o]})}function pE({subscription:e,allChannels:t,selection:n,setSelection:s}){const i=e.notif_id,o=(t,r)=>{const i=Kr(n,(n=>{n[e.notif_id][t]=r}));s(i)};return r.jsxs("div",{className:"items-center border-b py-10 pl-8 pr-10 md:flex md:pl-20",children:[r.jsx("div",{className:"pb-14 font-semibold md:pb-0 md:font-normal",children:r.jsx(di,{message:e.name})}),r.jsx("div",{className:"ml-auto flex items-center gap-40",children:t.map((e=>r.jsx(ey,{orientation:"vertical",checked:n[i][e],onChange:async t=>{const r=!n[i][e];if("browser"===e){const t=await hE();o(e,!!t&&r)}else o(e,r)},"aria-label":e,children:r.jsx("div",{className:"md:invisible md:h-0",children:r.jsx(di,{message:e})})},e)))})]})}function hE(){return"granted"===Notification.permission?Promise.resolve(!0):"denied"===Notification.permission?(Xr.danger(ln("Notifications blocked. Please enable them for this site from browser settings.")),Promise.resolve(!1)):Notification.requestPermission().then((e=>"granted"===e))}const fE=[{path:"/notifications",element:r.jsx(_v,{children:r.jsx(os,{children:r.jsx(oE,{})})})},{path:"/notifications/settings",element:r.jsx(_v,{children:r.jsx(uE,{})})}],mE=async e=>({Component:(await h((()=>import("./app-admin-routes.lazy-c0433937.js").then((e=>e.Q))),["./app-admin-routes.lazy-c0433937.js","./vendor-query-78cda8b8.js","./vendor-core-56622d1d.js","./vendor-ui-7d465812.js","./formatted-duration-8d56a4f7.js","./vendor-form-c566d70e.js","./video-grid-3e80e058.js","./breadcrumb-50a88f63.js","./use-resume-subscription-3a3ff196.js","./visitors-report-charts-9f0eb2ae.js"],import.meta.url))[e]}),gE=[{path:"",lazy:()=>mE("MtdbAdminReportPage"),children:[{index:!0,lazy:()=>mE("AdminInsightsReport")},{path:"plays",lazy:()=>mE("AdminInsightsReport")},{path:"visitors",lazy:()=>mE("AdminVisitorsReport")}]},{path:"channels",lazy:()=>mE("ChannelsDatatablePage")},{path:"channels/new",lazy:()=>mE("CreateChannelPage")},{path:"channels/:slugOrId/edit",lazy:()=>mE("EditChannelPage")},{path:"lists",lazy:()=>mE("ListsDatatablePage")},{path:"lists/new",lazy:()=>mE("CreateUserListPage")},{path:"lists/:slugOrId/edit",lazy:()=>mE("EditUserListPage")},{path:"people",lazy:()=>mE("PeopleDatatablePage")},{path:"people/new",lazy:()=>mE("CreatePersonPage")},{path:"people/:personId/edit",lazy:()=>mE("UpdatePersonPage"),children:[{index:!0,element:r.jsx(k,{to:"primary-facts",replace:!0})},{path:"primary-facts",lazy:()=>mE("PersonPrimaryFactsForm")},{path:"credits",lazy:()=>mE("PersonCreditsEditor")}]},{path:"titles",lazy:()=>mE("TitlesDatatablePage")},{path:"titles/new",lazy:()=>mE("TitlePrimaryFactsForm")},{path:"videos/:videoId/insights",lazy:()=>mE("VideoInsightsPage")},{path:"titles/:titleId/insights",lazy:()=>mE("TitleInsightsPage")},{path:"titles/:titleId/insights/seasons/:season",lazy:()=>mE("SeasonInsightsPage")},{path:"titles/:titleId/insights/seasons/:season/episodes/:episode",lazy:()=>mE("EpisodeInsightsPage")},{path:"titles/:titleId/edit",element:r.jsx(k,{to:"primary-facts",replace:!0})},{path:"titles/:titleId/edit",lazy:()=>mE("EditTitlePage"),children:[{index:!0,lazy:()=>mE("TitlePrimaryFactsForm")},{path:"primary-facts",lazy:()=>mE("TitlePrimaryFactsForm")},{path:"reviews",lazy:()=>mE("TitleReviewsEditor")},{path:"comments",lazy:()=>mE("TitleCommentsEditor")},{path:"images",lazy:()=>mE("TitleImagesEditor")},{path:"genres",lazy:()=>mE("TitleGenresEditor")},{path:"keywords",lazy:()=>mE("TitleKeywordsEditor")},{path:"countries",lazy:()=>mE("TitleCountriesEditor")},{path:"cast",lazy:()=>mE("TitleCastEditor")},{path:"crew",lazy:()=>mE("TitleCrewEditor")},{path:"videos",lazy:()=>mE("TitleVideosEditor")},{path:"videos/seasons/:season",lazy:()=>mE("TitleVideosEditor")},{path:"videos/seasons/:season/episodes/:episode",lazy:()=>mE("TitleVideosEditor")},{path:"seasons",lazy:()=>mE("TitleSeasonsEditor")},{path:"seasons/:season",children:[{index:!0,element:r.jsx(k,{to:"episodes",replace:!0})},{path:"Episodes",lazy:()=>mE("SeasonEditorEpisodeList")},{path:"cast",lazy:()=>mE("SeasonCastEditor")},{path:"crew",lazy:()=>mE("SeasonCrewEditor")}]},{path:"seasons/:season/episodes/new",lazy:()=>mE("EpisodePrimaryFactsForm")},{path:"seasons/:season/episodes/:episode",children:[{index:!0,element:r.jsx(k,{to:"primary-facts",replace:!0})},{path:"primary-facts",lazy:()=>mE("EpisodePrimaryFactsForm")},{path:"cast",lazy:()=>mE("EpisodeCastEditor")},{path:"crew",lazy:()=>mE("EpisodeCrewEditor")}]}]},{path:"titles/:titleId/edit/videos/new",lazy:()=>mE("CreateVideoPage")},{path:"titles/:titleId/edit/videos/edit/:videoId",lazy:()=>mE("EditVideoPage")},{path:"titles/:titleId/edit/videos/seasons/:season/new",lazy:()=>mE("CreateVideoPage")},{path:"titles/:titleId/edit/videos/seasons/:season/edit/:videoId",lazy:()=>mE("EditVideoPage")},{path:"titles/:titleId/edit/videos/seasons/:season/episodes/:episode/new",lazy:()=>mE("CreateVideoPage")},{path:"titles/:titleId/edit/videos/seasons/:season/episodes/:episode/edit/:videoId",lazy:()=>mE("EditVideoPage")},{path:"news",lazy:()=>mE("NewsDatatablePage")},{path:"news/add",lazy:()=>mE("CreateNewsArticlePage")},{path:"news/:articleId/edit",lazy:()=>mE("EditNewsArticlePage")},{path:"comments",lazy:()=>mE("CommentsDatatablePage")},{path:"reviews",lazy:()=>mE("ReviewsDatatablePage")},{path:"videos",lazy:()=>mE("VideosDatatablePage")},{path:"videos/new",lazy:()=>mE("CreateVideoPage")},{path:"videos/:videoId/edit",lazy:()=>mE("EditVideoPage")},{path:"keywords",lazy:()=>mE("TitleKeywordsDatatablePage")},{path:"genres",lazy:()=>mE("TitleGenresDatatablePage")}],vE={preview:{defaultRoute:"/",navigationRoutes:["/"]},sections:{"landing-page":{label:ln("Landing Page"),position:1,previewRoute:"landing",routes:[{path:"landing-page",lazy:()=>mE("LandingPageAppearanceForm"),children:[{index:!0,lazy:()=>mE("LandingPageSectionGeneral")},{path:"action-buttons",lazy:()=>mE("LandingPageSectionActionButtons")},{path:"primary-features",lazy:()=>mE("LandingPageSectionPrimaryFeatures")},{path:"secondary-features",lazy:()=>mE("LandingPageSecondaryFeatures")}]}]},menus:{config:{positions:["sidebar-primary","sidebar-secondary","mobile-bottom","landing-page-navbar","landing-page-footer"],availableRoutes:["/lists","/watchlist","/admin/channels","/admin/comments"]}},"seo-settings":{config:{pages:[{key:"title-page",label:ln("Title page")},{key:"season-page",label:ln("Season page")},{key:"episode-page",label:ln("Episode page")},{key:"watch-page",label:ln("Watch page")},{key:"person-page",label:ln("Person page")},{key:"landing-page",label:ln("Landing page")},{key:"news-article-page",label:ln("News article page")},{key:"channel-page",label:ln("Channel page")}]}}}},yE=[{path:"search",lazy:()=>mE("SearchSettings")},{path:"videos",lazy:()=>mE("VideoSettings")},{path:"content",lazy:()=>mE("ContentSettings")}],bE=[{path:"admin",loader:()=>jv({permission:"admin.access"}),lazy:()=>mE("AdminLayout"),children:[...gE,{index:!0,lazy:()=>h((()=>import("./admin-report-page-94b36972.js")),["./admin-report-page-94b36972.js","./vendor-query-78cda8b8.js","./vendor-core-56622d1d.js","./visitors-report-charts-9f0eb2ae.js","./formatted-duration-8d56a4f7.js","./vendor-ui-7d465812.js","./vendor-form-c566d70e.js"],import.meta.url)},{path:"users",loader:()=>jv({permission:"users.update"}),lazy:()=>mE("UserDatatable")},{path:"users/:userId",loader:()=>jv({permission:"users.update"}),lazy:()=>mE("UpdateUserPage"),children:[{index:!0,element:r.jsx(k,{to:"details",replace:!0})},{path:"details",lazy:()=>mE("UpdateUserDetailsTab")},{path:"permissions",lazy:()=>mE("UpdateUserPermissionsTab")},{path:"security",lazy:()=>mE("UpdateUserSecurityTab")},{path:"date",lazy:()=>mE("UpdateUserDatetimeTab")},{path:"api",lazy:()=>mE("UpdateUserApiTab")}]},{path:"roles",loader:()=>jv({permission:"roles.update"}),lazy:()=>mE("RolesIndexPage")},{path:"roles/new",loader:()=>jv({permission:"roles.update"}),lazy:()=>mE("CreateRolePage")},{path:"roles/:roleId/edit",loader:()=>jv({permission:"roles.update"}),lazy:()=>mE("EditRolePage")},{path:"subscriptions",loader:()=>jv({permission:"subscriptions.update"}),lazy:()=>mE("SubscriptionsIndexPage")},{path:"plans",loader:()=>jv({permission:"plans.update"}),lazy:()=>mE("PlansIndexPage")},{path:"plans/new",loader:()=>jv({permission:"plans.update"}),lazy:()=>mE("CreatePlanPage")},{path:"plans/:productId/edit",loader:()=>jv({permission:"plans.update"}),lazy:()=>mE("EditPlanPage")},{path:"custom-pages",loader:()=>jv({permission:"custom_pages.update"}),lazy:()=>mE("CustomPageDatablePage")},{path:"custom-pages/new",loader:()=>jv({permission:"custom_pages.update"}),lazy:()=>mE("CreateCustomPage")},{path:"custom-pages/:pageId/edit",loader:()=>jv({permission:"custom_pages.update"}),lazy:()=>mE("EditCustomPage")},{path:"tags",loader:()=>jv({permission:"tags.update"}),lazy:()=>mE("TagIndexPage")},{path:"localizations",loader:()=>jv({permission:"localizations.update"}),lazy:()=>mE("LocalizationIndex")},{lazy:()=>mE("TranslationManagementPage"),path:"localizations/:localeId/translate"},{path:"files",loader:()=>jv({permission:"files.update"}),lazy:()=>mE("FileEntryIndexPage")},{path:"ads",loader:()=>jv({permission:"settings.update"}),lazy:()=>mE("AdsPage")},{path:"settings",loader:()=>jv({permission:"settings.update"}),lazy:()=>mE("AdminSettingsPage"),children:[{index:!0,element:r.jsx(k,{to:"general",replace:!0})},{path:"general",lazy:()=>mE("GeneralSettings")},{path:"subscriptions",lazy:()=>mE("SubscriptionSettings")},{path:"localization",lazy:()=>mE("LocalizationSettings")},{path:"authentication",lazy:()=>mE("AuthenticationSettings")},{path:"uploading",lazy:()=>mE("UploadingSettings")},{path:"outgoing-email",lazy:()=>mE("OutgoingEmailSettings")},{path:"cache",lazy:()=>mE("CacheSettings")},{path:"analytics",lazy:()=>mE("ReportsSettings")},{path:"logging",lazy:()=>mE("LoggingSettings")},{path:"queue",lazy:()=>mE("QueueSettings")},{path:"websockets",lazy:()=>mE("WebsocketSettings")},{path:"recaptcha",lazy:()=>mE("RecaptchaSettings")},{path:"gdpr",lazy:()=>mE("GdprSettings")},...yE]},{path:"logs",loader:()=>jv({permission:"logs.view"}),lazy:()=>mE("LogsPage"),children:[{index:!0,lazy:()=>mE("ScheduleLogDatatable")},{path:"schedule",lazy:()=>mE("ScheduleLogDatatable")},{path:"error",lazy:()=>mE("ErrorLogDatatable")},{path:"outgoing-email",lazy:()=>mE("OutgoingEmailLogDatatable")}]}]},{path:"admin/appearance",loader:()=>jv({permission:"appearance.update"}),lazy:()=>mE("AppearanceEditorPage"),children:[{index:!0,lazy:()=>mE("SectionList")},{path:"general",lazy:()=>mE("GeneralSection")},{path:"seo-settings",lazy:()=>mE("SeoSection")},{path:"custom-code",lazy:()=>mE("CustomCodeSection")},{path:"themes",lazy:()=>mE("ThemeEditorForm"),children:[{index:!0,lazy:()=>mE("ThemeList")},{path:":themeIndex",lazy:()=>mE("ThemeEditor")},{path:":themeIndex/font",lazy:()=>mE("ThemeFontPanel")},{path:":themeIndex/radius",lazy:()=>mE("ThemeRadiusPanel")}]},{path:"menus",lazy:()=>mE("MenuEditorForm"),children:[{index:!0,lazy:()=>mE("MenuList")},{path:":menuIndex",lazy:()=>mE("AppearanceMenuEditor")},{path:":menuIndex/:menuItemIndex",lazy:()=>mE("AppearanceMenuItemEditor")}]},...Object.values(vE.sections).flatMap((e=>e.routes||[]))]}];function xE(){return Bl.isLoggedIn?Bl.isLoggedIn&&Bl.isSubscribed?S("/billing"):null:S("/register")}const wE=async e=>({Component:(await h((()=>import("./checkout-routes.lazy-f33a169e.js")),["./checkout-routes.lazy-f33a169e.js","./vendor-query-78cda8b8.js","./vendor-core-56622d1d.js","./vendor-ui-7d465812.js","./billing-redirect-message-86584d05.js","./TaskAlt-f55d509f.js","./vendor-form-c566d70e.js"],import.meta.url))[e]}),_E=[{path:"checkout/:productId/:priceId",loader:()=>xE(),lazy:()=>wE("Checkout")},{path:"checkout/:productId/:priceId/stripe/done",loader:()=>xE(),lazy:()=>wE("CheckoutStripeDone")},{path:"checkout/:productId/:priceId/paypal/done",loader:()=>xE(),lazy:()=>wE("CheckoutPaypalDone")}];const jE="billing/products";function EE(e){return s({queryKey:[jE],queryFn:()=>sn.get(jE).then((e=>({products:e.data.pagination.data}))),initialData:()=>{var t;if(e)return null==(t=Ms().loaders)?void 0:t[e]}})}const SE=ri(r.jsx("path",{d:"M15 4v7H5.17L4 12.17V4h11m1-2H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm5 4h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1z"}),"ForumOutlined"),kE=p.forwardRef(((e,t)=>{const{children:n,autoFocus:s,size:i,invalid:o,isFirst:a,display:l="inline-flex",...c}=e,u=Ns(t);du({autoFocus:s},u);const d=function(e){switch(e){case"xs":return{circle:"h-12 w-12",label:"text-xs"};case"sm":return{circle:"h-16 w-16",label:"text-sm"};case"lg":return{circle:"h-24 w-24",label:"text-lg"};default:return{circle:"h-20 w-20",label:"text-base"}}}(i);return r.jsxs("label",{className:N("select-none items-center gap-8 whitespace-nowrap align-middle",l,d.label,e.disabled&&"pointer-events-none text-disabled",e.invalid&&"text-danger"),children:[r.jsx("input",{type:"radio",className:N("outline-none focus-visible:ring","appearance-none rounded-full border-2 transition-button","border-text-muted checked:border-primary checked:hover:border-primary-dark disabled:border-disabled-fg","before:bg-primary before:hover:bg-primary-dark disabled:before:bg-disabled-fg","before:block before:h-full before:w-full before:scale-10 before:rounded-full before:opacity-0 before:transition before:duration-200","checked:before:scale-[.65] checked:before:opacity-100",d.circle),ref:u,...c}),n&&r.jsx("span",{children:n})]})}));function CE(e){const{field:{onChange:t,onBlur:n,value:s,ref:i},fieldState:{invalid:o}}=$({name:e.name}),a={onChange:t,onBlur:n,checked:e.value===s,invalid:e.invalid||o};return r.jsx(kE,{ref:i,...ws(a,e)})}const TE=p.forwardRef(((e,t)=>{const n=nu(e),{label:s,children:i,size:o,className:a,orientation:l="horizontal",disabled:c,required:u,invalid:d,errorMessage:h,description:f}=e,m=p.useId(),g=e.name||m;return r.jsxs("fieldset",{"aria-describedby":f?`${m}-description`:void 0,ref:t,className:N("text-left",a),children:[s&&r.jsx("legend",{className:n.label,children:s}),r.jsx("div",{className:N("flex",s?"mt-6":"mt-0","vertical"===l?"flex-col gap-10":"flex-row flex-wrap gap-16"),children:p.Children.map(i,(e=>{if(p.isValidElement(e))return p.cloneElement(e,{name:g,size:o,invalid:e.props.invalid||d||void 0,disabled:e.props.disabled||c,required:e.props.required||u})}))}),f&&!h&&r.jsx("div",{className:n.description,id:`${m}-description`,children:f}),h&&r.jsx("div",{className:n.error,children:h})]})}));function NE({children:e,...t}){const{fieldState:{error:n}}=$({name:t.name});return r.jsx(TE,{errorMessage:null==n?void 0:n.message,...t,children:e})}function PE(e,t){if("monthly"===e){const e=function(e){return e.find((e=>"day"===e.interval&&e.interval_count>=30||"month"===e.interval&&e.interval_count>=1?e:void 0))}(t);if(e)return e}if("yearly"===e){const e=function(e){return e.find((e=>"month"===e.interval&&e.interval_count>=12||"year"===e.interval&&e.interval_count>=1?e:void 0))}(t);if(e)return e}return t[0]}const OE=p.memo((({products:e})=>{const t=function(e){if(!(null==e?void 0:e.length))return 0;const t=e.map((e=>{if(e.hidden)return 0;const t=PE("monthly",e.prices),n=PE("yearly",e.prices);if(!t||!n)return 0;const r=12*t.amount,s=n.amount,i=Math.round((r-s)/r*100);return i>0&&i<=200?i:0}));return Math.max(Math.max(...t),0)}(e);return t<=0?null:r.jsx(p.Fragment,{children:r.jsxs("span",{className:"font-medium text-positive-darker",children:[" ","(",r.jsx(di,{message:"Save up to :percentage%",values:{percentage:t}}),")"]})})}));function RE({selectedCycle:e,onChange:t,products:n,...s}){return r.jsxs(TE,{...s,children:[r.jsxs(kE,{value:"yearly",checked:"yearly"===e,onChange:e=>{t(e.target.value)},children:[r.jsx(di,{message:"Annual"}),r.jsx(OE,{products:n})]}),r.jsx(kE,{value:"monthly",checked:"monthly"===e,onChange:e=>{t(e.target.value)},children:r.jsx(di,{message:"Monthly"})})]})}const IE=p.memo((({value:e,currency:t})=>{const n=bc({style:"currency",currency:t,currencyDisplay:"narrowSymbol"});return isNaN(e)&&(e=0),r.jsx(p.Fragment,{children:n.format(e)})}));function AE({price:e,variant:t="slash",className:n,priceClassName:s,periodClassName:i}){if(!e)return null;const o=r.jsx(di,{message:e.interval});return r.jsxs("div",{className:N("flex items-center gap-6",n),children:[r.jsx("div",{className:s,children:r.jsx(IE,{value:e.amount/(e.interval_count??1),currency:e.currency})}),"slash"===t?r.jsxs("div",{className:i,children:[" / ",o]}):r.jsxs("div",{className:i,children:[r.jsx(di,{message:"per"})," ",r.jsx("br",{})," ",o]})]})}function zE({product:e}){return e.feature_list.length?r.jsxs("div",{className:"mt-32 border-t pt-24",children:[r.jsx("div",{className:"mb-10 text-sm font-semibold",children:r.jsx(di,{message:"What's included"})}),e.feature_list.map((e=>r.jsxs("div",{className:"flex items-center gap-10 py-6 text-sm",children:[r.jsx(Hc,{className:"text-primary",size:"sm"}),r.jsx(di,{message:e})]},e)))]}):null}function LE({selectedCycle:e,className:t,productLoader:n}){const s=EE(n);return r.jsx("div",{className:N("flex flex-col items-stretch gap-24 overflow-x-auto overflow-y-visible pb-20 md:flex-row md:justify-center",t),children:r.jsx(D,{initial:!1,mode:"wait",children:s.data?r.jsx(DE,{plans:s.data.products,selectedPeriod:e},"plan-list"):r.jsx(ME,{},"skeleton-loader")})})}function DE({plans:e,selectedPeriod:t}){const{isLoggedIn:n,isSubscribed:s}=ql(),i=e.filter((e=>!e.hidden));return r.jsx(p.Fragment,{children:i.map(((e,o)=>{const a=0===o,l=o===i.length-1,c=PE(t,e.prices);let u;return n||(u="/register?redirectFrom=pricing"),s&&(u=`/change-plan/${e.id}/${null==c?void 0:c.id}/confirm`),n&&!e.free&&(u=`/checkout/${e.id}/${null==c?void 0:c.id}`),r.jsxs(M.div,{...Oc,className:N("w-full rounded-panel border bg px-28 py-28 shadow-lg md:min-w-240 md:max-w-350",a&&"ml-auto",l&&"mr-auto"),children:[r.jsxs("div",{className:"mb-32",children:[r.jsx(co,{radius:"rounded",size:"sm",className:N("mb-20 w-min",!e.recommended&&"invisible"),children:r.jsx(di,{message:"Most popular"})}),r.jsx("div",{className:"mb-12 text-xl font-semibold",children:r.jsx(di,{message:e.name})}),r.jsx("div",{className:"text-sm text-muted",children:r.jsx(di,{message:e.description})})]}),r.jsxs("div",{children:[c?r.jsx(AE,{priceClassName:"font-bold text-4xl",periodClassName:"text-muted text-xs",variant:"separateLine",price:c}):r.jsx("div",{className:"text-4xl font-bold",children:r.jsx(di,{message:"Free"})}),r.jsx("div",{className:"mt-60",children:r.jsx(mo,{variant:e.recommended?"flat":"outline",color:"primary",className:"w-full",size:"md",elementType:u?y:void 0,disabled:!u,onClick:()=>{!n&&c&&e&&Fl("be.onboarding.selected",{productId:e.id,priceId:c.id})},to:u,children:e.free?r.jsx(di,{message:"Get started"}):r.jsx(di,{message:"Upgrade"})})}),r.jsx(zE,{product:e})]})]},e.id)}))})}function ME(){return r.jsxs(p.Fragment,{children:[r.jsx(UE,{},"skeleton-1"),r.jsx(UE,{},"skeleton-2"),r.jsx(UE,{},"skeleton-3")]})}function UE(){return r.jsxs(M.div,{...Oc,className:"w-full rounded-lg border px-28 py-90 shadow-lg md:max-w-350",children:[r.jsx(Oj,{className:"my-10"}),r.jsx(Oj,{className:"mb-40"}),r.jsx(Oj,{className:"mb-40 h-30"}),r.jsx(Oj,{className:"mb-40 h-40"}),r.jsx(Oj,{className:"mb-20"}),r.jsx(Oj,{}),r.jsx(Oj,{})]})}function FE(){var e;const t=EE("pricingPage"),[n,s]=p.useState("yearly");return r.jsxs(p.Fragment,{children:[r.jsx(uy,{children:r.jsx(di,{message:"Pricing"})}),r.jsx(Yy,{color:"bg",darkModeColor:"transparent",border:"border-b",menuPosition:"pricing-table-page"}),r.jsxs("div",{className:"container mx-auto px-24",children:[r.jsx("h1",{className:"mb-30 mt-30 text-center text-3xl font-normal md:mt-60 md:text-4xl md:font-medium",children:r.jsx(di,{message:"Choose the right plan for you"})}),r.jsx(RE,{products:null==(e=t.data)?void 0:e.products,selectedCycle:n,onChange:s,className:"mb-40 flex justify-center md:mb-70",size:"lg"}),r.jsx(LE,{selectedCycle:n,productLoader:"pricingPage"}),r.jsx($E,{})]}),r.jsx(rE,{className:"container mx-auto flex-shrink-0 px-24"})]})}function $E(){return r.jsxs("div",{className:"my-20 p-24 text-center md:my-80",children:[r.jsx(SE,{size:"xl",className:"text-muted"}),r.jsx("div",{className:"my-8 md:text-lg",children:r.jsx(di,{message:"Do you have any questions about PRO accounts?"})}),r.jsx("div",{className:"mb-24 mt-20 text-sm md:mt-0 md:text-base",children:r.jsx(di,{message:"Our support team will be happy to assist you."})}),r.jsx(mo,{variant:"flat",color:"primary",elementType:y,to:"/contact",children:r.jsx(di,{message:"Contact us"})})]})}const qE=async e=>({Component:(await h((()=>import("./billing-page-routes.lazy-5f91c147.js")),["./billing-page-routes.lazy-5f91c147.js","./vendor-query-78cda8b8.js","./vendor-core-56622d1d.js","./CalendarToday-6bd95645.js","./use-resume-subscription-3a3ff196.js","./vendor-ui-7d465812.js","./breadcrumb-50a88f63.js","./billing-redirect-message-86584d05.js","./TaskAlt-f55d509f.js","./vendor-form-c566d70e.js"],import.meta.url))[e]}),HE=[{path:"pricing",element:r.jsx(FE,{})},{path:"billing",loader:()=>Bl.isSubscribed?null:S("/pricing"),lazy:()=>qE("BillingPageLayout"),children:[{index:!0,lazy:()=>qE("BillingPage")},{path:"change-payment-method",lazy:()=>qE("ChangePaymentMethodLayout"),children:[{index:!0,lazy:()=>qE("ChangePaymentMethodPage")},{path:"done",lazy:()=>qE("ChangePaymentMethodDone")}]},{path:"change-plan",lazy:()=>qE("ChangePlanPage")},{path:"change-plan/:productId/:priceId/confirm",lazy:()=>qE("ConfirmPlanChangePage")},{path:"cancel",lazy:()=>qE("ConfirmPlanCancellationPage")},{path:"renew",lazy:()=>qE("ConfirmPlanRenewalPage")}]}];function BE(e){const{trans:t}=Ks(),n=yl();return i({mutationFn:e=>{return t=e,sn.post("contact-page",t).then((e=>e.data));var t},onSuccess:()=>{Xr(t(ln("Your message has been submitted."))),n("/")},onError:t=>Tu(t,e)})}function VE(){const e=H(),t=BE(e),{verify:n,isVerifying:s}=ny("contact");return r.jsxs("div",{className:"flex min-h-screen flex-col bg-alt",children:[r.jsx(uy,{children:r.jsx(di,{message:"Contact us"})}),r.jsx(Yy,{className:"sticky top-0 flex-shrink-0",menuPosition:"contact-us-page"}),r.jsx("div",{className:"container mx-auto flex flex-auto items-center justify-center p-24 md:p-40",children:r.jsxs("div",{className:"max-w-620 rounded border bg-paper p-24",children:[r.jsx("h1",{className:"text-2xl",children:r.jsx(di,{message:"Contact us"})}),r.jsx("p",{className:"mb-30 mt-4 text-sm",children:r.jsx(di,{message:"Please use the form below to send us a message and we'll get back to you as soon as possible."})}),r.jsxs(ku,{form:e,onSubmit:async e=>{await n()&&t.mutate(e)},children:[r.jsx(fu,{label:r.jsx(di,{message:"Name"}),name:"name",required:!0,className:"mb-20"}),r.jsx(fu,{label:r.jsx(di,{message:"Email"}),name:"email",required:!0,type:"email",className:"mb-20"}),r.jsx(fu,{label:r.jsx(di,{message:"Message"}),name:"message",required:!0,inputElementType:"textarea",className:"mb-20",rows:8}),r.jsx(mo,{type:"submit",variant:"flat",color:"primary",disabled:t.isPending||s,children:r.jsx(di,{message:"Send"})})]})]})}),r.jsx(rE,{className:"container mx-auto flex-shrink-0 px-24"})]})}const KE=e=>`custom-pages/${e}`;function WE(e){const t=C();return e||(e=t.pageId),s({queryKey:[KE(e)],queryFn:()=>{return t=e,sn.get(KE(t)).then((e=>e.data));var t},initialData:()=>{var t;const n=null==(t=Ms().loaders)?void 0:t.customPage;if((null==n?void 0:n.page)&&(n.page.id==e||n.page.slug==e))return n}})}function YE({page:e}){const t=p.useRef(null);return p.useEffect((()=>{t.current&&function(e,t="dark"){e.querySelectorAll("pre code").forEach((e=>{ho(e,t)}))}(t.current)}),[]),r.jsx("div",{className:"px-16 md:px-24",children:r.jsxs("div",{className:"custom-page-body prose mx-auto my-50 dark:prose-invert",children:[r.jsx("h1",{children:e.title}),r.jsx("div",{ref:t,className:"whitespace-pre-wrap break-words",dangerouslySetInnerHTML:{__html:e.body}})]})})}function GE(){const{default_meta_tags:e}=Ds((e=>e.data));return r.jsx(ly,{tags:e})}function JE({query:e}){var t,n;return(null==(t=e.data)?void 0:t.set_seo)?null:(null==(n=e.data)?void 0:n.seo)?r.jsx(ly,{tags:e.data.seo}):r.jsx(GE,{})}const ZE={delay:500,minDuration:200};function XE({query:e,show404:t=!0,loader:n,loaderClassName:s,loaderIsScreen:i=!0,delayedSpinner:o=!0,redirectOn404:a,isLoading:l}){const{isLoggedIn:c}=ql(),u=function(e,t){t=Object.assign({},ZE,t);const[n,r]=p.useState("IDLE"),s=p.useRef(null);return p.useEffect((()=>{e&&"IDLE"===n&&(clearTimeout(s.current),s.current=setTimeout((()=>{if(!e)return r("IDLE");s.current=setTimeout((()=>{r("EXPIRE")}),null==t?void 0:t.minDuration),r("DISPLAY")}),null==t?void 0:t.delay),r("DELAY")),e||"DISPLAY"===n||(clearTimeout(s.current),r("IDLE"))}),[e,n,t.delay,t.minDuration]),p.useEffect((()=>()=>clearTimeout(s.current)),[]),"DISPLAY"===n||"EXPIRE"===n}(l=l??e.isLoading,{delay:500,minDuration:200});return l?!u&&o?null:n||r.jsx(Pu,{className:s,screen:i}):e.isError&&(nn(e.error,401)||nn(e.error,403))&&!c?r.jsx(k,{to:"/login",replace:!0}):t&&e.isError&&nn(e.error,404)?a?r.jsx(k,{to:a,replace:!0}):r.jsx(Du,{}):r.jsx(Uu,{})}function QE({slug:e}){const{pageSlug:t}=C(),n=WE(e||t);return p.useEffect((()=>{var e;(null==(e=n.data)?void 0:e.page)&&window.scrollTo(0,0)}),[n]),r.jsxs("div",{className:"flex min-h-screen flex-col bg",children:[r.jsx(JE,{query:n}),r.jsx(Yy,{menuPosition:"custom-page-navbar",className:"sticky top-0 flex-shrink-0"}),r.jsx("div",{className:"flex-auto",children:n.data?r.jsx(YE,{page:n.data.page}):r.jsx(XE,{query:n,loaderClassName:"mt-80"})}),r.jsx(rE,{className:"mx-14 md:mx-40"})]})}const eS=[{path:"contact",element:r.jsx(VE,{})},{path:"pages/:pageSlug",element:r.jsx(QE,{})},{path:"pages/:pageId/:pageSlug",element:r.jsx(QE,{})},{path:"404",element:r.jsx(Du,{})}],tS=async e=>({Component:(await h((()=>import("./site-routes.lazy-e1395b41.js")),["./site-routes.lazy-e1395b41.js","./vendor-query-78cda8b8.js","./vendor-core-56622d1d.js","./video-grid-3e80e058.js","./vendor-form-c566d70e.js","./vendor-ui-7d465812.js","./breadcrumb-50a88f63.js","./formatted-duration-8d56a4f7.js","./BookmarkBorder-1bee3cf0.js","./linkify.es-e9d8dec9.js"],import.meta.url))[e]}),nS=[{loader:()=>jv({permission:"titles.view",requireLogin:!1}),children:[{index:!0,lazy:()=>tS("Homepage")},{path:"landing",lazy:()=>tS("LandingPage")},{path:"search",lazy:()=>tS("SearchPage")},{path:"search/:query",lazy:()=>tS("SearchPage")},{path:"watch/:videoId",lazy:()=>tS("WatchPage")},{path:"titles/:titleId/:titleSlug",lazy:()=>tS("TitlePage")},{path:"titles/:titleId/:titleSlug/videos",lazy:()=>tS("TitleVideosPage")},{path:"titles/:titleId/:titleSlug/images",lazy:()=>tS("TitleImagesPage")},{path:"titles/:titleId/:titleSlug/full-credits",lazy:()=>tS("TitleFullCreditsPage")},{path:"titles/:titleId/:titleSlug/season/:season",lazy:()=>tS("SeasonPage")},{path:"titles/:titleId/:titleSlug/season/:season/episode/:episode",lazy:()=>tS("EpisodePage")},{path:"titles/:titleId/:titleSlug/season/:season/episode/:episode/full-credits",lazy:()=>tS("EpisodeFullCreditsPage")},{path:"titles/:titleId/:titleSlug/season/:season/episode/:episode/videos",lazy:()=>tS("EpisodeVideosPage")},{path:"people/:personId",lazy:()=>tS("PersonPage")},{path:"people/:personId/:personSlug",lazy:()=>tS("PersonPage")},{path:"news/:articleId",lazy:()=>tS("NewsArticlePage")},{path:"user/:userId/:slug",lazy:()=>tS("UserProfilePage"),children:[{index:!0,lazy:()=>tS("ProfileListsPanel")},{path:"lists",lazy:()=>tS("ProfileListsPanel")},{path:"ratings",lazy:()=>tS("ProfileRatingsPanel")},{path:"reviews",lazy:()=>tS("ProfileReviewsPanel")},{path:"comments",lazy:()=>tS("ProfileCommentsPanel")},{path:"followers",lazy:()=>tS("ProfileFollowersPanel")},{path:"followed-users",lazy:()=>tS("ProfileFollowedUsersPanel")}]},{path:"user/:userId/:slug/:tab",lazy:()=>tS("UserProfilePage")},{path:"lists",loader:()=>jv(),lazy:()=>tS("UserListsIndexPage")},{path:"lists/new",loader:()=>jv(),lazy:()=>tS("SiteCreateUserListPage")},{path:"lists/:slugOrId",lazy:()=>tS("ListChannelPage")},{path:"lists/:slugOrId/edit",loader:()=>jv(),lazy:()=>tS("SiteEditUserListPage")},{path:":slugOrId",lazy:()=>tS("ChannelPage")},{path:"channel/:slugOrId",lazy:()=>tS("ChannelPage")},{path:":slugOrId/:restriction",lazy:()=>tS("ChannelPage")},{path:"channel/:slugOrId/:restriction",lazy:()=>tS("ChannelPage")}]}],rS=x([{id:"root",element:r.jsx(Vu,{}),errorElement:r.jsx(Ku,{}),hydrateFallbackElement:r.jsx(Pu,{screen:!0}),children:[...eE,...fE,...bE,..._E,...HE,...eS,...nS,{path:"api-docs",loader:()=>jv({permission:"api.access",requireLogin:!1}),lazy:()=>h((()=>import("./swagger-api-docs-page-13e7ebe0.js")),["./swagger-api-docs-page-13e7ebe0.js","./vendor-query-78cda8b8.js","./vendor-core-56622d1d.js","./index-23e8bf1c.js","./vendor-form-c566d70e.js","./vendor-ui-7d465812.js","./swagger-api-docs-page-34ffaf07.css"],import.meta.url)}]}],{basename:Ms().settings.html_base_uri}),sS=Ms(),iS=sS.settings.logging.sentry_public;iS&&function(e){const t={...e};Qf(t,"react"),xv(t)}({dsn:iS,integrations:[new xg],tracesSampleRate:.2,ignoreErrors:wv,release:sS.sentry_release}),B(to).render(r.jsx(Hu,{router:rS}));export{Mu as $,ju as A,mo as B,oc as C,qs as D,po as E,rE as F,gu as G,Kc as H,ei as I,ss as J,an as K,tE as L,mu as M,Yy as N,Ly as O,zE as P,ri as Q,ej as R,uy as S,di as T,Ex as U,Uv as V,Fv as W,fl as X,rb as Y,JE as Z,hu as _,sn as a,Ll as a$,tu as a0,XE as a1,us as a2,Cu as a3,Ev as a4,Ms as a5,Cc as a6,Ns as a7,Ay as a8,yu as a9,si as aA,Do as aB,LE as aC,Hy as aD,Fl as aE,hy as aF,fy as aG,xy as aH,Ny as aI,kc as aJ,Ul as aK,Rs as aL,Rc as aM,bc as aN,U_ as aO,Yr as aP,S_ as aQ,nn as aR,Ea as aS,Ko as aT,pl as aU,V_ as aV,Wa as aW,ws as aX,nb as aY,vE as aZ,rr as a_,Y_ as aa,lo as ab,qy as ac,Uu as ad,Qs as ae,ku as af,fu as ag,Ml as ah,As as ai,ai as aj,Tu as ak,D_ as al,Gs as am,li as an,pi as ao,b_ as ap,I_ as aq,F_ as ar,Tv as as,Ls as at,tn as au,Hj as av,Qj as aw,dy as ax,QE as ay,GE as az,AE as b,Yc as b$,eb as b0,tb as b1,my as b2,Kr as b3,zc as b4,Sv as b5,Ds as b6,nu as b7,Vi as b8,NE as b9,B_ as bA,ij as bB,L_ as bC,$j as bD,pb as bE,xj as bF,ey as bG,yy as bH,du as bI,i_ as bJ,yb as bK,TE as bL,kE as bM,q_ as bN,yc as bO,al as bP,Vs as bQ,Ya as bR,Pl as bS,Al as bT,bs as bU,_s as bV,Xs as bW,Ri as bX,Ii as bY,jy as bZ,Fc as b_,CE as ba,K_ as bb,e_ as bc,Iv as bd,pu as be,lu as bf,dc as bg,mb as bh,gb as bi,N_ as bj,fo as bk,Co as bl,x_ as bm,C_ as bn,yn as bo,__ as bp,Zw as bq,Xi as br,Es as bs,yo as bt,vo as bu,WE as bv,Qc as bw,zl as bx,To as by,_u as bz,X_ as c,Nc as c0,Zc as c1,hc as c2,My as c3,rc as c4,to as c5,Pn as c6,Wr as c7,g_ as c8,Gw as c9,pc as cA,gj as cB,ab as cC,ky as cD,lb as cE,Ty as cF,Ao as cG,SE as cH,Ro as cI,ib as cJ,Cy as cK,nE as cL,_y as cM,Ey as cN,Io as cO,sb as cP,vj as cQ,yj as cR,oi as cS,Pv as cT,Ka as ca,Jo as cb,ta as cc,la as cd,ca as ce,na as cf,ra as cg,sa as ch,ia as ci,Ki as cj,tl as ck,Ca as cl,ha as cm,pa as cn,Wo as co,Zo as cp,aa as cq,oa as cr,Go as cs,Yo as ct,da as cu,vu as cv,Sy as cw,k_ as cx,ob as cy,Zv as cz,Tn as d,IE as e,Oj as f,EE as g,Pu as h,yl as i,wu as j,xc as k,W_ as l,ln as m,co as n,Oc as o,zo as p,rn as q,$l as r,RE as s,PE as t,bl as u,Hc as v,Ks as w,Xr as x,Po as y,ql as z};
